  [1m[35m (2.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ (erb):38:in `migration_template'
  [1m[35m (2.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (23.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (18.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseTokenAuthCreateUsers (20240418030430)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "provider" varchar DEFAULT 'email' NOT NULL, "uid" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "name" varchar, "email" varchar, "tokens" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_uid_and_provider" ON "users" ("uid", "provider")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240418030430"]]
  [1m[35m (25.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2024-04-19 07:36:13.334750"], ["updated_at", "2024-04-19 07:36:13.334750"]]
  [1m[35m (7.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2024-04-19 16:57:16 +0900
  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering vendor/bundle/ruby/2.7.0/gems/railties-6.0.6.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered vendor/bundle/ruby/2.7.0/gems/railties-6.0.6.1/lib/rails/templates/rails/welcome/index.html.erb (Duration: 25.4ms | Allocations: 412)
Completed 200 OK in 70ms (Views: 42.3ms | ActiveRecord: 0.0ms | Allocations: 3575)


Started GET "/favicon.ico" for 127.0.0.1 at 2024-04-19 16:57:16 +0900
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2024-04-19 16:57:31 +0900
Processing by Rails::WelcomeController#index as */*
  Rendering vendor/bundle/ruby/2.7.0/gems/railties-6.0.6.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered vendor/bundle/ruby/2.7.0/gems/railties-6.0.6.1/lib/rails/templates/rails/welcome/index.html.erb (Duration: 8.3ms | Allocations: 181)
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 0.0ms | Allocations: 780)


Started POST "/auth" for 127.0.0.1 at 2024-04-19 16:58:34 +0900
  
ActionController::RoutingError (uninitialized constant Auth::RegistrationsController
Did you mean?  Auth::RegistrastionsController):
  
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:92:in `rescue in controller_class_for'
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:88:in `controller_class_for'
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:44:in `controller'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/routing/mapper.rb:18:in `block in <class:Constraints>'
actionpack (6.0.6.1) lib/action_dispatch/routing/mapper.rb:48:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
activerecord (6.0.6.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/auth" for ::1 at 2024-04-19 16:58:57 +0900
  
ActionController::RoutingError (uninitialized constant Auth::RegistrationsController
Did you mean?  Auth::RegistrastionsController):
  
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:92:in `rescue in controller_class_for'
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:88:in `controller_class_for'
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:44:in `controller'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/routing/mapper.rb:18:in `block in <class:Constraints>'
actionpack (6.0.6.1) lib/action_dispatch/routing/mapper.rb:48:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
activerecord (6.0.6.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/auth" for ::1 at 2024-04-19 16:59:49 +0900
  
ActionController::RoutingError (uninitialized constant Auth::RegistrationsController
Did you mean?  Auth::RegistrastionsController):
  
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:92:in `rescue in controller_class_for'
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:88:in `controller_class_for'
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:44:in `controller'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/routing/mapper.rb:18:in `block in <class:Constraints>'
actionpack (6.0.6.1) lib/action_dispatch/routing/mapper.rb:48:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
activerecord (6.0.6.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/auth" for ::1 at 2024-04-19 16:59:52 +0900
  
ActionController::RoutingError (No route matches [GET] "/auth"):
  
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/favicon.ico" for ::1 at 2024-04-19 16:59:53 +0900
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for ::1 at 2024-04-19 16:59:58 +0900
Processing by Rails::WelcomeController#index as HTML
  Rendering vendor/bundle/ruby/2.7.0/gems/railties-6.0.6.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered vendor/bundle/ruby/2.7.0/gems/railties-6.0.6.1/lib/rails/templates/rails/welcome/index.html.erb (Duration: 0.6ms | Allocations: 8)
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.0ms | Allocations: 363)


Started POST "/" for ::1 at 2024-04-19 17:00:04 +0900
  
ActionController::RoutingError (No route matches [POST] "/"):
  
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for ::1 at 2024-04-19 17:00:12 +0900
Processing by Rails::WelcomeController#index as */*
  Rendering vendor/bundle/ruby/2.7.0/gems/railties-6.0.6.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered vendor/bundle/ruby/2.7.0/gems/railties-6.0.6.1/lib/rails/templates/rails/welcome/index.html.erb (Duration: 0.4ms | Allocations: 7)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms | Allocations: 244)


Started GET "/auth" for ::1 at 2024-04-19 17:00:20 +0900
  
ActionController::RoutingError (No route matches [GET] "/auth"):
  
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/auth" for ::1 at 2024-04-19 17:02:08 +0900
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (uninitialized constant Auth::RegistrationsController
Did you mean?  Auth::RegistrastionsController):
  
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:92:in `rescue in controller_class_for'
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:88:in `controller_class_for'
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:44:in `controller'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/routing/mapper.rb:18:in `block in <class:Constraints>'
actionpack (6.0.6.1) lib/action_dispatch/routing/mapper.rb:48:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
activerecord (6.0.6.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for ::1 at 2024-04-19 17:02:39 +0900
Processing by Rails::WelcomeController#index as HTML
  Rendering vendor/bundle/ruby/2.7.0/gems/railties-6.0.6.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered vendor/bundle/ruby/2.7.0/gems/railties-6.0.6.1/lib/rails/templates/rails/welcome/index.html.erb (Duration: 25.2ms | Allocations: 300)
Completed 200 OK in 64ms (Views: 46.0ms | ActiveRecord: 0.0ms | Allocations: 2449)


Started GET "/auth" for ::1 at 2024-04-19 17:02:42 +0900
  
ActionController::RoutingError (No route matches [GET] "/auth"):
  
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/rails/info/routes?path=a" for ::1 at 2024-04-19 17:02:45 +0900
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"a"}
Completed 200 OK in 8ms (Views: 1.0ms | ActiveRecord: 0.0ms | Allocations: 2384)


Started GET "/rails/info/routes?path=a" for ::1 at 2024-04-19 17:02:47 +0900
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"a"}
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.0ms | Allocations: 1294)


Started POST "/auth" for ::1 at 2024-04-19 17:06:39 +0900
  
ActionController::RoutingError (uninitialized constant Auth::RegistrationsController
Did you mean?  Auth::RegistrastionsController):
  
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:92:in `rescue in controller_class_for'
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:88:in `controller_class_for'
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:44:in `controller'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/routing/mapper.rb:18:in `block in <class:Constraints>'
actionpack (6.0.6.1) lib/action_dispatch/routing/mapper.rb:48:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
activerecord (6.0.6.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/auth" for ::1 at 2024-04-19 17:08:41 +0900
  
ActionController::RoutingError (uninitialized constant Auth::RegistrationsController
Did you mean?  Auth::RegistrastionsController):
  
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:92:in `rescue in controller_class_for'
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:88:in `controller_class_for'
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:44:in `controller'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/routing/mapper.rb:18:in `block in <class:Constraints>'
actionpack (6.0.6.1) lib/action_dispatch/routing/mapper.rb:48:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
activerecord (6.0.6.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/auth" for ::1 at 2024-04-19 17:11:07 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
ActionController::RoutingError (uninitialized constant Auth::RegistrationsController
Did you mean?  Auth::RegistrastionsController):
  
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:92:in `rescue in controller_class_for'
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:88:in `controller_class_for'
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:44:in `controller'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/routing/mapper.rb:18:in `block in <class:Constraints>'
actionpack (6.0.6.1) lib/action_dispatch/routing/mapper.rb:48:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
activerecord (6.0.6.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/auth" for ::1 at 2024-04-19 17:12:19 +0900
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
ActionController::RoutingError (uninitialized constant Auth::RegistrationsController
Did you mean?  Auth::RegistrastionsController):
  
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:92:in `rescue in controller_class_for'
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:88:in `controller_class_for'
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:44:in `controller'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/routing/mapper.rb:18:in `block in <class:Constraints>'
actionpack (6.0.6.1) lib/action_dispatch/routing/mapper.rb:48:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
activerecord (6.0.6.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/auth" for ::1 at 2024-04-19 17:14:45 +0900
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
ActionController::RoutingError (uninitialized constant Auth::RegistrationsController
Did you mean?  Auth::RegistrastionsController):
  
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:92:in `rescue in controller_class_for'
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:88:in `controller_class_for'
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:44:in `controller'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/routing/mapper.rb:18:in `block in <class:Constraints>'
actionpack (6.0.6.1) lib/action_dispatch/routing/mapper.rb:48:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
activerecord (6.0.6.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/auth" for ::1 at 2024-04-19 17:15:02 +0900
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (uninitialized constant Auth::RegistrationsController
Did you mean?  Auth::RegistrastionsController):
  
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:92:in `rescue in controller_class_for'
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:88:in `controller_class_for'
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:44:in `controller'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/routing/mapper.rb:18:in `block in <class:Constraints>'
actionpack (6.0.6.1) lib/action_dispatch/routing/mapper.rb:48:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
activerecord (6.0.6.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/" for ::1 at 2024-04-19 17:17:14 +0900
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/"):
  
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for ::1 at 2024-04-19 17:17:19 +0900
Processing by Rails::WelcomeController#index as */*
  Parameters: {"name"=>"Test", "email"=>"test1@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
  Rendering vendor/bundle/ruby/2.7.0/gems/railties-6.0.6.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered vendor/bundle/ruby/2.7.0/gems/railties-6.0.6.1/lib/rails/templates/rails/welcome/index.html.erb (Duration: 10.4ms | Allocations: 300)
Completed 200 OK in 18ms (Views: 13.5ms | ActiveRecord: 0.0ms | Allocations: 2489)


Started POST "/auth?name=test&email=test1@test.com&password=[FILTERED]&password_confirmation=[FILTERED]" for ::1 at 2024-04-19 17:18:35 +0900
  
ActionController::RoutingError (uninitialized constant Auth::RegistrationsController
Did you mean?  Auth::RegistrastionsController):
  
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:92:in `rescue in controller_class_for'
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:88:in `controller_class_for'
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:44:in `controller'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/routing/mapper.rb:18:in `block in <class:Constraints>'
actionpack (6.0.6.1) lib/action_dispatch/routing/mapper.rb:48:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
activerecord (6.0.6.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/auth?name=test&email=test1@test.com&password=[FILTERED]&password_confirmation=[FILTERED]" for ::1 at 2024-04-19 17:21:07 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"name"=>"test", "email"=>"test1@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "test1@test.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mUser Create (4.6ms)[0m  [1m[32mINSERT INTO "users" ("uid", "encrypted_password", "name", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["uid", "test1@test.com"], ["encrypted_password", "$2a$12$1IqKZ6pXgw5OCfGS52eG/OoWwU.CnzY2dVXxoDgOCWHQXbOuJ3Eqa"], ["name", "test"], ["email", "test1@test.com"], ["created_at", "2024-04-19 08:21:08.261949"], ["updated_at", "2024-04-19 08:21:08.261949"]]
  [1m[35m (14.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (1.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"DjQAV6xfi77agLkWHrMtgQ\":{\"token\":\"$2a$10$BGu9f3EZ0ikL3M044lZEDeKchz7Q3QjCGdM8EErGkixZ/8GuoKTM6\",\"expiry\":1714724468}}"], ["updated_at", "2024-04-19 08:21:08.466545"], ["id", 1]]
  [1m[35m (12.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"DjQAV6xfi77agLkWHrMtgQ\":{\"token\":\"$2a$10$hI0eyRtiExHKW9CVJvrRLOsJtKGsE173LEaxNx/PeM3FcricJcUfe\",\"expiry\":1714724468,\"previous_token\":\"$2a$10$BGu9f3EZ0ikL3M044lZEDeKchz7Q3QjCGdM8EErGkixZ/8GuoKTM6\",\"updated_at\":\"2024-04-19T08:21:08Z\"}}"], ["updated_at", "2024-04-19 08:21:08.645341"], ["id", 1]]
  [1m[35m (16.7ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 947ms (Views: 0.3ms | ActiveRecord: 53.8ms | Allocations: 43879)


Started DELETE "/auth/sign_out" for ::1 at 2024-04-19 17:23:25 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as */*
  Parameters: {"name"=>"Test", "email"=>"test1@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Completed 404 Not Found in 7ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 922)


Started POST "/auth?name=test&email=test1@test.com&password=[FILTERED]&password_confirmation=[FILTERED]" for ::1 at 2024-04-19 17:24:02 +0900
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"name"=>"test", "email"=>"test1@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "test1@test.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
Completed 422 Unprocessable Entity in 417ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 5349)


Started POST "/auth?name=test&email=test1@test.com&password=[FILTERED]&password_confirmation=[FILTERED]" for ::1 at 2024-04-19 17:24:15 +0900
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"name"=>"test", "email"=>"test1@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "test1@test.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 422 Unprocessable Entity in 338ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 5175)


  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateMessages (20240419083248)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "content" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240419083248"]]
  [1m[35m (14.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/messages" for ::1 at 2024-04-20 20:23:51 +0900
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MessagesController#index as */*
  Parameters: {"name"=>"Test", "email"=>"test1@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:4:in `map'
Completed 204 No Content in 17ms (ActiveRecord: 1.1ms | Allocations: 2252)


Started GET "/messages" for ::1 at 2024-04-20 20:24:18 +0900
Processing by MessagesController#index as */*
  Parameters: {"name"=>"Test", "email"=>"test1@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:4:in `map'
Completed 204 No Content in 5ms (ActiveRecord: 0.5ms | Allocations: 613)


  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/messages" for ::1 at 2024-04-20 20:28:47 +0900
  [1m[35m (1.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MessagesController#index as */*
  Parameters: {"name"=>"Test", "email"=>"test1@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:4:in `map'
Completed 204 No Content in 16ms (ActiveRecord: 1.5ms | Allocations: 1893)


Started GET "/" for ::1 at 2024-04-20 20:29:01 +0900
Processing by Rails::WelcomeController#index as HTML
  Rendering vendor/bundle/ruby/2.7.0/gems/railties-6.0.6.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered vendor/bundle/ruby/2.7.0/gems/railties-6.0.6.1/lib/rails/templates/rails/welcome/index.html.erb (Duration: 18.0ms | Allocations: 300)
Completed 200 OK in 34ms (Views: 22.1ms | ActiveRecord: 0.0ms | Allocations: 2446)


Started GET "/messages" for ::1 at 2024-04-20 20:29:06 +0900
Processing by MessagesController#index as HTML
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:4:in `map'
Completed 204 No Content in 4ms (ActiveRecord: 0.2ms | Allocations: 612)


Started GET "/messages" for ::1 at 2024-04-20 20:29:11 +0900
Processing by MessagesController#index as HTML
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:4:in `map'
Completed 204 No Content in 3ms (ActiveRecord: 0.3ms | Allocations: 601)


Started GET "/messages" for ::1 at 2024-04-20 20:29:18 +0900
Processing by MessagesController#index as HTML
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:4:in `map'
Completed 204 No Content in 9ms (ActiveRecord: 0.4ms | Allocations: 609)


Started GET "/users" for ::1 at 2024-04-20 20:29:25 +0900
  
ActionController::RoutingError (No route matches [GET] "/users"):
  
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/messages" for ::1 at 2024-04-20 20:29:34 +0900
Processing by MessagesController#index as HTML
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:4:in `map'
Completed 204 No Content in 11ms (ActiveRecord: 0.2ms | Allocations: 643)


Started GET "/messages" for ::1 at 2024-04-20 20:29:35 +0900
Processing by MessagesController#index as HTML
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:4:in `map'
Completed 204 No Content in 2ms (ActiveRecord: 0.1ms | Allocations: 595)


  [1m[35m (2.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" LIMIT ?[0m  [["LIMIT", 11]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/messages" for ::1 at 2024-04-20 20:31:52 +0900
  [1m[35m (1.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MessagesController#index as */*
  Parameters: {"name"=>"Test", "email"=>"test1@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:4:in `map'
Completed 204 No Content in 11ms (ActiveRecord: 1.1ms | Allocations: 1893)


Started GET "/messages" for ::1 at 2024-04-20 20:33:40 +0900
Processing by MessagesController#index as HTML
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:4:in `map'
Completed 204 No Content in 3ms (ActiveRecord: 0.2ms | Allocations: 612)


Started GET "/users" for ::1 at 2024-04-20 20:34:09 +0900
  
ActionController::RoutingError (No route matches [GET] "/users"):
  
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/messages" for ::1 at 2024-04-20 20:35:05 +0900
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by MessagesController#index as */*
  Parameters: {"name"=>"Test", "email"=>"test1@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
  [1m[36mMessage Load (0.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:4:in `map'
Completed 204 No Content in 16ms (ActiveRecord: 2.1ms | Allocations: 1694)


  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" ORDER BY "messages"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" LIMIT ?[0m  [["LIMIT", 11]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/messages" for ::1 at 2024-04-20 20:42:21 +0900
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MessagesController#index as */*
  Parameters: {"name"=>"Test", "email"=>"test1@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:4:in `map'
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 1968)


  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" ORDER BY "messages"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" LIMIT ?[0m  [["LIMIT", 11]]
  [1m[35m (2.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Create (2.3ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 1], ["content", "0番目のメッセージです！"], ["created_at", "2024-04-20 11:48:48.658793"], ["updated_at", "2024-04-20 11:48:48.658793"]]
  [1m[35m (8.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 1], ["content", "1番目のメッセージです！"], ["created_at", "2024-04-20 11:48:48.692265"], ["updated_at", "2024-04-20 11:48:48.692265"]]
  [1m[35m (10.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 1], ["content", "2番目のメッセージです！"], ["created_at", "2024-04-20 11:48:48.731021"], ["updated_at", "2024-04-20 11:48:48.731021"]]
  [1m[35m (9.0ms)[0m  [1m[36mcommit transaction[0m
Started GET "/messages" for ::1 at 2024-04-20 20:48:58 +0900
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MessagesController#index as */*
  Parameters: {"name"=>"Test", "email"=>"test1@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:4:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:7:in `block in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:7:in `block in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:7:in `block in index'
Completed 200 OK in 57ms (Views: 1.7ms | ActiveRecord: 2.5ms | Allocations: 13573)


Started GET "/messages" for ::1 at 2024-04-20 20:51:34 +0900
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MessagesController#index as */*
  Parameters: {"name"=>"Test", "email"=>"test1@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 21ms (Views: 0.7ms | ActiveRecord: 0.0ms | Allocations: 6525)


Started POST "/auth/sign_in" for ::1 at 2024-04-20 21:02:28 +0900
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by DeviseTokenAuth::SessionsController#create as */*
  Parameters: {"email"=>"test1@test.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test1@test.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (2.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"DjQAV6xfi77agLkWHrMtgQ\":{\"token\":\"$2a$10$hI0eyRtiExHKW9CVJvrRLOsJtKGsE173LEaxNx/PeM3FcricJcUfe\",\"expiry\":1714724468,\"previous_token\":\"$2a$10$BGu9f3EZ0ikL3M044lZEDeKchz7Q3QjCGdM8EErGkixZ/8GuoKTM6\",\"updated_at\":\"2024-04-19T08:21:08Z\"},\"ZoeqBlXY4fiabFmOYs_efg\":{\"token\":\"$2a$10$bsLoTVitEfiHa9HJdnB0HuNAa7sVU9rotbPJazMq4EdhPuiURXBV2\",\"expiry\":1714824149}}"], ["updated_at", "2024-04-20 12:02:29.444450"], ["id", 1]]
  [1m[35m (10.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"DjQAV6xfi77agLkWHrMtgQ\":{\"token\":\"$2a$10$hI0eyRtiExHKW9CVJvrRLOsJtKGsE173LEaxNx/PeM3FcricJcUfe\",\"expiry\":1714724468,\"previous_token\":\"$2a$10$BGu9f3EZ0ikL3M044lZEDeKchz7Q3QjCGdM8EErGkixZ/8GuoKTM6\",\"updated_at\":\"2024-04-19T08:21:08Z\"},\"ZoeqBlXY4fiabFmOYs_efg\":{\"token\":\"$2a$10$t0ANT26faTTihZPRZDt2yOADTMjrjY8piHusbzcoE2giSS8UjZQCq\",\"expiry\":1714824149,\"previous_token\":\"$2a$10$bsLoTVitEfiHa9HJdnB0HuNAa7sVU9rotbPJazMq4EdhPuiURXBV2\",\"updated_at\":\"2024-04-20T12:02:29Z\"}}"], ["updated_at", "2024-04-20 12:02:29.613147"], ["id", 1]]
  [1m[35m (16.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 891ms (Views: 2.6ms | ActiveRecord: 32.4ms | Allocations: 25107)


Started GET "/messages?access_token=HVRs9a2HyD8V5-O9EdIQUg&client=ZoeqBlXY4fiabFmOYs_efg&uid=test1@test.com" for ::1 at 2024-04-20 21:04:23 +0900
Processing by MessagesController#index as */*
  Parameters: {"name"=>"Test", "email"=>"test1@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "access_token"=>"HVRs9a2HyD8V5-O9EdIQUg", "client"=>"ZoeqBlXY4fiabFmOYs_efg", "uid"=>"test1@test.com"}
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 166)


Started GET "/messages?access_token=HVRs9a2HyD8V5-O9EdIQUg&client=ZoeqBlXY4fiabFmOYs_efg&uid=test1@test.com" for ::1 at 2024-04-20 21:05:05 +0900
Processing by MessagesController#index as */*
  Parameters: {"name"=>"Test", "email"=>"test1@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "access_token"=>"HVRs9a2HyD8V5-O9EdIQUg", "client"=>"ZoeqBlXY4fiabFmOYs_efg", "uid"=>"test1@test.com"}
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 167)


Started GET "/messages?access-token=HVRs9a2HyD8V5-O9EdIQUg&client=ZoeqBlXY4fiabFmOYs_efg&uid=test1@test.com" for ::1 at 2024-04-20 21:06:04 +0900
Processing by MessagesController#index as */*
  Parameters: {"name"=>"Test", "email"=>"test1@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "access-token"=>"HVRs9a2HyD8V5-O9EdIQUg", "client"=>"ZoeqBlXY4fiabFmOYs_efg", "uid"=>"test1@test.com"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test1@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"DjQAV6xfi77agLkWHrMtgQ\":{\"token\":\"$2a$10$hI0eyRtiExHKW9CVJvrRLOsJtKGsE173LEaxNx/PeM3FcricJcUfe\",\"expiry\":1714724468,\"previous_token\":\"$2a$10$BGu9f3EZ0ikL3M044lZEDeKchz7Q3QjCGdM8EErGkixZ/8GuoKTM6\",\"updated_at\":\"2024-04-19T08:21:08Z\"},\"ZoeqBlXY4fiabFmOYs_efg\":{\"token\":\"$2a$10$BCJFiZNupmZOnSJgm.8GD.m2QWvejrGqRUFVYkQ6bGjCBsCL0Fcme\",\"expiry\":1714824364,\"previous_token\":\"$2a$10$t0ANT26faTTihZPRZDt2yOADTMjrjY8piHusbzcoE2giSS8UjZQCq\",\"last_token\":\"$2a$10$bsLoTVitEfiHa9HJdnB0HuNAa7sVU9rotbPJazMq4EdhPuiURXBV2\",\"updated_at\":\"2024-04-20T12:06:04Z\"}}"], ["updated_at", "2024-04-20 12:06:04.342728"], ["id", 1]]
  [1m[35m (10.7ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 308ms (Views: 0.5ms | ActiveRecord: 14.0ms | Allocations: 19107)


  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateLikes (20240420121121)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "likes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "message_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX "index_likes_on_user_id" ON "likes" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_likes_on_message_id" ON "likes" ("message_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240420121121"]]
  [1m[35m (15.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/messages?access-token=HVRs9a2HyD8V5-O9EdIQUg&client=ZoeqBlXY4fiabFmOYs_efg&uid=test1@test.com" for ::1 at 2024-04-20 21:24:01 +0900
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MessagesController#index as */*
  Parameters: {"name"=>"Test", "email"=>"test1@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "access-token"=>"HVRs9a2HyD8V5-O9EdIQUg", "client"=>"ZoeqBlXY4fiabFmOYs_efg", "uid"=>"test1@test.com"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test1@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"DjQAV6xfi77agLkWHrMtgQ\":{\"token\":\"$2a$10$hI0eyRtiExHKW9CVJvrRLOsJtKGsE173LEaxNx/PeM3FcricJcUfe\",\"expiry\":1714724468,\"previous_token\":\"$2a$10$BGu9f3EZ0ikL3M044lZEDeKchz7Q3QjCGdM8EErGkixZ/8GuoKTM6\",\"updated_at\":\"2024-04-19T08:21:08Z\"},\"ZoeqBlXY4fiabFmOYs_efg\":{\"token\":\"$2a$10$K8ig/Ssasj.dHgHlI7sRw.NAIRA.Xp5DlMVHs3AhHzCUEpQgfFBom\",\"expiry\":1714825442,\"previous_token\":\"$2a$10$BCJFiZNupmZOnSJgm.8GD.m2QWvejrGqRUFVYkQ6bGjCBsCL0Fcme\",\"last_token\":\"$2a$10$t0ANT26faTTihZPRZDt2yOADTMjrjY8piHusbzcoE2giSS8UjZQCq\",\"updated_at\":\"2024-04-20T12:24:01Z\"}}"], ["updated_at", "2024-04-20 12:24:02.077702"], ["id", 1]]
  [1m[35m (19.9ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 437ms (Views: 0.5ms | ActiveRecord: 23.4ms | Allocations: 24236)


Started GET "/messages/1/likes" for ::1 at 2024-04-20 21:24:25 +0900
  
ActionController::RoutingError (No route matches [GET] "/messages/1/likes"):
  
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/messages?access-token=HVRs9a2HyD8V5-O9EdIQUg&client=ZoeqBlXY4fiabFmOYs_efg&uid=test1@test.com" for ::1 at 2024-04-20 21:24:46 +0900
Processing by MessagesController#index as */*
  Parameters: {"name"=>"Test", "email"=>"test1@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "access-token"=>"HVRs9a2HyD8V5-O9EdIQUg", "client"=>"ZoeqBlXY4fiabFmOYs_efg", "uid"=>"test1@test.com"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test1@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 282ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 7598)


Started POST "/auth/sign_in" for ::1 at 2024-04-20 21:24:50 +0900
Processing by DeviseTokenAuth::SessionsController#create as */*
  Parameters: {"email"=>"test1@test.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test1@test.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"DjQAV6xfi77agLkWHrMtgQ\":{\"token\":\"$2a$10$hI0eyRtiExHKW9CVJvrRLOsJtKGsE173LEaxNx/PeM3FcricJcUfe\",\"expiry\":1714724468,\"previous_token\":\"$2a$10$BGu9f3EZ0ikL3M044lZEDeKchz7Q3QjCGdM8EErGkixZ/8GuoKTM6\",\"updated_at\":\"2024-04-19T08:21:08Z\"},\"ZoeqBlXY4fiabFmOYs_efg\":{\"token\":\"$2a$10$K8ig/Ssasj.dHgHlI7sRw.NAIRA.Xp5DlMVHs3AhHzCUEpQgfFBom\",\"expiry\":1714825442,\"previous_token\":\"$2a$10$BCJFiZNupmZOnSJgm.8GD.m2QWvejrGqRUFVYkQ6bGjCBsCL0Fcme\",\"last_token\":\"$2a$10$t0ANT26faTTihZPRZDt2yOADTMjrjY8piHusbzcoE2giSS8UjZQCq\",\"updated_at\":\"2024-04-20T12:24:01Z\"},\"cN_zy_v4l4bQKF-UuoOSnQ\":{\"token\":\"$2a$10$gEbk40VlkibkEyoq1YTIVuciuHyZHTA0qt4DkplCApYwZfY3M3enm\",\"expiry\":1714825490}}"], ["updated_at", "2024-04-20 12:24:50.965366"], ["id", 1]]
  [1m[35m (18.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"DjQAV6xfi77agLkWHrMtgQ\":{\"token\":\"$2a$10$hI0eyRtiExHKW9CVJvrRLOsJtKGsE173LEaxNx/PeM3FcricJcUfe\",\"expiry\":1714724468,\"previous_token\":\"$2a$10$BGu9f3EZ0ikL3M044lZEDeKchz7Q3QjCGdM8EErGkixZ/8GuoKTM6\",\"updated_at\":\"2024-04-19T08:21:08Z\"},\"ZoeqBlXY4fiabFmOYs_efg\":{\"token\":\"$2a$10$K8ig/Ssasj.dHgHlI7sRw.NAIRA.Xp5DlMVHs3AhHzCUEpQgfFBom\",\"expiry\":1714825442,\"previous_token\":\"$2a$10$BCJFiZNupmZOnSJgm.8GD.m2QWvejrGqRUFVYkQ6bGjCBsCL0Fcme\",\"last_token\":\"$2a$10$t0ANT26faTTihZPRZDt2yOADTMjrjY8piHusbzcoE2giSS8UjZQCq\",\"updated_at\":\"2024-04-20T12:24:01Z\"},\"cN_zy_v4l4bQKF-UuoOSnQ\":{\"token\":\"$2a$10$apm1.lM69TqUFaO0Ydj1K.1stU9QfTbquhZcOR.TkI6kEkHHxSfT2\",\"expiry\":1714825491,\"previous_token\":\"$2a$10$gEbk40VlkibkEyoq1YTIVuciuHyZHTA0qt4DkplCApYwZfY3M3enm\",\"updated_at\":\"2024-04-20T12:24:51Z\"}}"], ["updated_at", "2024-04-20 12:24:51.139035"], ["id", 1]]
  [1m[35m (19.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 738ms (Views: 0.3ms | ActiveRecord: 40.5ms | Allocations: 18221)


Started GET "/messages?access-token=HVRs9a2HyD8V5-O9EdIQUg&client=ZoeqBlXY4fiabFmOYs_efg&uid=test1@test.com" for ::1 at 2024-04-20 21:24:54 +0900
Processing by MessagesController#index as */*
  Parameters: {"name"=>"Test", "email"=>"test1@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "access-token"=>"HVRs9a2HyD8V5-O9EdIQUg", "client"=>"ZoeqBlXY4fiabFmOYs_efg", "uid"=>"test1@test.com"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test1@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 216ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1356)


Started GET "/messages?access-token=KCCpGtAbyGV0ebm7TfK9YQ&client=cN_zy_v4l4bQKF-UuoOSnQ&uid=test1@test.com" for ::1 at 2024-04-20 21:25:31 +0900
Processing by MessagesController#index as */*
  Parameters: {"name"=>"Test", "email"=>"test1@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "access-token"=>"KCCpGtAbyGV0ebm7TfK9YQ", "client"=>"cN_zy_v4l4bQKF-UuoOSnQ", "uid"=>"test1@test.com"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test1@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"DjQAV6xfi77agLkWHrMtgQ\":{\"token\":\"$2a$10$hI0eyRtiExHKW9CVJvrRLOsJtKGsE173LEaxNx/PeM3FcricJcUfe\",\"expiry\":1714724468,\"previous_token\":\"$2a$10$BGu9f3EZ0ikL3M044lZEDeKchz7Q3QjCGdM8EErGkixZ/8GuoKTM6\",\"updated_at\":\"2024-04-19T08:21:08Z\"},\"ZoeqBlXY4fiabFmOYs_efg\":{\"token\":\"$2a$10$K8ig/Ssasj.dHgHlI7sRw.NAIRA.Xp5DlMVHs3AhHzCUEpQgfFBom\",\"expiry\":1714825442,\"previous_token\":\"$2a$10$BCJFiZNupmZOnSJgm.8GD.m2QWvejrGqRUFVYkQ6bGjCBsCL0Fcme\",\"last_token\":\"$2a$10$t0ANT26faTTihZPRZDt2yOADTMjrjY8piHusbzcoE2giSS8UjZQCq\",\"updated_at\":\"2024-04-20T12:24:01Z\"},\"cN_zy_v4l4bQKF-UuoOSnQ\":{\"token\":\"$2a$10$GKLGtMG6cEubEIYq5SGRA.PBz3K6Tn4bojQ543TXBW97X3RglP81q\",\"expiry\":1714825531,\"previous_token\":\"$2a$10$apm1.lM69TqUFaO0Ydj1K.1stU9QfTbquhZcOR.TkI6kEkHHxSfT2\",\"last_token\":\"$2a$10$gEbk40VlkibkEyoq1YTIVuciuHyZHTA0qt4DkplCApYwZfY3M3enm\",\"updated_at\":\"2024-04-20T12:25:31Z\"}}"], ["updated_at", "2024-04-20 12:25:31.643987"], ["id", 1]]
  [1m[35m (15.9ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 314ms (Views: 0.4ms | ActiveRecord: 17.9ms | Allocations: 12244)


Started POST "/messages/1/likes" for ::1 at 2024-04-20 21:26:46 +0900
Processing by LikesController#create as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mLike Create (1.2ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "message_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 1], ["message_id", 1], ["created_at", "2024-04-20 12:26:46.335426"], ["updated_at", "2024-04-20 12:26:46.335426"]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[35m (13.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"DjQAV6xfi77agLkWHrMtgQ\":{\"token\":\"$2a$10$hI0eyRtiExHKW9CVJvrRLOsJtKGsE173LEaxNx/PeM3FcricJcUfe\",\"expiry\":1714724468,\"previous_token\":\"$2a$10$BGu9f3EZ0ikL3M044lZEDeKchz7Q3QjCGdM8EErGkixZ/8GuoKTM6\",\"updated_at\":\"2024-04-19T08:21:08Z\"},\"ZoeqBlXY4fiabFmOYs_efg\":{\"token\":\"$2a$10$K8ig/Ssasj.dHgHlI7sRw.NAIRA.Xp5DlMVHs3AhHzCUEpQgfFBom\",\"expiry\":1714825442,\"previous_token\":\"$2a$10$BCJFiZNupmZOnSJgm.8GD.m2QWvejrGqRUFVYkQ6bGjCBsCL0Fcme\",\"last_token\":\"$2a$10$t0ANT26faTTihZPRZDt2yOADTMjrjY8piHusbzcoE2giSS8UjZQCq\",\"updated_at\":\"2024-04-20T12:24:01Z\"},\"cN_zy_v4l4bQKF-UuoOSnQ\":{\"token\":\"$2a$10$enj2CDGm3fBwvYaeBqRlDeUwpn2Vu/yk1XoohVKLLuJcdtcjCOjCi\",\"expiry\":1714825606,\"previous_token\":\"$2a$10$GKLGtMG6cEubEIYq5SGRA.PBz3K6Tn4bojQ543TXBW97X3RglP81q\",\"last_token\":\"$2a$10$apm1.lM69TqUFaO0Ydj1K.1stU9QfTbquhZcOR.TkI6kEkHHxSfT2\",\"updated_at\":\"2024-04-20T12:26:46Z\"}}"], ["updated_at", "2024-04-20 12:26:46.578628"], ["id", 1]]
  [1m[35m (22.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 397ms (Views: 0.5ms | ActiveRecord: 40.0ms | Allocations: 19680)


Started POST "/messages/2/likes" for ::1 at 2024-04-20 21:27:05 +0900
Processing by LikesController#create as */*
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test1@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 194ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 1338)


Started POST "/auth/sign_in" for ::1 at 2024-04-20 21:36:27 +0900
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DeviseTokenAuth::SessionsController#create as */*
  Parameters: {"email"=>"test1@test.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test1@test.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"DjQAV6xfi77agLkWHrMtgQ\":{\"token\":\"$2a$10$hI0eyRtiExHKW9CVJvrRLOsJtKGsE173LEaxNx/PeM3FcricJcUfe\",\"expiry\":1714724468,\"previous_token\":\"$2a$10$BGu9f3EZ0ikL3M044lZEDeKchz7Q3QjCGdM8EErGkixZ/8GuoKTM6\",\"updated_at\":\"2024-04-19T08:21:08Z\"},\"ZoeqBlXY4fiabFmOYs_efg\":{\"token\":\"$2a$10$K8ig/Ssasj.dHgHlI7sRw.NAIRA.Xp5DlMVHs3AhHzCUEpQgfFBom\",\"expiry\":1714825442,\"previous_token\":\"$2a$10$BCJFiZNupmZOnSJgm.8GD.m2QWvejrGqRUFVYkQ6bGjCBsCL0Fcme\",\"last_token\":\"$2a$10$t0ANT26faTTihZPRZDt2yOADTMjrjY8piHusbzcoE2giSS8UjZQCq\",\"updated_at\":\"2024-04-20T12:24:01Z\"},\"cN_zy_v4l4bQKF-UuoOSnQ\":{\"token\":\"$2a$10$enj2CDGm3fBwvYaeBqRlDeUwpn2Vu/yk1XoohVKLLuJcdtcjCOjCi\",\"expiry\":1714825606,\"previous_token\":\"$2a$10$GKLGtMG6cEubEIYq5SGRA.PBz3K6Tn4bojQ543TXBW97X3RglP81q\",\"last_token\":\"$2a$10$apm1.lM69TqUFaO0Ydj1K.1stU9QfTbquhZcOR.TkI6kEkHHxSfT2\",\"updated_at\":\"2024-04-20T12:26:46Z\"},\"-yv2LlJmyGlurBDrPN5G_Q\":{\"token\":\"$2a$10$Wy5m0w7SMnlg0gGX3kX66ulG69LGsFLFTW52raobmpAOOUwEmw4mG\",\"expiry\":1714826188}}"], ["updated_at", "2024-04-20 12:36:28.119369"], ["id", 1]]
  [1m[35m (11.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"DjQAV6xfi77agLkWHrMtgQ\":{\"token\":\"$2a$10$hI0eyRtiExHKW9CVJvrRLOsJtKGsE173LEaxNx/PeM3FcricJcUfe\",\"expiry\":1714724468,\"previous_token\":\"$2a$10$BGu9f3EZ0ikL3M044lZEDeKchz7Q3QjCGdM8EErGkixZ/8GuoKTM6\",\"updated_at\":\"2024-04-19T08:21:08Z\"},\"ZoeqBlXY4fiabFmOYs_efg\":{\"token\":\"$2a$10$K8ig/Ssasj.dHgHlI7sRw.NAIRA.Xp5DlMVHs3AhHzCUEpQgfFBom\",\"expiry\":1714825442,\"previous_token\":\"$2a$10$BCJFiZNupmZOnSJgm.8GD.m2QWvejrGqRUFVYkQ6bGjCBsCL0Fcme\",\"last_token\":\"$2a$10$t0ANT26faTTihZPRZDt2yOADTMjrjY8piHusbzcoE2giSS8UjZQCq\",\"updated_at\":\"2024-04-20T12:24:01Z\"},\"cN_zy_v4l4bQKF-UuoOSnQ\":{\"token\":\"$2a$10$enj2CDGm3fBwvYaeBqRlDeUwpn2Vu/yk1XoohVKLLuJcdtcjCOjCi\",\"expiry\":1714825606,\"previous_token\":\"$2a$10$GKLGtMG6cEubEIYq5SGRA.PBz3K6Tn4bojQ543TXBW97X3RglP81q\",\"last_token\":\"$2a$10$apm1.lM69TqUFaO0Ydj1K.1stU9QfTbquhZcOR.TkI6kEkHHxSfT2\",\"updated_at\":\"2024-04-20T12:26:46Z\"},\"-yv2LlJmyGlurBDrPN5G_Q\":{\"token\":\"$2a$10$NlvnG8/jIzlV29MmUWXMt.xBZtb/ETH7V8uBCvoC5abATRS0r0dJ2\",\"expiry\":1714826188,\"previous_token\":\"$2a$10$Wy5m0w7SMnlg0gGX3kX66ulG69LGsFLFTW52raobmpAOOUwEmw4mG\",\"updated_at\":\"2024-04-20T12:36:28Z\"}}"], ["updated_at", "2024-04-20 12:36:28.286301"], ["id", 1]]
  [1m[35m (10.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 787ms (Views: 0.3ms | ActiveRecord: 25.5ms | Allocations: 24826)


Started GET "/messages?access-token=ra63O6y5y993_N446AFRqQ&client=-yv2LlJmyGlurBDrPN5G_Q&uid=test1@test.com" for ::1 at 2024-04-20 21:37:24 +0900
Processing by MessagesController#index as */*
  Parameters: {"name"=>"Test", "email"=>"test1@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "access-token"=>"ra63O6y5y993_N446AFRqQ", "client"=>"-yv2LlJmyGlurBDrPN5G_Q", "uid"=>"test1@test.com"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test1@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"DjQAV6xfi77agLkWHrMtgQ\":{\"token\":\"$2a$10$hI0eyRtiExHKW9CVJvrRLOsJtKGsE173LEaxNx/PeM3FcricJcUfe\",\"expiry\":1714724468,\"previous_token\":\"$2a$10$BGu9f3EZ0ikL3M044lZEDeKchz7Q3QjCGdM8EErGkixZ/8GuoKTM6\",\"updated_at\":\"2024-04-19T08:21:08Z\"},\"ZoeqBlXY4fiabFmOYs_efg\":{\"token\":\"$2a$10$K8ig/Ssasj.dHgHlI7sRw.NAIRA.Xp5DlMVHs3AhHzCUEpQgfFBom\",\"expiry\":1714825442,\"previous_token\":\"$2a$10$BCJFiZNupmZOnSJgm.8GD.m2QWvejrGqRUFVYkQ6bGjCBsCL0Fcme\",\"last_token\":\"$2a$10$t0ANT26faTTihZPRZDt2yOADTMjrjY8piHusbzcoE2giSS8UjZQCq\",\"updated_at\":\"2024-04-20T12:24:01Z\"},\"cN_zy_v4l4bQKF-UuoOSnQ\":{\"token\":\"$2a$10$enj2CDGm3fBwvYaeBqRlDeUwpn2Vu/yk1XoohVKLLuJcdtcjCOjCi\",\"expiry\":1714825606,\"previous_token\":\"$2a$10$GKLGtMG6cEubEIYq5SGRA.PBz3K6Tn4bojQ543TXBW97X3RglP81q\",\"last_token\":\"$2a$10$apm1.lM69TqUFaO0Ydj1K.1stU9QfTbquhZcOR.TkI6kEkHHxSfT2\",\"updated_at\":\"2024-04-20T12:26:46Z\"},\"-yv2LlJmyGlurBDrPN5G_Q\":{\"token\":\"$2a$10$1mNPrqcfc3NFyi3mmNKfDe7vIhSVhCNoqfoyXgVwakPIyFp4y74aK\",\"expiry\":1714826245,\"previous_token\":\"$2a$10$NlvnG8/jIzlV29MmUWXMt.xBZtb/ETH7V8uBCvoC5abATRS0r0dJ2\",\"last_token\":\"$2a$10$Wy5m0w7SMnlg0gGX3kX66ulG69LGsFLFTW52raobmpAOOUwEmw4mG\",\"updated_at\":\"2024-04-20T12:37:25Z\"}}"], ["updated_at", "2024-04-20 12:37:25.178203"], ["id", 1]]
  [1m[35m (12.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 434ms (Views: 0.7ms | ActiveRecord: 18.5ms | Allocations: 25872)


Started POST "/auth" for ::1 at 2024-05-01 13:34:16 +0900
  [1m[35m (2.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Auth::RegistrationsController#create as HTML
  Parameters: {"name"=>"aaaaa", "email"=>"aaa@aaa", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"name"=>"aaaaa", "email"=>"aaa@aaa", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
[31mUnpermitted parameter: :registration[0m
[31mUnpermitted parameter: :registration[0m
[31mUnpermitted parameter: :registration[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "aaa@aaa"], ["provider", "email"], ["LIMIT", 1]]
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
Completed 422 Unprocessable Entity in 570ms (Views: 1.9ms | ActiveRecord: 4.8ms | Allocations: 18290)


Started POST "/auth" for ::1 at 2024-05-01 17:10:06 +0900
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Auth::RegistrationsController#create as HTML
  Parameters: {"name"=>"gg", "email"=>"hh@hg", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"name"=>"gg", "email"=>"hh@hg", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
[31mUnpermitted parameter: :registration[0m
[31mUnpermitted parameter: :registration[0m
[31mUnpermitted parameter: :registration[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "hh@hg"], ["provider", "email"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 422 Unprocessable Entity in 505ms (Views: 2.0ms | ActiveRecord: 1.5ms | Allocations: 18293)


Started POST "/auth" for ::1 at 2024-05-01 17:17:20 +0900
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by Auth::RegistrationsController#create as HTML
  Parameters: {"name"=>"gg", "email"=>"hh@hg", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"name"=>"gg", "email"=>"hh@hg", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
[31mUnpermitted parameter: :registration[0m
[31mUnpermitted parameter: :registration[0m
[31mUnpermitted parameter: :registration[0m
  [1m[35m (4.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "hh@hg"], ["provider", "email"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
Completed 422 Unprocessable Entity in 478ms (Views: 1.0ms | ActiveRecord: 4.8ms | Allocations: 5044)


Started POST "/auth" for ::1 at 2024-05-01 17:17:27 +0900
Processing by Auth::RegistrationsController#create as HTML
  Parameters: {"name"=>"gg", "email"=>"hh@hg", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"name"=>"gg", "email"=>"hh@hg", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
[31mUnpermitted parameter: :registration[0m
[31mUnpermitted parameter: :registration[0m
[31mUnpermitted parameter: :registration[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "hh@hg"], ["provider", "email"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 422 Unprocessable Entity in 644ms (Views: 0.7ms | ActiveRecord: 0.6ms | Allocations: 5045)


Started POST "/auth" for ::1 at 2024-05-01 17:17:57 +0900
Processing by Auth::RegistrationsController#create as HTML
  Parameters: {"name"=>"gg", "email"=>"hh@hg.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"name"=>"gg", "email"=>"hh@hg.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
[31mUnpermitted parameter: :registration[0m
[31mUnpermitted parameter: :registration[0m
[31mUnpermitted parameter: :registration[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "hh@hg.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mUser Create (10.6ms)[0m  [1m[32mINSERT INTO "users" ("uid", "encrypted_password", "name", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["uid", "hh@hg.com"], ["encrypted_password", "$2a$12$Su..rnzyhos4XVMBy1Z98.iIbJgLGgg.P6SFBWPequfYIwzoJmBKO"], ["name", "gg"], ["email", "hh@hg.com"], ["created_at", "2024-05-01 08:17:57.647716"], ["updated_at", "2024-05-01 08:17:57.647716"]]
  [1m[35m (10.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"iKaOwgb5bineCeDSjFphMg\":{\"token\":\"$2a$10$N/5aqqa8eF903MO4Ohhh0.BuX.EjCuHOyy3r18mTIhAi3jBvbS3Mq\",\"expiry\":1715761077}}"], ["updated_at", "2024-05-01 08:17:57.811874"], ["id", 2]]
  [1m[35m (20.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"iKaOwgb5bineCeDSjFphMg\":{\"token\":\"$2a$10$o8eJt7MpTtpCeydcYwbtsu2NQRaX5lmGeAjmwnrUQB2m1HoOvybxa\",\"expiry\":1715761077,\"previous_token\":\"$2a$10$N/5aqqa8eF903MO4Ohhh0.BuX.EjCuHOyy3r18mTIhAi3jBvbS3Mq\",\"updated_at\":\"2024-05-01T08:17:57Z\"}}"], ["updated_at", "2024-05-01 08:17:57.971585"], ["id", 2]]
  [1m[35m (18.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 836ms (Views: 0.3ms | ActiveRecord: 62.7ms | Allocations: 22885)


Started POST "/auth" for ::1 at 2024-05-01 17:22:33 +0900
Processing by Auth::RegistrationsController#create as HTML
  Parameters: {"name"=>"ddddd", "email"=>"d@d", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"name"=>"ddddd", "email"=>"d@d", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
[31mUnpermitted parameter: :registration[0m
[31mUnpermitted parameter: :registration[0m
[31mUnpermitted parameter: :registration[0m
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "d@d"], ["provider", "email"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 422 Unprocessable Entity in 473ms (Views: 0.7ms | ActiveRecord: 1.4ms | Allocations: 6068)


Started POST "/auth" for ::1 at 2024-05-02 10:36:08 +0900
  [1m[35m (2.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Auth::RegistrationsController#create as HTML
  Parameters: {"name"=>"test001", "email"=>"test@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"name"=>"test001", "email"=>"test@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
[31mUnpermitted parameter: :registration[0m
[31mUnpermitted parameter: :registration[0m
[31mUnpermitted parameter: :registration[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mUser Create (3.2ms)[0m  [1m[32mINSERT INTO "users" ("uid", "encrypted_password", "name", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["uid", "test@test.com"], ["encrypted_password", "$2a$12$PyqgTxPfqsJnSq414Mv/vObntPx.T.DdIHSxvmXXAjyQXXnrffpOi"], ["name", "test001"], ["email", "test@test.com"], ["created_at", "2024-05-02 01:36:08.790892"], ["updated_at", "2024-05-02 01:36:08.790892"]]
  [1m[35m (13.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (2.0ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2B7ONdP0qLb9pCIkD3s-Bg\":{\"token\":\"$2a$10$CYu3rrqrp1Jsn3kpVNKBwOnnj7NRptV/ngiMrMUKUizbBuBJ/sYO.\",\"expiry\":1715823368}}"], ["updated_at", "2024-05-02 01:36:08.970861"], ["id", 3]]
  [1m[35m (15.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2B7ONdP0qLb9pCIkD3s-Bg\":{\"token\":\"$2a$10$VCdVSwGycedKMJJ.Crjueumo9tvqMrq7B8zMkd7gRuZL8VUZWgGx2\",\"expiry\":1715823369,\"previous_token\":\"$2a$10$CYu3rrqrp1Jsn3kpVNKBwOnnj7NRptV/ngiMrMUKUizbBuBJ/sYO.\",\"updated_at\":\"2024-05-02T01:36:09Z\"}}"], ["updated_at", "2024-05-02 01:36:09.267993"], ["id", 3]]
  [1m[35m (15.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 1070ms (Views: 0.8ms | ActiveRecord: 53.8ms | Allocations: 35891)


Started POST "/auth/sign_in" for ::1 at 2024-05-03 02:33:28 +0900
  [1m[35m (4.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (3.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2B7ONdP0qLb9pCIkD3s-Bg\":{\"token\":\"$2a$10$VCdVSwGycedKMJJ.Crjueumo9tvqMrq7B8zMkd7gRuZL8VUZWgGx2\",\"expiry\":1715823369,\"previous_token\":\"$2a$10$CYu3rrqrp1Jsn3kpVNKBwOnnj7NRptV/ngiMrMUKUizbBuBJ/sYO.\",\"updated_at\":\"2024-05-02T01:36:09Z\"},\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"expiry\":1715880808}}"], ["updated_at", "2024-05-02 17:33:28.575387"], ["id", 3]]
  [1m[35m (7.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2B7ONdP0qLb9pCIkD3s-Bg\":{\"token\":\"$2a$10$VCdVSwGycedKMJJ.Crjueumo9tvqMrq7B8zMkd7gRuZL8VUZWgGx2\",\"expiry\":1715823369,\"previous_token\":\"$2a$10$CYu3rrqrp1Jsn3kpVNKBwOnnj7NRptV/ngiMrMUKUizbBuBJ/sYO.\",\"updated_at\":\"2024-05-02T01:36:09Z\"},\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"}}"], ["updated_at", "2024-05-02 17:33:28.664933"], ["id", 3]]
  [1m[35m (9.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 404ms (Views: 1.0ms | ActiveRecord: 22.6ms | Allocations: 23991)


Started POST "/auth/sign_in" for ::1 at 2024-05-03 02:42:03 +0900
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2B7ONdP0qLb9pCIkD3s-Bg\":{\"token\":\"$2a$10$VCdVSwGycedKMJJ.Crjueumo9tvqMrq7B8zMkd7gRuZL8VUZWgGx2\",\"expiry\":1715823369,\"previous_token\":\"$2a$10$CYu3rrqrp1Jsn3kpVNKBwOnnj7NRptV/ngiMrMUKUizbBuBJ/sYO.\",\"updated_at\":\"2024-05-02T01:36:09Z\"},\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"expiry\":1715881323}}"], ["updated_at", "2024-05-02 17:42:03.535636"], ["id", 3]]
  [1m[35m (9.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2B7ONdP0qLb9pCIkD3s-Bg\":{\"token\":\"$2a$10$VCdVSwGycedKMJJ.Crjueumo9tvqMrq7B8zMkd7gRuZL8VUZWgGx2\",\"expiry\":1715823369,\"previous_token\":\"$2a$10$CYu3rrqrp1Jsn3kpVNKBwOnnj7NRptV/ngiMrMUKUizbBuBJ/sYO.\",\"updated_at\":\"2024-05-02T01:36:09Z\"},\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"}}"], ["updated_at", "2024-05-02 17:42:03.611241"], ["id", 3]]
  [1m[35m (8.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 336ms (Views: 0.5ms | ActiveRecord: 19.8ms | Allocations: 17593)


Started POST "/auth/sign_in" for ::1 at 2024-05-03 02:50:40 +0900
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2B7ONdP0qLb9pCIkD3s-Bg\":{\"token\":\"$2a$10$VCdVSwGycedKMJJ.Crjueumo9tvqMrq7B8zMkd7gRuZL8VUZWgGx2\",\"expiry\":1715823369,\"previous_token\":\"$2a$10$CYu3rrqrp1Jsn3kpVNKBwOnnj7NRptV/ngiMrMUKUizbBuBJ/sYO.\",\"updated_at\":\"2024-05-02T01:36:09Z\"},\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"expiry\":1715881840}}"], ["updated_at", "2024-05-02 17:50:40.623556"], ["id", 3]]
  [1m[35m (7.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2B7ONdP0qLb9pCIkD3s-Bg\":{\"token\":\"$2a$10$VCdVSwGycedKMJJ.Crjueumo9tvqMrq7B8zMkd7gRuZL8VUZWgGx2\",\"expiry\":1715823369,\"previous_token\":\"$2a$10$CYu3rrqrp1Jsn3kpVNKBwOnnj7NRptV/ngiMrMUKUizbBuBJ/sYO.\",\"updated_at\":\"2024-05-02T01:36:09Z\"},\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"}}"], ["updated_at", "2024-05-02 17:50:40.697576"], ["id", 3]]
  [1m[35m (8.9ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 340ms (Views: 0.2ms | ActiveRecord: 18.7ms | Allocations: 18069)


Started POST "/auth/sign_in" for ::1 at 2024-05-03 02:52:42 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2B7ONdP0qLb9pCIkD3s-Bg\":{\"token\":\"$2a$10$VCdVSwGycedKMJJ.Crjueumo9tvqMrq7B8zMkd7gRuZL8VUZWgGx2\",\"expiry\":1715823369,\"previous_token\":\"$2a$10$CYu3rrqrp1Jsn3kpVNKBwOnnj7NRptV/ngiMrMUKUizbBuBJ/sYO.\",\"updated_at\":\"2024-05-02T01:36:09Z\"},\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"expiry\":1715881962}}"], ["updated_at", "2024-05-02 17:52:42.375621"], ["id", 3]]
  [1m[35m (7.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2B7ONdP0qLb9pCIkD3s-Bg\":{\"token\":\"$2a$10$VCdVSwGycedKMJJ.Crjueumo9tvqMrq7B8zMkd7gRuZL8VUZWgGx2\",\"expiry\":1715823369,\"previous_token\":\"$2a$10$CYu3rrqrp1Jsn3kpVNKBwOnnj7NRptV/ngiMrMUKUizbBuBJ/sYO.\",\"updated_at\":\"2024-05-02T01:36:09Z\"},\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"}}"], ["updated_at", "2024-05-02 17:52:42.441095"], ["id", 3]]
  [1m[35m (7.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 359ms (Views: 0.1ms | ActiveRecord: 16.7ms | Allocations: 17748)


Started POST "/auth/sign_in" for ::1 at 2024-05-03 02:56:37 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2B7ONdP0qLb9pCIkD3s-Bg\":{\"token\":\"$2a$10$VCdVSwGycedKMJJ.Crjueumo9tvqMrq7B8zMkd7gRuZL8VUZWgGx2\",\"expiry\":1715823369,\"previous_token\":\"$2a$10$CYu3rrqrp1Jsn3kpVNKBwOnnj7NRptV/ngiMrMUKUizbBuBJ/sYO.\",\"updated_at\":\"2024-05-02T01:36:09Z\"},\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"expiry\":1715882197}}"], ["updated_at", "2024-05-02 17:56:37.810782"], ["id", 3]]
  [1m[35m (10.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2B7ONdP0qLb9pCIkD3s-Bg\":{\"token\":\"$2a$10$VCdVSwGycedKMJJ.Crjueumo9tvqMrq7B8zMkd7gRuZL8VUZWgGx2\",\"expiry\":1715823369,\"previous_token\":\"$2a$10$CYu3rrqrp1Jsn3kpVNKBwOnnj7NRptV/ngiMrMUKUizbBuBJ/sYO.\",\"updated_at\":\"2024-05-02T01:36:09Z\"},\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"}}"], ["updated_at", "2024-05-02 17:56:37.884428"], ["id", 3]]
  [1m[35m (6.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 358ms (Views: 0.2ms | ActiveRecord: 18.5ms | Allocations: 18795)


Started POST "/auth/sign_in" for ::1 at 2024-05-03 03:11:59 +0900
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (1.6ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2B7ONdP0qLb9pCIkD3s-Bg\":{\"token\":\"$2a$10$VCdVSwGycedKMJJ.Crjueumo9tvqMrq7B8zMkd7gRuZL8VUZWgGx2\",\"expiry\":1715823369,\"previous_token\":\"$2a$10$CYu3rrqrp1Jsn3kpVNKBwOnnj7NRptV/ngiMrMUKUizbBuBJ/sYO.\",\"updated_at\":\"2024-05-02T01:36:09Z\"},\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"expiry\":1715883120}}"], ["updated_at", "2024-05-02 18:12:00.221928"], ["id", 3]]
  [1m[35m (7.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2B7ONdP0qLb9pCIkD3s-Bg\":{\"token\":\"$2a$10$VCdVSwGycedKMJJ.Crjueumo9tvqMrq7B8zMkd7gRuZL8VUZWgGx2\",\"expiry\":1715823369,\"previous_token\":\"$2a$10$CYu3rrqrp1Jsn3kpVNKBwOnnj7NRptV/ngiMrMUKUizbBuBJ/sYO.\",\"updated_at\":\"2024-05-02T01:36:09Z\"},\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"}}"], ["updated_at", "2024-05-02 18:12:00.312505"], ["id", 3]]
  [1m[35m (7.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 384ms (Views: 0.6ms | ActiveRecord: 19.4ms | Allocations: 18130)


Started POST "/auth/sign_in" for ::1 at 2024-05-03 03:13:55 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2B7ONdP0qLb9pCIkD3s-Bg\":{\"token\":\"$2a$10$VCdVSwGycedKMJJ.Crjueumo9tvqMrq7B8zMkd7gRuZL8VUZWgGx2\",\"expiry\":1715823369,\"previous_token\":\"$2a$10$CYu3rrqrp1Jsn3kpVNKBwOnnj7NRptV/ngiMrMUKUizbBuBJ/sYO.\",\"updated_at\":\"2024-05-02T01:36:09Z\"},\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"expiry\":1715883236}}"], ["updated_at", "2024-05-02 18:13:56.118395"], ["id", 3]]
  [1m[35m (8.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2B7ONdP0qLb9pCIkD3s-Bg\":{\"token\":\"$2a$10$VCdVSwGycedKMJJ.Crjueumo9tvqMrq7B8zMkd7gRuZL8VUZWgGx2\",\"expiry\":1715823369,\"previous_token\":\"$2a$10$CYu3rrqrp1Jsn3kpVNKBwOnnj7NRptV/ngiMrMUKUizbBuBJ/sYO.\",\"updated_at\":\"2024-05-02T01:36:09Z\"},\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"}}"], ["updated_at", "2024-05-02 18:13:56.198741"], ["id", 3]]
  [1m[35m (8.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 348ms (Views: 0.4ms | ActiveRecord: 19.3ms | Allocations: 18124)


Started POST "/auth/sign_in" for ::1 at 2024-05-03 13:33:17 +0900
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2B7ONdP0qLb9pCIkD3s-Bg\":{\"token\":\"$2a$10$VCdVSwGycedKMJJ.Crjueumo9tvqMrq7B8zMkd7gRuZL8VUZWgGx2\",\"expiry\":1715823369,\"previous_token\":\"$2a$10$CYu3rrqrp1Jsn3kpVNKBwOnnj7NRptV/ngiMrMUKUizbBuBJ/sYO.\",\"updated_at\":\"2024-05-02T01:36:09Z\"},\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"SsjrtUrJQ71ZNoO1vEYGQQ\":{\"token\":\"$2a$10$7Xo6STqbY.GSytx0WDxpTeB7AsyV.aBdcP0uoJIrgoeaoJezTdm96\",\"expiry\":1715920398}}"], ["updated_at", "2024-05-03 04:33:18.573959"], ["id", 3]]
  [1m[35m (11.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2B7ONdP0qLb9pCIkD3s-Bg\":{\"token\":\"$2a$10$VCdVSwGycedKMJJ.Crjueumo9tvqMrq7B8zMkd7gRuZL8VUZWgGx2\",\"expiry\":1715823369,\"previous_token\":\"$2a$10$CYu3rrqrp1Jsn3kpVNKBwOnnj7NRptV/ngiMrMUKUizbBuBJ/sYO.\",\"updated_at\":\"2024-05-02T01:36:09Z\"},\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"SsjrtUrJQ71ZNoO1vEYGQQ\":{\"token\":\"$2a$10$JrKXOw3.nzNpJkZjpJfAaOAhY.R1K3s70vMmbi1tQwNomAPz0vGT2\",\"expiry\":1715920398,\"previous_token\":\"$2a$10$7Xo6STqbY.GSytx0WDxpTeB7AsyV.aBdcP0uoJIrgoeaoJezTdm96\",\"updated_at\":\"2024-05-03T04:33:18Z\"}}"], ["updated_at", "2024-05-03 04:33:18.774526"], ["id", 3]]
  [1m[35m (17.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 801ms (Views: 0.5ms | ActiveRecord: 34.5ms | Allocations: 25958)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-03 13:33:33 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2B7ONdP0qLb9pCIkD3s-Bg\":{\"token\":\"$2a$10$VCdVSwGycedKMJJ.Crjueumo9tvqMrq7B8zMkd7gRuZL8VUZWgGx2\",\"expiry\":1715823369,\"previous_token\":\"$2a$10$CYu3rrqrp1Jsn3kpVNKBwOnnj7NRptV/ngiMrMUKUizbBuBJ/sYO.\",\"updated_at\":\"2024-05-02T01:36:09Z\"},\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"}}"], ["updated_at", "2024-05-03 04:33:34.041986"], ["id", 3]]
  [1m[35m (18.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 217ms (Views: 0.2ms | ActiveRecord: 19.9ms | Allocations: 7101)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-03 16:52:47 +0900
  [1m[35m (1.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 67ms (Views: 0.7ms | ActiveRecord: 2.2ms | Allocations: 13763)


Started POST "/auth/sign_in" for ::1 at 2024-05-03 16:53:16 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (5.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (1.9ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2B7ONdP0qLb9pCIkD3s-Bg\":{\"token\":\"$2a$10$VCdVSwGycedKMJJ.Crjueumo9tvqMrq7B8zMkd7gRuZL8VUZWgGx2\",\"expiry\":1715823369,\"previous_token\":\"$2a$10$CYu3rrqrp1Jsn3kpVNKBwOnnj7NRptV/ngiMrMUKUizbBuBJ/sYO.\",\"updated_at\":\"2024-05-02T01:36:09Z\"},\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"qW8p8JJKAsMme3hGNumrcQ\":{\"token\":\"$2a$10$ckfbzCjTap6pOVf5mLO8zOTUFBCPYpWqZT9BZIqTDSJRVV78m7gPS\",\"expiry\":1715932396}}"], ["updated_at", "2024-05-03 07:53:16.987359"], ["id", 3]]
  [1m[35m (10.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2B7ONdP0qLb9pCIkD3s-Bg\":{\"token\":\"$2a$10$VCdVSwGycedKMJJ.Crjueumo9tvqMrq7B8zMkd7gRuZL8VUZWgGx2\",\"expiry\":1715823369,\"previous_token\":\"$2a$10$CYu3rrqrp1Jsn3kpVNKBwOnnj7NRptV/ngiMrMUKUizbBuBJ/sYO.\",\"updated_at\":\"2024-05-02T01:36:09Z\"},\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"qW8p8JJKAsMme3hGNumrcQ\":{\"token\":\"$2a$10$TIu8oxVqfy6XZNfleQCKL.u5tgHlvq3T6eaJq1ESCyigbcEDP.1VC\",\"expiry\":1715932397,\"previous_token\":\"$2a$10$ckfbzCjTap6pOVf5mLO8zOTUFBCPYpWqZT9BZIqTDSJRVV78m7gPS\",\"updated_at\":\"2024-05-03T07:53:17Z\"}}"], ["updated_at", "2024-05-03 07:53:17.187987"], ["id", 3]]
  [1m[35m (11.7ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 748ms (Views: 0.4ms | ActiveRecord: 33.0ms | Allocations: 20787)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-03 16:53:18 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2B7ONdP0qLb9pCIkD3s-Bg\":{\"token\":\"$2a$10$VCdVSwGycedKMJJ.Crjueumo9tvqMrq7B8zMkd7gRuZL8VUZWgGx2\",\"expiry\":1715823369,\"previous_token\":\"$2a$10$CYu3rrqrp1Jsn3kpVNKBwOnnj7NRptV/ngiMrMUKUizbBuBJ/sYO.\",\"updated_at\":\"2024-05-02T01:36:09Z\"},\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"}}"], ["updated_at", "2024-05-03 07:53:18.905905"], ["id", 3]]
  [1m[35m (11.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 232ms (Views: 0.5ms | ActiveRecord: 13.6ms | Allocations: 6714)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-03 16:55:07 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 186)


Started POST "/auth/sign_in" for ::1 at 2024-05-03 16:55:42 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2B7ONdP0qLb9pCIkD3s-Bg\":{\"token\":\"$2a$10$VCdVSwGycedKMJJ.Crjueumo9tvqMrq7B8zMkd7gRuZL8VUZWgGx2\",\"expiry\":1715823369,\"previous_token\":\"$2a$10$CYu3rrqrp1Jsn3kpVNKBwOnnj7NRptV/ngiMrMUKUizbBuBJ/sYO.\",\"updated_at\":\"2024-05-02T01:36:09Z\"},\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"B1eiqyjlz9_aqb_LByZ0MA\":{\"token\":\"$2a$10$NztqUVtzCU0Lvx1qdk60Uu0H4WHkqD6rDWB3UXNT11rk0tNyN1E5u\",\"expiry\":1715932543}}"], ["updated_at", "2024-05-03 07:55:43.095992"], ["id", 3]]
  [1m[35m (15.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2B7ONdP0qLb9pCIkD3s-Bg\":{\"token\":\"$2a$10$VCdVSwGycedKMJJ.Crjueumo9tvqMrq7B8zMkd7gRuZL8VUZWgGx2\",\"expiry\":1715823369,\"previous_token\":\"$2a$10$CYu3rrqrp1Jsn3kpVNKBwOnnj7NRptV/ngiMrMUKUizbBuBJ/sYO.\",\"updated_at\":\"2024-05-02T01:36:09Z\"},\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"B1eiqyjlz9_aqb_LByZ0MA\":{\"token\":\"$2a$10$Yp91qLfapBIPynufLSAgxuxB7HY.Cm/Slzc64LPTxTp36cBJsNkeS\",\"expiry\":1715932543,\"previous_token\":\"$2a$10$NztqUVtzCU0Lvx1qdk60Uu0H4WHkqD6rDWB3UXNT11rk0tNyN1E5u\",\"updated_at\":\"2024-05-03T07:55:43Z\"}}"], ["updated_at", "2024-05-03 07:55:43.268736"], ["id", 3]]
  [1m[35m (12.7ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 826ms (Views: 0.4ms | ActiveRecord: 31.3ms | Allocations: 18583)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-03 16:55:44 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2B7ONdP0qLb9pCIkD3s-Bg\":{\"token\":\"$2a$10$VCdVSwGycedKMJJ.Crjueumo9tvqMrq7B8zMkd7gRuZL8VUZWgGx2\",\"expiry\":1715823369,\"previous_token\":\"$2a$10$CYu3rrqrp1Jsn3kpVNKBwOnnj7NRptV/ngiMrMUKUizbBuBJ/sYO.\",\"updated_at\":\"2024-05-02T01:36:09Z\"},\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"}}"], ["updated_at", "2024-05-03 07:55:45.016250"], ["id", 3]]
  [1m[35m (11.7ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 156ms (Views: 0.2ms | ActiveRecord: 12.4ms | Allocations: 7034)


Started POST "/auth/sign_in" for ::1 at 2024-05-03 20:44:18 +0900
  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (3.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2B7ONdP0qLb9pCIkD3s-Bg\":{\"token\":\"$2a$10$VCdVSwGycedKMJJ.Crjueumo9tvqMrq7B8zMkd7gRuZL8VUZWgGx2\",\"expiry\":1715823369,\"previous_token\":\"$2a$10$CYu3rrqrp1Jsn3kpVNKBwOnnj7NRptV/ngiMrMUKUizbBuBJ/sYO.\",\"updated_at\":\"2024-05-02T01:36:09Z\"},\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"fY7_NDTtkCfU7-vHgwkUmg\":{\"token\":\"$2a$10$ulHjYPUY/X521Kwfi3abDuULP3UsFdKuvUJH0LRWGINrg5Fz23W1C\",\"expiry\":1715946258}}"], ["updated_at", "2024-05-03 11:44:18.780297"], ["id", 3]]
  [1m[35m (11.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2B7ONdP0qLb9pCIkD3s-Bg\":{\"token\":\"$2a$10$VCdVSwGycedKMJJ.Crjueumo9tvqMrq7B8zMkd7gRuZL8VUZWgGx2\",\"expiry\":1715823369,\"previous_token\":\"$2a$10$CYu3rrqrp1Jsn3kpVNKBwOnnj7NRptV/ngiMrMUKUizbBuBJ/sYO.\",\"updated_at\":\"2024-05-02T01:36:09Z\"},\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"fY7_NDTtkCfU7-vHgwkUmg\":{\"token\":\"$2a$10$rlVADMV5GB40ZrpELDXmWO.BVAi7iKZ1v8CvoR84sjWwpdwKAef3K\",\"expiry\":1715946258,\"previous_token\":\"$2a$10$ulHjYPUY/X521Kwfi3abDuULP3UsFdKuvUJH0LRWGINrg5Fz23W1C\",\"updated_at\":\"2024-05-03T11:44:18Z\"}}"], ["updated_at", "2024-05-03 11:44:18.946257"], ["id", 3]]
  [1m[35m (11.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 686ms (Views: 0.5ms | ActiveRecord: 28.8ms | Allocations: 25228)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-03 20:44:20 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2B7ONdP0qLb9pCIkD3s-Bg\":{\"token\":\"$2a$10$VCdVSwGycedKMJJ.Crjueumo9tvqMrq7B8zMkd7gRuZL8VUZWgGx2\",\"expiry\":1715823369,\"previous_token\":\"$2a$10$CYu3rrqrp1Jsn3kpVNKBwOnnj7NRptV/ngiMrMUKUizbBuBJ/sYO.\",\"updated_at\":\"2024-05-02T01:36:09Z\"},\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"}}"], ["updated_at", "2024-05-03 11:44:21.053356"], ["id", 3]]
  [1m[35m (8.9ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 142ms (Views: 0.2ms | ActiveRecord: 10.3ms | Allocations: 7092)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-03 20:45:12 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 27ms (Views: 0.6ms | ActiveRecord: 0.0ms | Allocations: 6440)


Started POST "/auth/sign_in" for ::1 at 2024-05-03 20:45:37 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2B7ONdP0qLb9pCIkD3s-Bg\":{\"token\":\"$2a$10$VCdVSwGycedKMJJ.Crjueumo9tvqMrq7B8zMkd7gRuZL8VUZWgGx2\",\"expiry\":1715823369,\"previous_token\":\"$2a$10$CYu3rrqrp1Jsn3kpVNKBwOnnj7NRptV/ngiMrMUKUizbBuBJ/sYO.\",\"updated_at\":\"2024-05-02T01:36:09Z\"},\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"3PloP9rDrzSdfh73BBcu-Q\":{\"token\":\"$2a$10$8Stw5rTUB.kl6gktYaNrFe7XOptIy1JZxNjzZGWnvKq.H0pdjZ2Zm\",\"expiry\":1715946338}}"], ["updated_at", "2024-05-03 11:45:38.288812"], ["id", 3]]
  [1m[35m (11.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2B7ONdP0qLb9pCIkD3s-Bg\":{\"token\":\"$2a$10$VCdVSwGycedKMJJ.Crjueumo9tvqMrq7B8zMkd7gRuZL8VUZWgGx2\",\"expiry\":1715823369,\"previous_token\":\"$2a$10$CYu3rrqrp1Jsn3kpVNKBwOnnj7NRptV/ngiMrMUKUizbBuBJ/sYO.\",\"updated_at\":\"2024-05-02T01:36:09Z\"},\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"3PloP9rDrzSdfh73BBcu-Q\":{\"token\":\"$2a$10$1OEHA.m380U5RPayo5RODePUcEtWQkg7Xv7ho5V31o17DSGvyXdxK\",\"expiry\":1715946338,\"previous_token\":\"$2a$10$8Stw5rTUB.kl6gktYaNrFe7XOptIy1JZxNjzZGWnvKq.H0pdjZ2Zm\",\"updated_at\":\"2024-05-03T11:45:38Z\"}}"], ["updated_at", "2024-05-03 11:45:38.453403"], ["id", 3]]
  [1m[35m (11.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 628ms (Views: 0.4ms | ActiveRecord: 25.3ms | Allocations: 18937)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-03 20:45:40 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2B7ONdP0qLb9pCIkD3s-Bg\":{\"token\":\"$2a$10$VCdVSwGycedKMJJ.Crjueumo9tvqMrq7B8zMkd7gRuZL8VUZWgGx2\",\"expiry\":1715823369,\"previous_token\":\"$2a$10$CYu3rrqrp1Jsn3kpVNKBwOnnj7NRptV/ngiMrMUKUizbBuBJ/sYO.\",\"updated_at\":\"2024-05-02T01:36:09Z\"},\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"}}"], ["updated_at", "2024-05-03 11:45:40.321753"], ["id", 3]]
  [1m[35m (10.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 191ms (Views: 0.2ms | ActiveRecord: 12.3ms | Allocations: 6715)


Started POST "/auth/sign_in" for ::1 at 2024-05-03 20:56:24 +0900
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@tesr.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@tesr.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@tesr.com"], ["provider", "email"], ["LIMIT", 1]]
Completed 401 Unauthorized in 7ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1429)


Started POST "/auth/sign_in" for ::1 at 2024-05-03 20:56:31 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2B7ONdP0qLb9pCIkD3s-Bg\":{\"token\":\"$2a$10$VCdVSwGycedKMJJ.Crjueumo9tvqMrq7B8zMkd7gRuZL8VUZWgGx2\",\"expiry\":1715823369,\"previous_token\":\"$2a$10$CYu3rrqrp1Jsn3kpVNKBwOnnj7NRptV/ngiMrMUKUizbBuBJ/sYO.\",\"updated_at\":\"2024-05-02T01:36:09Z\"},\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$oo4Q3HEvPLy7Es7y2rhiUOx5wpthLvvdPAuBDHhEkSh3Je89AcJDm\",\"expiry\":1715946991}}"], ["updated_at", "2024-05-03 11:56:31.756072"], ["id", 3]]
  [1m[35m (19.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2B7ONdP0qLb9pCIkD3s-Bg\":{\"token\":\"$2a$10$VCdVSwGycedKMJJ.Crjueumo9tvqMrq7B8zMkd7gRuZL8VUZWgGx2\",\"expiry\":1715823369,\"previous_token\":\"$2a$10$CYu3rrqrp1Jsn3kpVNKBwOnnj7NRptV/ngiMrMUKUizbBuBJ/sYO.\",\"updated_at\":\"2024-05-02T01:36:09Z\"},\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"expiry\":1715946991,\"previous_token\":\"$2a$10$oo4Q3HEvPLy7Es7y2rhiUOx5wpthLvvdPAuBDHhEkSh3Je89AcJDm\",\"updated_at\":\"2024-05-03T11:56:31Z\"}}"], ["updated_at", "2024-05-03 11:56:31.926344"], ["id", 3]]
  [1m[35m (11.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 748ms (Views: 0.2ms | ActiveRecord: 33.2ms | Allocations: 18275)


Started GET "/auth/validate_token" for ::1 at 2024-05-03 21:09:11 +0900
  [1m[35m (5.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (3.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2B7ONdP0qLb9pCIkD3s-Bg\":{\"token\":\"$2a$10$VCdVSwGycedKMJJ.Crjueumo9tvqMrq7B8zMkd7gRuZL8VUZWgGx2\",\"expiry\":1715823369,\"previous_token\":\"$2a$10$CYu3rrqrp1Jsn3kpVNKBwOnnj7NRptV/ngiMrMUKUizbBuBJ/sYO.\",\"updated_at\":\"2024-05-02T01:36:09Z\"},\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"expiry\":1715947752,\"previous_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"last_token\":\"$2a$10$oo4Q3HEvPLy7Es7y2rhiUOx5wpthLvvdPAuBDHhEkSh3Je89AcJDm\",\"updated_at\":\"2024-05-03T12:09:12Z\"}}"], ["updated_at", "2024-05-03 12:09:12.232194"], ["id", 3]]
  [1m[35m (15.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 517ms (Views: 12.6ms | ActiveRecord: 24.4ms | Allocations: 9984)


Started GET "/auth/validate_token" for ::1 at 2024-05-03 21:09:42 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2B7ONdP0qLb9pCIkD3s-Bg\":{\"token\":\"$2a$10$VCdVSwGycedKMJJ.Crjueumo9tvqMrq7B8zMkd7gRuZL8VUZWgGx2\",\"expiry\":1715823369,\"previous_token\":\"$2a$10$CYu3rrqrp1Jsn3kpVNKBwOnnj7NRptV/ngiMrMUKUizbBuBJ/sYO.\",\"updated_at\":\"2024-05-02T01:36:09Z\"},\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"}}"], ["updated_at", "2024-05-03 12:09:42.423607"], ["id", 3]]
  [1m[35m (12.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 329ms (Views: 2.0ms | ActiveRecord: 15.7ms | Allocations: 10098)


Started GET "/auth/validate_token" for ::1 at 2024-05-03 21:09:53 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 235ms (Views: 2.5ms | ActiveRecord: 0.6ms | Allocations: 1408)


Started GET "/auth/validate_token" for ::1 at 2024-05-03 21:11:46 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 231ms (Views: 1.4ms | ActiveRecord: 0.7ms | Allocations: 1403)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-03 21:11:48 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 287ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 1411)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-03 21:11:50 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 206ms (Views: 2.3ms | ActiveRecord: 0.2ms | Allocations: 1410)


Started GET "/auth/validate_token" for ::1 at 2024-05-03 21:12:01 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 229ms (Views: 2.8ms | ActiveRecord: 0.9ms | Allocations: 1401)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-03 21:12:09 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 216ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1412)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-03 21:12:59 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 336ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 1411)


Started GET "/auth/validate_token" for ::1 at 2024-05-03 21:13:23 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 202ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 1401)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-03 21:13:24 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 186ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1410)


Started POST "/auth/sign_in" for ::1 at 2024-05-03 21:13:34 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (4.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2B7ONdP0qLb9pCIkD3s-Bg\":{\"token\":\"$2a$10$VCdVSwGycedKMJJ.Crjueumo9tvqMrq7B8zMkd7gRuZL8VUZWgGx2\",\"expiry\":1715823369,\"previous_token\":\"$2a$10$CYu3rrqrp1Jsn3kpVNKBwOnnj7NRptV/ngiMrMUKUizbBuBJ/sYO.\",\"updated_at\":\"2024-05-02T01:36:09Z\"},\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"expiry\":1715948015}}"], ["updated_at", "2024-05-03 12:13:35.120846"], ["id", 3]]
  [1m[35m (13.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2B7ONdP0qLb9pCIkD3s-Bg\":{\"token\":\"$2a$10$VCdVSwGycedKMJJ.Crjueumo9tvqMrq7B8zMkd7gRuZL8VUZWgGx2\",\"expiry\":1715823369,\"previous_token\":\"$2a$10$CYu3rrqrp1Jsn3kpVNKBwOnnj7NRptV/ngiMrMUKUizbBuBJ/sYO.\",\"updated_at\":\"2024-05-02T01:36:09Z\"},\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"}}"], ["updated_at", "2024-05-03 12:13:35.286790"], ["id", 3]]
  [1m[35m (12.3ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 771ms (Views: 0.3ms | ActiveRecord: 33.3ms | Allocations: 18733)


Started GET "/auth/validate_token" for ::1 at 2024-05-03 21:13:35 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Started POST "/auth/sign_in" for ::1 at 2024-05-03 21:13:35 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 140ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 10960)


  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"Idks0MrPkUVaiwilfcI36A\":{\"token\":\"$2a$10$aWKxUACTusoWk75ZFFfFDuEunb2cPM2cLMI50PEJYRkx0/nEQYeMm\",\"expiry\":1715948015}}"], ["updated_at", "2024-05-03 12:13:35.809538"], ["id", 3]]
  [1m[35m (10.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"Idks0MrPkUVaiwilfcI36A\":{\"token\":\"$2a$10$1eF/knfQJF/ZDjf81PNYduneagEpoFx99foizJcy0Sj1h2WAGYexu\",\"expiry\":1715948016,\"previous_token\":\"$2a$10$aWKxUACTusoWk75ZFFfFDuEunb2cPM2cLMI50PEJYRkx0/nEQYeMm\",\"updated_at\":\"2024-05-03T12:13:35Z\"}}"], ["updated_at", "2024-05-03 12:13:36.016265"], ["id", 3]]
  [1m[35m (12.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 676ms (Views: 0.3ms | ActiveRecord: 26.1ms | Allocations: 25987)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-03 21:13:37 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"}}"], ["updated_at", "2024-05-03 12:13:37.181178"], ["id", 3]]
  [1m[35m (12.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 218ms (Views: 2.2ms | ActiveRecord: 13.7ms | Allocations: 7135)


Started GET "/auth/validate_token" for ::1 at 2024-05-03 21:13:42 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
Completed 401 Unauthorized in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms | Allocations: 174)


Started GET "/auth/validate_token" for ::1 at 2024-05-03 21:13:51 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
Completed 401 Unauthorized in 3ms (Views: 1.3ms | ActiveRecord: 0.0ms | Allocations: 174)


Started GET "/auth/validate_token" for ::1 at 2024-05-03 21:14:04 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 174)


Started POST "/auth/sign_in" for ::1 at 2024-05-03 21:30:06 +0900
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"limJit5kgX82zEIIX8OsgQ\":{\"token\":\"$2a$10$xrAKvSNTvDMyO0XSbzgch.aksf04Ax51HYufMEpELQsKIJm8BK8eO\",\"expiry\":1715949006}}"], ["updated_at", "2024-05-03 12:30:06.965871"], ["id", 3]]
  [1m[35m (10.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"limJit5kgX82zEIIX8OsgQ\":{\"token\":\"$2a$10$ZGGr360ro5f.K3Ly5iUfXOlrwKCvW8XTrv1SiHIlQlXndx4PHF32q\",\"expiry\":1715949007,\"previous_token\":\"$2a$10$xrAKvSNTvDMyO0XSbzgch.aksf04Ax51HYufMEpELQsKIJm8BK8eO\",\"updated_at\":\"2024-05-03T12:30:07Z\"}}"], ["updated_at", "2024-05-03 12:30:07.106292"], ["id", 3]]
  [1m[35m (9.9ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 757ms (Views: 2.5ms | ActiveRecord: 23.3ms | Allocations: 18825)


Started GET "/auth/validate_token" for ::1 at 2024-05-03 21:30:07 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 140ms (Views: 0.5ms | ActiveRecord: 1.7ms | Allocations: 7900)


Started GET "/auth/validate_token" for ::1 at 2024-05-03 21:30:29 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (1.9ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"limJit5kgX82zEIIX8OsgQ\":{\"token\":\"$2a$10$lPRh5tMIFpHHgarpb4wh2Op3PL7rgFHe6csHQ5ZB14HuXyOcDyLOG\",\"expiry\":1715949029,\"previous_token\":\"$2a$10$ZGGr360ro5f.K3Ly5iUfXOlrwKCvW8XTrv1SiHIlQlXndx4PHF32q\",\"last_token\":\"$2a$10$xrAKvSNTvDMyO0XSbzgch.aksf04Ax51HYufMEpELQsKIJm8BK8eO\",\"updated_at\":\"2024-05-03T12:30:29Z\"}}"], ["updated_at", "2024-05-03 12:30:29.764897"], ["id", 3]]
  [1m[35m (17.3ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 303ms (Views: 2.7ms | ActiveRecord: 24.0ms | Allocations: 10469)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-03 21:30:34 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"}}"], ["updated_at", "2024-05-03 12:30:35.134539"], ["id", 3]]
  [1m[35m (10.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 215ms (Views: 0.2ms | ActiveRecord: 11.6ms | Allocations: 7107)


Started GET "/auth/validate_token" for ::1 at 2024-05-03 21:30:41 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 174)


Started GET "/auth/validate_token" for ::1 at 2024-05-03 21:30:53 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 174)


Started POST "/auth/sign_in" for ::1 at 2024-05-03 21:34:39 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (1.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"GYrwQH3jRnKtCfF_RszWOQ\":{\"token\":\"$2a$10$CMXGRyxKdUMN3gTRFhF.zumZoCtR4GdrrgI.8t7xznY2HEHKwXBeC\",\"expiry\":1715949279}}"], ["updated_at", "2024-05-03 12:34:39.915643"], ["id", 3]]
  [1m[35m (86.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"GYrwQH3jRnKtCfF_RszWOQ\":{\"token\":\"$2a$10$BDAsoqofzXhDZNRfP3CNye3lLunif79w.6cHMx1Qk1y9mbbn7XqK.\",\"expiry\":1715949280,\"previous_token\":\"$2a$10$CMXGRyxKdUMN3gTRFhF.zumZoCtR4GdrrgI.8t7xznY2HEHKwXBeC\",\"updated_at\":\"2024-05-03T12:34:40Z\"}}"], ["updated_at", "2024-05-03 12:34:40.216057"], ["id", 3]]
  [1m[35m (65.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 1214ms (Views: 2.8ms | ActiveRecord: 156.2ms | Allocations: 19614)


Started GET "/auth/validate_token" for ::1 at 2024-05-03 21:34:40 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (7.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 304ms (Views: 0.3ms | ActiveRecord: 8.5ms | Allocations: 7561)


Started GET "/auth/validate_token" for ::1 at 2024-05-03 21:34:44 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (5.9ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"GYrwQH3jRnKtCfF_RszWOQ\":{\"token\":\"$2a$10$BDAsoqofzXhDZNRfP3CNye3lLunif79w.6cHMx1Qk1y9mbbn7XqK.\",\"expiry\":1715949280,\"previous_token\":\"$2a$10$CMXGRyxKdUMN3gTRFhF.zumZoCtR4GdrrgI.8t7xznY2HEHKwXBeC\",\"updated_at\":\"2024-05-03T12:34:44Z\"}}"], ["updated_at", "2024-05-03 12:34:44.998640"], ["id", 3]]
  [1m[35m (20.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 133ms (Views: 0.4ms | ActiveRecord: 27.8ms | Allocations: 10061)


Started GET "/auth/validate_token" for ::1 at 2024-05-03 21:34:47 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (7.1ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"GYrwQH3jRnKtCfF_RszWOQ\":{\"token\":\"$2a$10$BDAsoqofzXhDZNRfP3CNye3lLunif79w.6cHMx1Qk1y9mbbn7XqK.\",\"expiry\":1715949280,\"previous_token\":\"$2a$10$CMXGRyxKdUMN3gTRFhF.zumZoCtR4GdrrgI.8t7xznY2HEHKwXBeC\",\"updated_at\":\"2024-05-03T12:34:47Z\"}}"], ["updated_at", "2024-05-03 12:34:47.998620"], ["id", 3]]
  [1m[35m (33.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 140ms (Views: 10.5ms | ActiveRecord: 41.3ms | Allocations: 10380)


Started GET "/auth/validate_token" for ::1 at 2024-05-03 21:34:48 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"GYrwQH3jRnKtCfF_RszWOQ\":{\"token\":\"$2a$10$BDAsoqofzXhDZNRfP3CNye3lLunif79w.6cHMx1Qk1y9mbbn7XqK.\",\"expiry\":1715949280,\"previous_token\":\"$2a$10$CMXGRyxKdUMN3gTRFhF.zumZoCtR4GdrrgI.8t7xznY2HEHKwXBeC\",\"updated_at\":\"2024-05-03T12:34:48Z\"}}"], ["updated_at", "2024-05-03 12:34:48.143779"], ["id", 3]]
  [1m[35m (73.9ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 145ms (Views: 0.4ms | ActiveRecord: 77.5ms | Allocations: 10676)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-03 21:34:54 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"}}"], ["updated_at", "2024-05-03 12:34:54.022155"], ["id", 3]]
  [1m[35m (13.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 48ms (Views: 0.4ms | ActiveRecord: 14.4ms | Allocations: 6713)


Started GET "/auth/validate_token" for ::1 at 2024-05-03 21:35:03 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 174)


Started POST "/auth/sign_in" for ::1 at 2024-05-03 21:41:50 +0900
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$r5Z3EgLTYgTReMDTxnz3yeK4OY0fLV/irMoCRu55XqcZmRcvVJ8r6\",\"expiry\":1715949711}}"], ["updated_at", "2024-05-03 12:41:51.388451"], ["id", 3]]
  [1m[35m (10.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"expiry\":1715949711,\"previous_token\":\"$2a$10$r5Z3EgLTYgTReMDTxnz3yeK4OY0fLV/irMoCRu55XqcZmRcvVJ8r6\",\"updated_at\":\"2024-05-03T12:41:51Z\"}}"], ["updated_at", "2024-05-03 12:41:51.573913"], ["id", 3]]
  [1m[35m (10.3ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 694ms (Views: 0.6ms | ActiveRecord: 24.7ms | Allocations: 18812)


Started GET "/auth/validate_token" for ::1 at 2024-05-03 21:41:51 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 137ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 7900)


Started GET "/auth/validate_token" for ::1 at 2024-05-03 21:53:10 +0900
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (2.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"expiry\":1715950390,\"previous_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"last_token\":\"$2a$10$r5Z3EgLTYgTReMDTxnz3yeK4OY0fLV/irMoCRu55XqcZmRcvVJ8r6\",\"updated_at\":\"2024-05-03T12:53:10Z\"}}"], ["updated_at", "2024-05-03 12:53:10.289559"], ["id", 3]]
  [1m[35m (10.7ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 184ms (Views: 0.4ms | ActiveRecord: 14.8ms | Allocations: 10271)


  [1m[35m (2.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" LIMIT ?[0m  [["LIMIT", 11]]
Started GET "/auth/validate_token" for ::1 at 2024-05-03 21:55:48 +0900
  [1m[35m (4.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"sl1H3aQvBmezzsKjAloUMw\":{\"token\":\"$2a$10$TtLJU3dZLwOq9jAoBvlus.IRl583dReU10VRWtPhjwXVN8myu3xUG\",\"expiry\":1715880808,\"previous_token\":\"$2a$10$xr.a81zlshBFrOGMs/kErOuCxgQWzd9Gv9bWYTsSUuWUvBip90NZ2\",\"updated_at\":\"2024-05-02T17:33:28Z\"},\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"}}"], ["updated_at", "2024-05-03 12:55:49.036910"], ["id", 3]]
  [1m[35m (10.9ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 482ms (Views: 0.4ms | ActiveRecord: 14.9ms | Allocations: 17349)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-03 21:56:10 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 278ms (Views: 0.6ms | ActiveRecord: 0.6ms | Allocations: 8007)


Started GET "/auth/validate_token" for ::1 at 2024-05-03 21:56:16 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 266ms (Views: 0.3ms | ActiveRecord: 0.6ms | Allocations: 1449)


Started GET "/auth/validate_token" for ::1 at 2024-05-03 21:56:16 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
Completed 401 Unauthorized in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms | Allocations: 174)


Started POST "/auth/sign_in" for ::1 at 2024-05-03 21:56:23 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"TXbpyRGojC463RK4amozBQ\":{\"token\":\"$2a$10$eFBuKJUQOxRfcwTe5jk42O7lsB0OlQrdL/NwL2MdZ8e5S9oLFvnyS\",\"expiry\":1715950584}}"], ["updated_at", "2024-05-03 12:56:24.033737"], ["id", 3]]
  [1m[35m (10.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"TXbpyRGojC463RK4amozBQ\":{\"token\":\"$2a$10$D1LaJa9aPMD7QZxHUzhTlOyS.mQ9xBivRoZRv7Wx88FsTdzl4pTu2\",\"expiry\":1715950584,\"previous_token\":\"$2a$10$eFBuKJUQOxRfcwTe5jk42O7lsB0OlQrdL/NwL2MdZ8e5S9oLFvnyS\",\"updated_at\":\"2024-05-03T12:56:24Z\"}}"], ["updated_at", "2024-05-03 12:56:24.206276"], ["id", 3]]
  [1m[35m (10.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 730ms (Views: 0.3ms | ActiveRecord: 23.2ms | Allocations: 20384)


Started GET "/auth/validate_token" for ::1 at 2024-05-03 21:56:24 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 144ms (Views: 0.3ms | ActiveRecord: 1.1ms | Allocations: 7864)


Started GET "/auth/validate_token" for ::1 at 2024-05-03 21:56:28 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"TXbpyRGojC463RK4amozBQ\":{\"token\":\"$2a$10$D1LaJa9aPMD7QZxHUzhTlOyS.mQ9xBivRoZRv7Wx88FsTdzl4pTu2\",\"expiry\":1715950584,\"previous_token\":\"$2a$10$eFBuKJUQOxRfcwTe5jk42O7lsB0OlQrdL/NwL2MdZ8e5S9oLFvnyS\",\"updated_at\":\"2024-05-03T12:56:28Z\"}}"], ["updated_at", "2024-05-03 12:56:28.059231"], ["id", 3]]
  [1m[35m (10.3ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 66ms (Views: 0.6ms | ActiveRecord: 12.8ms | Allocations: 10090)


Started GET "/auth/validate_token" for ::1 at 2024-05-03 21:56:30 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"TXbpyRGojC463RK4amozBQ\":{\"token\":\"$2a$10$D1LaJa9aPMD7QZxHUzhTlOyS.mQ9xBivRoZRv7Wx88FsTdzl4pTu2\",\"expiry\":1715950584,\"previous_token\":\"$2a$10$eFBuKJUQOxRfcwTe5jk42O7lsB0OlQrdL/NwL2MdZ8e5S9oLFvnyS\",\"updated_at\":\"2024-05-03T12:56:30Z\"}}"], ["updated_at", "2024-05-03 12:56:30.170872"], ["id", 3]]
  [1m[35m (14.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 57ms (Views: 0.5ms | ActiveRecord: 17.1ms | Allocations: 10415)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-03 21:56:32 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (2.1ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"}}"], ["updated_at", "2024-05-03 12:56:32.414000"], ["id", 3]]
  [1m[35m (14.3ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 45ms (Views: 0.3ms | ActiveRecord: 17.0ms | Allocations: 7070)


Started POST "/auth/sign_in" for ::1 at 2024-05-03 21:56:41 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"YTlhrqH-IhtzwSlrVHo_MQ\":{\"token\":\"$2a$10$7BAsNLg98BfjIW9ax11Q5.JCQeva4f8GJCungG6zmarNRfnDN9Czm\",\"expiry\":1715950602}}"], ["updated_at", "2024-05-03 12:56:42.390374"], ["id", 3]]
  [1m[35m (10.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"YTlhrqH-IhtzwSlrVHo_MQ\":{\"token\":\"$2a$10$gkD1f9dZiwq3cAjxIr379eZ/8tRjX9B9QLT.TkiqZ3.oJnOLjGorC\",\"expiry\":1715950602,\"previous_token\":\"$2a$10$7BAsNLg98BfjIW9ax11Q5.JCQeva4f8GJCungG6zmarNRfnDN9Czm\",\"updated_at\":\"2024-05-03T12:56:42Z\"}}"], ["updated_at", "2024-05-03 12:56:42.558715"], ["id", 3]]
  [1m[35m (10.9ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 655ms (Views: 0.3ms | ActiveRecord: 23.8ms | Allocations: 19065)


Started GET "/auth/validate_token" for ::1 at 2024-05-03 21:56:42 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 162ms (Views: 0.3ms | ActiveRecord: 0.7ms | Allocations: 7862)


Started GET "/messages" for ::1 at 2024-05-03 21:57:39 +0900
Processing by MessagesController#index as HTML
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 6ms (Views: 1.8ms | ActiveRecord: 0.0ms | Allocations: 216)


Started GET "/favicon.ico" for ::1 at 2024-05-03 21:57:40 +0900
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started DELETE "/auth/sign_out" for ::1 at 2024-05-03 21:58:37 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"}}"], ["updated_at", "2024-05-03 12:58:37.036336"], ["id", 3]]
  [1m[35m (16.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 53ms (Views: 0.7ms | ActiveRecord: 18.6ms | Allocations: 6378)


Started POST "/auth/sign_in" for ::1 at 2024-05-03 21:58:44 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@tetst.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@tetst.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@tetst.com"], ["provider", "email"], ["LIMIT", 1]]
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1398)


Started POST "/auth/sign_in" for ::1 at 2024-05-03 21:58:49 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@tetst.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@tetst.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@tetst.com"], ["provider", "email"], ["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1380)


Started POST "/auth/sign_in" for ::1 at 2024-05-03 21:58:53 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@tets.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@tets.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@tets.com"], ["provider", "email"], ["LIMIT", 1]]
Completed 401 Unauthorized in 4ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 1380)


Started POST "/auth/sign_in" for ::1 at 2024-05-03 21:58:55 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"vEWI1xm6nVAyolrOGauOFA\":{\"token\":\"$2a$10$qqZMCSwG1Sq0OFzl1NgQv.EcWqZPd8T7zfggRo.ggalBTtqGNmsrK\",\"expiry\":1715950736}}"], ["updated_at", "2024-05-03 12:58:56.398253"], ["id", 3]]
  [1m[35m (12.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"vEWI1xm6nVAyolrOGauOFA\":{\"token\":\"$2a$10$KgTz449c.mYsKmdmeXKZAuMsIWqGvos765n5PGtLWxnARKmRyzKGi\",\"expiry\":1715950736,\"previous_token\":\"$2a$10$qqZMCSwG1Sq0OFzl1NgQv.EcWqZPd8T7zfggRo.ggalBTtqGNmsrK\",\"updated_at\":\"2024-05-03T12:58:56Z\"}}"], ["updated_at", "2024-05-03 12:58:56.567817"], ["id", 3]]
  [1m[35m (15.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 698ms (Views: 0.3ms | ActiveRecord: 29.6ms | Allocations: 18343)


Started GET "/auth/validate_token" for ::1 at 2024-05-03 21:58:56 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 157ms (Views: 0.4ms | ActiveRecord: 0.7ms | Allocations: 7862)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-03 21:59:13 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (1.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"}}"], ["updated_at", "2024-05-03 12:59:13.155817"], ["id", 3]]
  [1m[35m (14.7ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 45ms (Views: 0.3ms | ActiveRecord: 16.4ms | Allocations: 6714)


Started POST "/auth/sign_in" for ::1 at 2024-05-03 21:59:20 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
Completed 401 Unauthorized in 360ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1603)


Started POST "/auth/sign_in" for ::1 at 2024-05-03 21:59:25 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$5tqm/gcxZkQbmfWh.I/T5e6J720cgx40fbhZ7UqWC3YhMXHfbDN6y\",\"expiry\":1715950766}}"], ["updated_at", "2024-05-03 12:59:26.022298"], ["id", 3]]
  [1m[35m (11.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"expiry\":1715950766,\"previous_token\":\"$2a$10$5tqm/gcxZkQbmfWh.I/T5e6J720cgx40fbhZ7UqWC3YhMXHfbDN6y\",\"updated_at\":\"2024-05-03T12:59:26Z\"}}"], ["updated_at", "2024-05-03 12:59:26.171106"], ["id", 3]]
  [1m[35m (10.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 573ms (Views: 0.2ms | ActiveRecord: 22.9ms | Allocations: 18702)


Started GET "/auth/validate_token" for ::1 at 2024-05-03 21:59:26 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 114ms (Views: 0.3ms | ActiveRecord: 0.6ms | Allocations: 7865)


Started GET "/messages" for ::1 at 2024-05-03 22:00:04 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"expiry\":1715950804,\"previous_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"last_token\":\"$2a$10$5tqm/gcxZkQbmfWh.I/T5e6J720cgx40fbhZ7UqWC3YhMXHfbDN6y\",\"updated_at\":\"2024-05-03T13:00:04Z\"}}"], ["updated_at", "2024-05-03 13:00:04.381786"], ["id", 3]]
  [1m[35m (21.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 304ms (Views: 0.8ms | ActiveRecord: 29.5ms | Allocations: 26284)


Started GET "/messages" for ::1 at 2024-05-03 22:13:24 +0900
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by MessagesController#index as HTML
  [1m[36mUser Load (7.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.7ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"aaWwuBj_vmHNz9YjZaGVIQ\":{\"token\":\"$2a$10$ZhGzSu1foWWTR/tjfNqunefWrv8Fai6DtCfU7.kcI6rBsNnvYPLNC\",\"expiry\":1715881323,\"previous_token\":\"$2a$10$V.m3bWurN0b3pTp6TZQr2OKa8D5URWbPOQneUusMJiDEr5gAQ4ILO\",\"updated_at\":\"2024-05-02T17:42:03Z\"},\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"}}"], ["updated_at", "2024-05-03 13:13:25.165465"], ["id", 3]]
  [1m[35m (12.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 370ms (Views: 1.2ms | ActiveRecord: 23.3ms | Allocations: 15288)


Started GET "/auth/validate_token" for ::1 at 2024-05-04 01:27:44 +0900
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 118ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 13747)


Started GET "/auth/validate_token" for ::1 at 2024-05-04 01:27:44 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 174)


Started POST "/auth/sign_in" for ::1 at 2024-05-04 01:27:54 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"55gTB8BIbrVq1nSMqPfQJA\":{\"token\":\"$2a$10$Qq5nYXgLkgYN.CIbYfCZeekZCOkBalvBRrEgG87J5umrkjp/TY0Wu\",\"expiry\":1715963274}}"], ["updated_at", "2024-05-03 16:27:54.450020"], ["id", 3]]
  [1m[35m (8.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"55gTB8BIbrVq1nSMqPfQJA\":{\"token\":\"$2a$10$GAVGjJNEXu./cFhXzCY.juPXHGTpfi41bUAd9qBXmGoUEtazqdlIi\",\"expiry\":1715963274,\"previous_token\":\"$2a$10$Qq5nYXgLkgYN.CIbYfCZeekZCOkBalvBRrEgG87J5umrkjp/TY0Wu\",\"updated_at\":\"2024-05-03T16:27:54Z\"}}"], ["updated_at", "2024-05-03 16:27:54.527887"], ["id", 3]]
  [1m[35m (8.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 341ms (Views: 0.1ms | ActiveRecord: 20.0ms | Allocations: 19608)


Started GET "/auth/validate_token" for ::1 at 2024-05-04 01:27:54 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 66ms (Views: 1.2ms | ActiveRecord: 0.4ms | Allocations: 8080)


Started GET "/cable" for ::1 at 2024-05-04 01:27:54 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 01:27:54 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 01:27:54 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 30ms (Views: 0.2ms | ActiveRecord: 1.6ms | Allocations: 22668)


Started POST "/auth" for ::1 at 2024-05-04 01:28:37 +0900
Processing by Auth::RegistrationsController#create as HTML
  Parameters: {"name"=>"test002", "email"=>"test2@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"name"=>"test002", "email"=>"test2@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
[31mUnpermitted parameter: :registration[0m
[31mUnpermitted parameter: :registration[0m
[31mUnpermitted parameter: :registration[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "test2@test.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("uid", "encrypted_password", "name", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["uid", "test2@test.com"], ["encrypted_password", "$2a$12$2qW/lA4WEKZrlQLrucdzVudL2dV7cHUqWFOM8T4E9BX4X6Rp1jfQe"], ["name", "test002"], ["email", "test2@test.com"], ["created_at", "2024-05-03 16:28:37.976167"], ["updated_at", "2024-05-03 16:28:37.976167"]]
  [1m[35m (7.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"mqWjmL_KbCefTM3Wq2xqEA\":{\"token\":\"$2a$10$4YvETA7ltO7/6Q14WWms1.0TvUf/S8CTmNGMkPT.UioSkh5CYgX3O\",\"expiry\":1715963318}}"], ["updated_at", "2024-05-03 16:28:38.033403"], ["id", 4]]
  [1m[35m (16.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"mqWjmL_KbCefTM3Wq2xqEA\":{\"token\":\"$2a$10$4pzQcCCVwey1/wNI39151.0/xHCMr4BiDMx.9FeMF5kjjJVnvOj/a\",\"expiry\":1715963318,\"previous_token\":\"$2a$10$4YvETA7ltO7/6Q14WWms1.0TvUf/S8CTmNGMkPT.UioSkh5CYgX3O\",\"updated_at\":\"2024-05-03T16:28:38Z\"}}"], ["updated_at", "2024-05-03 16:28:38.104981"], ["id", 4]]
  [1m[35m (8.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 340ms (Views: 0.2ms | ActiveRecord: 33.3ms | Allocations: 22965)


Started GET "/auth/validate_token" for ::1 at 2024-05-04 01:28:38 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 54ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 7002)


Started GET "/cable" for ::1 at 2024-05-04 01:28:38 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 01:28:38 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 01:28:38 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 18ms (Views: 0.4ms | ActiveRecord: 1.0ms | Allocations: 12288)


RoomChannel#receive({"message"=>"sss", "email"=>"test@test.com"})
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["content", "sss"], ["created_at", "2024-05-03 16:29:31.656022"], ["updated_at", "2024-05-03 16:29:31.656022"]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (14.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>"sss", :name=>"test001", :created_at=>Fri, 03 May 2024 16:29:31 UTC +00:00}
RoomChannel transmitting {"message"=>"sss", "name"=>"test001", "created_at"=>"2024-05-03T16:29:31.656Z"} (via streamed from room_channel)
RoomChannel transmitting {"message"=>"sss", "name"=>"test001", "created_at"=>"2024-05-03T16:29:31.656Z"} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-04 01:29:31 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
Started GET "/messages" for ::1 at 2024-05-04 01:29:31 +0900
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
Processing by MessagesController#index as HTML
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"mqWjmL_KbCefTM3Wq2xqEA\":{\"token\":\"$2a$10$/mgNchKPa65aF3j6QqyXZeHez4sthggSm53IEeSSGhpjSMNhRKO2q\",\"expiry\":1715963371,\"previous_token\":\"$2a$10$4pzQcCCVwey1/wNI39151.0/xHCMr4BiDMx.9FeMF5kjjJVnvOj/a\",\"last_token\":\"$2a$10$4YvETA7ltO7/6Q14WWms1.0TvUf/S8CTmNGMkPT.UioSkh5CYgX3O\",\"updated_at\":\"2024-05-03T16:29:31Z\"}}"], ["updated_at", "2024-05-03 16:29:31.757081"], ["id", 4]]
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"55gTB8BIbrVq1nSMqPfQJA\":{\"token\":\"$2a$10$jVswzQ58KgkOS672x3uFVuS9o6sLVWtiTSf1wBKvAGP1Lz7pdCAZ.\",\"expiry\":1715963376,\"previous_token\":\"$2a$10$GAVGjJNEXu./cFhXzCY.juPXHGTpfi41bUAd9qBXmGoUEtazqdlIi\",\"last_token\":\"$2a$10$Qq5nYXgLkgYN.CIbYfCZeekZCOkBalvBRrEgG87J5umrkjp/TY0Wu\",\"updated_at\":\"2024-05-03T16:29:31Z\"}}"], ["updated_at", "2024-05-03 16:29:36.779649"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 500 Internal Server Error in 5114ms (Views: 0.3ms | ActiveRecord: 1.8ms | Allocations: 28989)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 01:29:36 +0900
RoomChannel stopped streaming from room_channel
  [1m[35m (5036.2ms)[0m  [1m[36mcommit transaction[0m
Started GET "/auth/validate_token" for ::1 at 2024-05-04 01:29:36 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  
ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked):
  
sqlite3 (1.7.3) lib/sqlite3/statement.rb:108:in `step'
sqlite3 (1.7.3) lib/sqlite3/statement.rb:108:in `block in each'
sqlite3 (1.7.3) lib/sqlite3/statement.rb:107:in `loop'
sqlite3 (1.7.3) lib/sqlite3/statement.rb:107:in `each'
activerecord (6.0.6.1) lib/active_record/connection_adapters/sqlite3/database_statements.rb:49:in `to_a'
activerecord (6.0.6.1) lib/active_record/connection_adapters/sqlite3/database_statements.rb:49:in `block (2 levels) in exec_query'
activesupport (6.0.6.1) lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
activesupport (6.0.6.1) lib/active_support/concurrency/share_lock.rb:187:in `yield_shares'
activesupport (6.0.6.1) lib/active_support/dependencies/interlock.rb:47:in `permit_concurrent_loads'
activerecord (6.0.6.1) lib/active_record/connection_adapters/sqlite3/database_statements.rb:40:in `block in exec_query'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract_adapter.rb:728:in `block (2 levels) in log'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract_adapter.rb:727:in `block in log'
activesupport (6.0.6.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract_adapter.rb:718:in `log'
activerecord (6.0.6.1) lib/active_record/connection_adapters/sqlite3/database_statements.rb:39:in `exec_query'
activerecord (6.0.6.1) lib/active_record/connection_adapters/sqlite3/database_statements.rb:67:in `exec_delete'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/database_statements.rb:174:in `update'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/query_cache.rb:22:in `update'
activerecord (6.0.6.1) lib/active_record/persistence.rb:385:in `_update_record'
activerecord (6.0.6.1) lib/active_record/persistence.rb:896:in `_update_row'
activerecord (6.0.6.1) lib/active_record/locking/optimistic.rb:88:in `_update_row'
activerecord (6.0.6.1) lib/active_record/persistence.rb:918:in `_update_record'
activerecord (6.0.6.1) lib/active_record/attribute_methods/dirty.rb:205:in `_update_record'
activerecord (6.0.6.1) lib/active_record/callbacks.rb:335:in `block in _update_record'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:135:in `run_callbacks'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:825:in `_run_update_callbacks'
activerecord (6.0.6.1) lib/active_record/callbacks.rb:335:in `_update_record'
activerecord (6.0.6.1) lib/active_record/timestamp.rb:123:in `_update_record'
activerecord (6.0.6.1) lib/active_record/persistence.rb:905:in `create_or_update'
activerecord (6.0.6.1) lib/active_record/callbacks.rb:327:in `block in create_or_update'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:112:in `block in run_callbacks'
activerecord (6.0.6.1) lib/active_record/autosave_association.rb:366:in `around_save_collection_association'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:121:in `block in run_callbacks'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:139:in `run_callbacks'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:825:in `_run_save_callbacks'
activerecord (6.0.6.1) lib/active_record/callbacks.rb:327:in `create_or_update'
activerecord (6.0.6.1) lib/active_record/timestamp.rb:128:in `create_or_update'
activerecord (6.0.6.1) lib/active_record/persistence.rb:503:in `save!'
activerecord (6.0.6.1) lib/active_record/validations.rb:53:in `save!'
activerecord (6.0.6.1) lib/active_record/transactions.rb:318:in `block in save!'
activerecord (6.0.6.1) lib/active_record/transactions.rb:375:in `block in with_transaction_returning_status'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/database_statements.rb:278:in `transaction'
activerecord (6.0.6.1) lib/active_record/transactions.rb:212:in `transaction'
activerecord (6.0.6.1) lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
activerecord (6.0.6.1) lib/active_record/transactions.rb:318:in `save!'
activerecord (6.0.6.1) lib/active_record/suppressor.rb:48:in `save!'
devise_token_auth (1.2.2) app/models/devise_token_auth/concerns/user.rb:207:in `update_auth_headers'
devise_token_auth (1.2.2) app/models/devise_token_auth/concerns/user.rb:179:in `create_new_auth_token'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/concerns/set_user_by_token.rb:195:in `auth_header_from_batch_request'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/concerns/set_user_by_token.rb:152:in `block in refresh_headers'
activerecord (6.0.6.1) lib/active_record/locking/pessimistic.rb:84:in `block in with_lock'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/database_statements.rb:280:in `block in transaction'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/database_statements.rb:280:in `transaction'
activerecord (6.0.6.1) lib/active_record/transactions.rb:212:in `transaction'
activerecord (6.0.6.1) lib/active_record/transactions.rb:306:in `transaction'
activerecord (6.0.6.1) lib/active_record/locking/pessimistic.rb:82:in `with_lock'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/concerns/set_user_by_token.rb:147:in `refresh_headers'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/concerns/set_user_by_token.rb:131:in `update_auth_header'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:428:in `block in make_lambda'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:249:in `block in halting'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:517:in `block in invoke_after'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:517:in `each'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:517:in `invoke_after'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:136:in `run_callbacks'
actionpack (6.0.6.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.6.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.6.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.6.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.6.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.6.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.6.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.6.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.6.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.6.1) lib/abstract_controller/base.rb:136:in `process'
actionpack (6.0.6.1) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.6.1) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
activerecord (6.0.6.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 5131ms (Views: 0.3ms | ActiveRecord: 5037.6ms | Allocations: 38933)


  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  
ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked):
  
sqlite3 (1.7.3) lib/sqlite3/resultset.rb:162:in `step'
sqlite3 (1.7.3) lib/sqlite3/resultset.rb:162:in `next_hash'
sqlite3 (1.7.3) lib/sqlite3/resultset.rb:97:in `next'
sqlite3 (1.7.3) lib/sqlite3/resultset.rb:125:in `each'
sqlite3 (1.7.3) lib/sqlite3/database.rb:230:in `to_a'
sqlite3 (1.7.3) lib/sqlite3/database.rb:230:in `block in execute'
sqlite3 (1.7.3) lib/sqlite3/database.rb:181:in `prepare'
sqlite3 (1.7.3) lib/sqlite3/database.rb:221:in `execute'
sqlite3 (1.7.3) lib/sqlite3/database.rb:675:in `commit'
activerecord (6.0.6.1) lib/active_record/connection_adapters/sqlite3/database_statements.rb:77:in `block in commit_db_transaction'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract_adapter.rb:728:in `block (2 levels) in log'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract_adapter.rb:727:in `block in log'
activesupport (6.0.6.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract_adapter.rb:718:in `log'
activerecord (6.0.6.1) lib/active_record/connection_adapters/sqlite3/database_statements.rb:77:in `commit_db_transaction'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/transaction.rb:191:in `commit'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/transaction.rb:264:in `block in commit_transaction'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/transaction.rb:255:in `commit_transaction'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/transaction.rb:293:in `block in within_new_transaction'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/database_statements.rb:280:in `transaction'
activerecord (6.0.6.1) lib/active_record/transactions.rb:212:in `transaction'
activerecord (6.0.6.1) lib/active_record/transactions.rb:306:in `transaction'
activerecord (6.0.6.1) lib/active_record/locking/pessimistic.rb:82:in `with_lock'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/concerns/set_user_by_token.rb:147:in `refresh_headers'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/concerns/set_user_by_token.rb:131:in `update_auth_header'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:428:in `block in make_lambda'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:249:in `block in halting'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:517:in `block in invoke_after'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:517:in `each'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:517:in `invoke_after'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:136:in `run_callbacks'
actionpack (6.0.6.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.6.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.6.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.6.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.6.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.6.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.6.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.6.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.6.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.6.1) lib/abstract_controller/base.rb:136:in `process'
actionpack (6.0.6.1) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.6.1) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
activerecord (6.0.6.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"55gTB8BIbrVq1nSMqPfQJA\":{\"token\":\"$2a$10$IIIZ3OkWAh06THIIMFMH4uGl1nuPfsXB1SpsKRZu1AxJsKNxaBlPS\",\"expiry\":1715963377,\"previous_token\":\"$2a$10$GAVGjJNEXu./cFhXzCY.juPXHGTpfi41bUAd9qBXmGoUEtazqdlIi\",\"last_token\":\"$2a$10$Qq5nYXgLkgYN.CIbYfCZeekZCOkBalvBRrEgG87J5umrkjp/TY0Wu\",\"updated_at\":\"2024-05-03T16:29:36Z\"}}"], ["updated_at", "2024-05-03 16:29:37.031344"], ["id", 3]]
  [1m[35m (16.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 404ms (Views: 0.1ms | ActiveRecord: 16.9ms | Allocations: 673873)


Started GET "/cable" for ::1 at 2024-05-04 01:29:37 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 01:29:37 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 01:29:37 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"55gTB8BIbrVq1nSMqPfQJA\":{\"token\":\"$2a$10$IIIZ3OkWAh06THIIMFMH4uGl1nuPfsXB1SpsKRZu1AxJsKNxaBlPS\",\"expiry\":1715963377,\"previous_token\":\"$2a$10$GAVGjJNEXu./cFhXzCY.juPXHGTpfi41bUAd9qBXmGoUEtazqdlIi\",\"last_token\":\"$2a$10$Qq5nYXgLkgYN.CIbYfCZeekZCOkBalvBRrEgG87J5umrkjp/TY0Wu\",\"updated_at\":\"2024-05-03T16:29:37Z\"}}"], ["updated_at", "2024-05-03 16:29:37.329334"], ["id", 3]]
  [1m[35m (7.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 91ms (Views: 0.3ms | ActiveRecord: 8.9ms | Allocations: 86947)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-04 01:29:41 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"}}"], ["updated_at", "2024-05-03 16:29:41.373961"], ["id", 3]]
  [1m[35m (8.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 77ms (Views: 0.1ms | ActiveRecord: 9.0ms | Allocations: 6976)


Unsubscribing from channel: {"channel":"RoomChannel"}
RoomChannel stopped streaming from room_channel
Started POST "/auth/sign_in" for ::1 at 2024-05-04 01:29:57 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$MVxr2RVwMgcD/Jy9.HuHLeEHpwWM.Wm43vzHofbsOkHqaqhUyG29u\",\"expiry\":1715963398}}"], ["updated_at", "2024-05-03 16:29:58.137952"], ["id", 3]]
  [1m[35m (15.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"expiry\":1715963398,\"previous_token\":\"$2a$10$MVxr2RVwMgcD/Jy9.HuHLeEHpwWM.Wm43vzHofbsOkHqaqhUyG29u\",\"updated_at\":\"2024-05-03T16:29:58Z\"}}"], ["updated_at", "2024-05-03 16:29:58.211916"], ["id", 3]]
  [1m[35m (7.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 332ms (Views: 0.1ms | ActiveRecord: 24.2ms | Allocations: 18545)


Started GET "/auth/validate_token" for ::1 at 2024-05-04 01:29:58 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 59ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 8069)


Started GET "/cable" for ::1 at 2024-05-04 01:29:58 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 01:29:58 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 01:29:58 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 16ms (Views: 0.3ms | ActiveRecord: 0.8ms | Allocations: 14346)


RoomChannel#receive({"message"=>"qqq", "email"=>"test@test.com"})
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["content", "qqq"], ["created_at", "2024-05-03 16:30:00.977892"], ["updated_at", "2024-05-03 16:30:00.977892"]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (8.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>"qqq", :name=>"test001", :created_at=>Fri, 03 May 2024 16:30:00 UTC +00:00}
RoomChannel transmitting {"message"=>"qqq", "name"=>"test001", "created_at"=>"2024-05-03T16:30:00.977Z"} (via streamed from room_channel)
RoomChannel transmitting {"message"=>"qqq", "name"=>"test001", "created_at"=>"2024-05-03T16:30:00.977Z"} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-04 01:30:00 +0900
Started GET "/messages" for ::1 at 2024-05-04 01:30:00 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"expiry\":1715963398,\"previous_token\":\"$2a$10$MVxr2RVwMgcD/Jy9.HuHLeEHpwWM.Wm43vzHofbsOkHqaqhUyG29u\",\"updated_at\":\"2024-05-03T16:30:01Z\"}}"], ["updated_at", "2024-05-03 16:30:01.037053"], ["id", 3]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"mqWjmL_KbCefTM3Wq2xqEA\":{\"token\":\"$2a$10$lmRQGyTO7hjT2Wige0wyAemq1mme9BSfzC1Gb0vVlN/hb3UwOPYXa\",\"expiry\":1715963406,\"previous_token\":\"$2a$10$4pzQcCCVwey1/wNI39151.0/xHCMr4BiDMx.9FeMF5kjjJVnvOj/a\",\"last_token\":\"$2a$10$4YvETA7ltO7/6Q14WWms1.0TvUf/S8CTmNGMkPT.UioSkh5CYgX3O\",\"updated_at\":\"2024-05-03T16:30:01Z\"}}"], ["updated_at", "2024-05-03 16:30:06.059179"], ["id", 4]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (5022.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
Completed 500 Internal Server Error in 5067ms (Views: 0.3ms | ActiveRecord: 1.4ms | Allocations: 33112)


Completed 500 Internal Server Error in 5072ms (Views: 0.3ms | ActiveRecord: 5023.9ms | Allocations: 36769)


  
ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked):
  
sqlite3 (1.7.3) lib/sqlite3/resultset.rb:162:in `step'
sqlite3 (1.7.3) lib/sqlite3/resultset.rb:162:in `next_hash'
sqlite3 (1.7.3) lib/sqlite3/resultset.rb:97:in `next'
sqlite3 (1.7.3) lib/sqlite3/resultset.rb:125:in `each'
sqlite3 (1.7.3) lib/sqlite3/database.rb:230:in `to_a'
sqlite3 (1.7.3) lib/sqlite3/database.rb:230:in `block in execute'
sqlite3 (1.7.3) lib/sqlite3/database.rb:181:in `prepare'
sqlite3 (1.7.3) lib/sqlite3/database.rb:221:in `execute'
sqlite3 (1.7.3) lib/sqlite3/database.rb:675:in `commit'
activerecord (6.0.6.1) lib/active_record/connection_adapters/sqlite3/database_statements.rb:77:in `block in commit_db_transaction'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract_adapter.rb:728:in `block (2 levels) in log'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract_adapter.rb:727:in `block in log'
activesupport (6.0.6.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract_adapter.rb:718:in `log'
activerecord (6.0.6.1) lib/active_record/connection_adapters/sqlite3/database_statements.rb:77:in `commit_db_transaction'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/transaction.rb:191:in `commit'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/transaction.rb:264:in `block in commit_transaction'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/transaction.rb:255:in `commit_transaction'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/transaction.rb:293:in `block in within_new_transaction'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/database_statements.rb:280:in `transaction'
activerecord (6.0.6.1) lib/active_record/transactions.rb:212:in `transaction'
activerecord (6.0.6.1) lib/active_record/transactions.rb:306:in `transaction'
activerecord (6.0.6.1) lib/active_record/locking/pessimistic.rb:82:in `with_lock'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/concerns/set_user_by_token.rb:147:in `refresh_headers'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/concerns/set_user_by_token.rb:131:in `update_auth_header'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:428:in `block in make_lambda'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:249:in `block in halting'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:517:in `block in invoke_after'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:517:in `each'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:517:in `invoke_after'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:136:in `run_callbacks'
actionpack (6.0.6.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.6.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.6.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.6.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.6.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.6.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.6.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.6.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.6.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.6.1) lib/abstract_controller/base.rb:136:in `process'
actionpack (6.0.6.1) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.6.1) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
activerecord (6.0.6.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  
ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked):
  
sqlite3 (1.7.3) lib/sqlite3/statement.rb:108:in `step'
sqlite3 (1.7.3) lib/sqlite3/statement.rb:108:in `block in each'
sqlite3 (1.7.3) lib/sqlite3/statement.rb:107:in `loop'
sqlite3 (1.7.3) lib/sqlite3/statement.rb:107:in `each'
activerecord (6.0.6.1) lib/active_record/connection_adapters/sqlite3/database_statements.rb:49:in `to_a'
activerecord (6.0.6.1) lib/active_record/connection_adapters/sqlite3/database_statements.rb:49:in `block (2 levels) in exec_query'
activesupport (6.0.6.1) lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
activesupport (6.0.6.1) lib/active_support/concurrency/share_lock.rb:187:in `yield_shares'
activesupport (6.0.6.1) lib/active_support/dependencies/interlock.rb:47:in `permit_concurrent_loads'
activerecord (6.0.6.1) lib/active_record/connection_adapters/sqlite3/database_statements.rb:40:in `block in exec_query'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract_adapter.rb:728:in `block (2 levels) in log'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract_adapter.rb:727:in `block in log'
activesupport (6.0.6.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract_adapter.rb:718:in `log'
activerecord (6.0.6.1) lib/active_record/connection_adapters/sqlite3/database_statements.rb:39:in `exec_query'
activerecord (6.0.6.1) lib/active_record/connection_adapters/sqlite3/database_statements.rb:67:in `exec_delete'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/database_statements.rb:174:in `update'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/query_cache.rb:22:in `update'
activerecord (6.0.6.1) lib/active_record/persistence.rb:385:in `_update_record'
activerecord (6.0.6.1) lib/active_record/persistence.rb:896:in `_update_row'
activerecord (6.0.6.1) lib/active_record/locking/optimistic.rb:88:in `_update_row'
activerecord (6.0.6.1) lib/active_record/persistence.rb:918:in `_update_record'
activerecord (6.0.6.1) lib/active_record/attribute_methods/dirty.rb:205:in `_update_record'
activerecord (6.0.6.1) lib/active_record/callbacks.rb:335:in `block in _update_record'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:135:in `run_callbacks'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:825:in `_run_update_callbacks'
activerecord (6.0.6.1) lib/active_record/callbacks.rb:335:in `_update_record'
activerecord (6.0.6.1) lib/active_record/timestamp.rb:123:in `_update_record'
activerecord (6.0.6.1) lib/active_record/persistence.rb:905:in `create_or_update'
activerecord (6.0.6.1) lib/active_record/callbacks.rb:327:in `block in create_or_update'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:112:in `block in run_callbacks'
activerecord (6.0.6.1) lib/active_record/autosave_association.rb:366:in `around_save_collection_association'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:121:in `block in run_callbacks'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:139:in `run_callbacks'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:825:in `_run_save_callbacks'
activerecord (6.0.6.1) lib/active_record/callbacks.rb:327:in `create_or_update'
activerecord (6.0.6.1) lib/active_record/timestamp.rb:128:in `create_or_update'
activerecord (6.0.6.1) lib/active_record/persistence.rb:503:in `save!'
activerecord (6.0.6.1) lib/active_record/validations.rb:53:in `save!'
activerecord (6.0.6.1) lib/active_record/transactions.rb:318:in `block in save!'
activerecord (6.0.6.1) lib/active_record/transactions.rb:375:in `block in with_transaction_returning_status'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/database_statements.rb:278:in `transaction'
activerecord (6.0.6.1) lib/active_record/transactions.rb:212:in `transaction'
activerecord (6.0.6.1) lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
activerecord (6.0.6.1) lib/active_record/transactions.rb:318:in `save!'
activerecord (6.0.6.1) lib/active_record/suppressor.rb:48:in `save!'
devise_token_auth (1.2.2) app/models/devise_token_auth/concerns/user.rb:207:in `update_auth_headers'
devise_token_auth (1.2.2) app/models/devise_token_auth/concerns/user.rb:179:in `create_new_auth_token'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/concerns/set_user_by_token.rb:195:in `auth_header_from_batch_request'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/concerns/set_user_by_token.rb:152:in `block in refresh_headers'
activerecord (6.0.6.1) lib/active_record/locking/pessimistic.rb:84:in `block in with_lock'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/database_statements.rb:280:in `block in transaction'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/database_statements.rb:280:in `transaction'
activerecord (6.0.6.1) lib/active_record/transactions.rb:212:in `transaction'
activerecord (6.0.6.1) lib/active_record/transactions.rb:306:in `transaction'
activerecord (6.0.6.1) lib/active_record/locking/pessimistic.rb:82:in `with_lock'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/concerns/set_user_by_token.rb:147:in `refresh_headers'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/concerns/set_user_by_token.rb:131:in `update_auth_header'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:428:in `block in make_lambda'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:249:in `block in halting'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:517:in `block in invoke_after'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:517:in `each'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:517:in `invoke_after'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:136:in `run_callbacks'
actionpack (6.0.6.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.6.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.6.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.6.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.6.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.6.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.6.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.6.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.6.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.6.1) lib/abstract_controller/base.rb:136:in `process'
actionpack (6.0.6.1) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.6.1) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
activerecord (6.0.6.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
RoomChannel#receive({"message"=>"ww", "email"=>"test2@test.com"})
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test2@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 4], ["content", "ww"], ["created_at", "2024-05-03 16:44:52.333125"], ["updated_at", "2024-05-03 16:44:52.333125"]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (11.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>"ww", :name=>"test002", :created_at=>Fri, 03 May 2024 16:44:52 UTC +00:00}
RoomChannel transmitting {"message"=>"ww", "name"=>"test002", "created_at"=>"2024-05-03T16:44:52.333Z"} (via streamed from room_channel)
RoomChannel transmitting {"message"=>"ww", "name"=>"test002", "created_at"=>"2024-05-03T16:44:52.333Z"} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-04 01:44:52 +0900
Started GET "/messages" for ::1 at 2024-05-04 01:44:52 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"mqWjmL_KbCefTM3Wq2xqEA\":{\"token\":\"$2a$10$a1nvgfoA6lWuUAImt4HaVOD/Oiejp5CKDvPf6GjSA/I1eBm8FsnHu\",\"expiry\":1715964292,\"previous_token\":\"$2a$10$4pzQcCCVwey1/wNI39151.0/xHCMr4BiDMx.9FeMF5kjjJVnvOj/a\",\"last_token\":\"$2a$10$4YvETA7ltO7/6Q14WWms1.0TvUf/S8CTmNGMkPT.UioSkh5CYgX3O\",\"updated_at\":\"2024-05-03T16:44:52Z\"}}"], ["updated_at", "2024-05-03 16:44:52.442968"], ["id", 4]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$u0fUuoCxzkkar79XS6/eguUxdfMwHPdYTgenYjZ0N6t6vmCIINVfy\",\"expiry\":1715964297,\"previous_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"last_token\":\"$2a$10$MVxr2RVwMgcD/Jy9.HuHLeEHpwWM.Wm43vzHofbsOkHqaqhUyG29u\",\"updated_at\":\"2024-05-03T16:44:52Z\"}}"], ["updated_at", "2024-05-03 16:44:57.462574"], ["id", 3]]
  [1m[35m (5023.8ms)[0m  [1m[36mcommit transaction[0m
Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 01:44:57 +0900
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
Started GET "/auth/validate_token" for ::1 at 2024-05-04 01:44:57 +0900
RoomChannel stopped streaming from room_channel
Completed 500 Internal Server Error in 5116ms (Views: 0.3ms | ActiveRecord: 5025.7ms | Allocations: 40975)


  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked):
  
sqlite3 (1.7.3) lib/sqlite3/resultset.rb:162:in `step'
sqlite3 (1.7.3) lib/sqlite3/resultset.rb:162:in `next_hash'
sqlite3 (1.7.3) lib/sqlite3/resultset.rb:97:in `next'
sqlite3 (1.7.3) lib/sqlite3/resultset.rb:125:in `each'
sqlite3 (1.7.3) lib/sqlite3/database.rb:230:in `to_a'
sqlite3 (1.7.3) lib/sqlite3/database.rb:230:in `block in execute'
sqlite3 (1.7.3) lib/sqlite3/database.rb:181:in `prepare'
sqlite3 (1.7.3) lib/sqlite3/database.rb:221:in `execute'
sqlite3 (1.7.3) lib/sqlite3/database.rb:675:in `commit'
activerecord (6.0.6.1) lib/active_record/connection_adapters/sqlite3/database_statements.rb:77:in `block in commit_db_transaction'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract_adapter.rb:728:in `block (2 levels) in log'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract_adapter.rb:727:in `block in log'
activesupport (6.0.6.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract_adapter.rb:718:in `log'
activerecord (6.0.6.1) lib/active_record/connection_adapters/sqlite3/database_statements.rb:77:in `commit_db_transaction'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/transaction.rb:191:in `commit'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/transaction.rb:264:in `block in commit_transaction'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/transaction.rb:255:in `commit_transaction'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/transaction.rb:293:in `block in within_new_transaction'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/database_statements.rb:280:in `transaction'
activerecord (6.0.6.1) lib/active_record/transactions.rb:212:in `transaction'
activerecord (6.0.6.1) lib/active_record/transactions.rb:306:in `transaction'
activerecord (6.0.6.1) lib/active_record/locking/pessimistic.rb:82:in `with_lock'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/concerns/set_user_by_token.rb:147:in `refresh_headers'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/concerns/set_user_by_token.rb:131:in `update_auth_header'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:428:in `block in make_lambda'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:249:in `block in halting'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:517:in `block in invoke_after'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:517:in `each'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:517:in `invoke_after'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:136:in `run_callbacks'
actionpack (6.0.6.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.6.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.6.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.6.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.6.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.6.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.6.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.6.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.6.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.6.1) lib/abstract_controller/base.rb:136:in `process'
actionpack (6.0.6.1) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.6.1) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
activerecord (6.0.6.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5108ms (Views: 0.4ms | ActiveRecord: 1.9ms | Allocations: 33847)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  
ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked):
  
sqlite3 (1.7.3) lib/sqlite3/statement.rb:108:in `step'
sqlite3 (1.7.3) lib/sqlite3/statement.rb:108:in `block in each'
sqlite3 (1.7.3) lib/sqlite3/statement.rb:107:in `loop'
sqlite3 (1.7.3) lib/sqlite3/statement.rb:107:in `each'
activerecord (6.0.6.1) lib/active_record/connection_adapters/sqlite3/database_statements.rb:49:in `to_a'
activerecord (6.0.6.1) lib/active_record/connection_adapters/sqlite3/database_statements.rb:49:in `block (2 levels) in exec_query'
activesupport (6.0.6.1) lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
activesupport (6.0.6.1) lib/active_support/concurrency/share_lock.rb:187:in `yield_shares'
activesupport (6.0.6.1) lib/active_support/dependencies/interlock.rb:47:in `permit_concurrent_loads'
activerecord (6.0.6.1) lib/active_record/connection_adapters/sqlite3/database_statements.rb:40:in `block in exec_query'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract_adapter.rb:728:in `block (2 levels) in log'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract_adapter.rb:727:in `block in log'
activesupport (6.0.6.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract_adapter.rb:718:in `log'
activerecord (6.0.6.1) lib/active_record/connection_adapters/sqlite3/database_statements.rb:39:in `exec_query'
activerecord (6.0.6.1) lib/active_record/connection_adapters/sqlite3/database_statements.rb:67:in `exec_delete'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/database_statements.rb:174:in `update'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/query_cache.rb:22:in `update'
activerecord (6.0.6.1) lib/active_record/persistence.rb:385:in `_update_record'
activerecord (6.0.6.1) lib/active_record/persistence.rb:896:in `_update_row'
activerecord (6.0.6.1) lib/active_record/locking/optimistic.rb:88:in `_update_row'
activerecord (6.0.6.1) lib/active_record/persistence.rb:918:in `_update_record'
activerecord (6.0.6.1) lib/active_record/attribute_methods/dirty.rb:205:in `_update_record'
activerecord (6.0.6.1) lib/active_record/callbacks.rb:335:in `block in _update_record'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:135:in `run_callbacks'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:825:in `_run_update_callbacks'
activerecord (6.0.6.1) lib/active_record/callbacks.rb:335:in `_update_record'
activerecord (6.0.6.1) lib/active_record/timestamp.rb:123:in `_update_record'
activerecord (6.0.6.1) lib/active_record/persistence.rb:905:in `create_or_update'
activerecord (6.0.6.1) lib/active_record/callbacks.rb:327:in `block in create_or_update'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:112:in `block in run_callbacks'
activerecord (6.0.6.1) lib/active_record/autosave_association.rb:366:in `around_save_collection_association'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:121:in `block in run_callbacks'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:139:in `run_callbacks'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:825:in `_run_save_callbacks'
activerecord (6.0.6.1) lib/active_record/callbacks.rb:327:in `create_or_update'
activerecord (6.0.6.1) lib/active_record/timestamp.rb:128:in `create_or_update'
activerecord (6.0.6.1) lib/active_record/persistence.rb:503:in `save!'
activerecord (6.0.6.1) lib/active_record/validations.rb:53:in `save!'
activerecord (6.0.6.1) lib/active_record/transactions.rb:318:in `block in save!'
activerecord (6.0.6.1) lib/active_record/transactions.rb:375:in `block in with_transaction_returning_status'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/database_statements.rb:278:in `transaction'
activerecord (6.0.6.1) lib/active_record/transactions.rb:212:in `transaction'
activerecord (6.0.6.1) lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
activerecord (6.0.6.1) lib/active_record/transactions.rb:318:in `save!'
activerecord (6.0.6.1) lib/active_record/suppressor.rb:48:in `save!'
devise_token_auth (1.2.2) app/models/devise_token_auth/concerns/user.rb:207:in `update_auth_headers'
devise_token_auth (1.2.2) app/models/devise_token_auth/concerns/user.rb:179:in `create_new_auth_token'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/concerns/set_user_by_token.rb:195:in `auth_header_from_batch_request'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/concerns/set_user_by_token.rb:152:in `block in refresh_headers'
activerecord (6.0.6.1) lib/active_record/locking/pessimistic.rb:84:in `block in with_lock'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/database_statements.rb:280:in `block in transaction'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/database_statements.rb:280:in `transaction'
activerecord (6.0.6.1) lib/active_record/transactions.rb:212:in `transaction'
activerecord (6.0.6.1) lib/active_record/transactions.rb:306:in `transaction'
activerecord (6.0.6.1) lib/active_record/locking/pessimistic.rb:82:in `with_lock'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/concerns/set_user_by_token.rb:147:in `refresh_headers'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/concerns/set_user_by_token.rb:131:in `update_auth_header'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:428:in `block in make_lambda'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:249:in `block in halting'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:517:in `block in invoke_after'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:517:in `each'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:517:in `invoke_after'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:136:in `run_callbacks'
actionpack (6.0.6.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.6.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.6.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.6.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.6.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.6.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.6.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.6.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.6.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.6.1) lib/abstract_controller/base.rb:136:in `process'
actionpack (6.0.6.1) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.6.1) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
activerecord (6.0.6.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"mqWjmL_KbCefTM3Wq2xqEA\":{\"token\":\"$2a$10$ATkkOCP3UntBjWmhiLn3puYnAmv4aJ5Hj8VS3V9n04ZmnOU3xo5ym\",\"expiry\":1715964297,\"previous_token\":\"$2a$10$4pzQcCCVwey1/wNI39151.0/xHCMr4BiDMx.9FeMF5kjjJVnvOj/a\",\"last_token\":\"$2a$10$4YvETA7ltO7/6Q14WWms1.0TvUf/S8CTmNGMkPT.UioSkh5CYgX3O\",\"updated_at\":\"2024-05-03T16:44:57Z\"}}"], ["updated_at", "2024-05-03 16:44:57.744895"], ["id", 4]]
  [1m[35m (7.3ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 297ms (Views: 0.2ms | ActiveRecord: 8.0ms | Allocations: 511612)


Started GET "/cable" for ::1 at 2024-05-04 01:44:57 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 01:44:57 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 01:44:57 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 76ms (Views: 0.3ms | ActiveRecord: 1.5ms | Allocations: 76618)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 01:45:06 +0900
Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 01:45:06 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-04 01:45:06 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"expiry\":1715964306,\"previous_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"last_token\":\"$2a$10$MVxr2RVwMgcD/Jy9.HuHLeEHpwWM.Wm43vzHofbsOkHqaqhUyG29u\",\"updated_at\":\"2024-05-03T16:45:06Z\"}}"], ["updated_at", "2024-05-03 16:45:06.587694"], ["id", 3]]
  [1m[35m (8.9ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 80ms (Views: 0.2ms | ActiveRecord: 9.8ms | Allocations: 10153)


Started GET "/cable" for ::1 at 2024-05-04 01:45:06 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 01:45:06 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 01:45:06 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 70ms (Views: 0.3ms | ActiveRecord: 1.1ms | Allocations: 17584)


RoomChannel#receive({"message"=>"aqqqqqq", "email"=>"test@test.com"})
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["content", "aqqqqqq"], ["created_at", "2024-05-03 16:45:58.916870"], ["updated_at", "2024-05-03 16:45:58.916870"]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (8.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>"aqqqqqq", :name=>"test001", :created_at=>Fri, 03 May 2024 16:45:58 UTC +00:00}
RoomChannel transmitting {"message"=>"aqqqqqq", "name"=>"test001", "created_at"=>"2024-05-03T16:45:58.916Z"} (via streamed from room_channel)
RoomChannel transmitting {"message"=>"aqqqqqq", "name"=>"test001", "created_at"=>"2024-05-03T16:45:58.916Z"} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-04 01:45:58 +0900
Started GET "/messages" for ::1 at 2024-05-04 01:45:58 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:15:in `map'
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"mqWjmL_KbCefTM3Wq2xqEA\":{\"token\":\"$2a$10$lamEBklj2OYKFE2nt8W7MO0zBKSU3KS6zLUMJqjaPM.6jJ80TjsUu\",\"expiry\":1715964359,\"previous_token\":\"$2a$10$ATkkOCP3UntBjWmhiLn3puYnAmv4aJ5Hj8VS3V9n04ZmnOU3xo5ym\",\"last_token\":\"$2a$10$4pzQcCCVwey1/wNI39151.0/xHCMr4BiDMx.9FeMF5kjjJVnvOj/a\",\"updated_at\":\"2024-05-03T16:45:59Z\"}}"], ["updated_at", "2024-05-03 16:45:59.072633"], ["id", 4]]
  [1m[35m (5017.9ms)[0m  [1m[36mcommit transaction[0m
Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 01:46:04 +0900
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$G26glZhm9l8PI07GNmPFVO3pocHVLnM3y19ePRsv1MtXmW2GxDNEq\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:45:59Z\"}}"], ["updated_at", "2024-05-03 16:46:04.094523"], ["id", 3]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
RoomChannel stopped streaming from room_channel
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 500 Internal Server Error in 5166ms (Views: 0.4ms | ActiveRecord: 5019.6ms | Allocations: 42300)


Completed 500 Internal Server Error in 5166ms (Views: 0.4ms | ActiveRecord: 1.7ms | Allocations: 41839)


  
ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked):
  
sqlite3 (1.7.3) lib/sqlite3/resultset.rb:162:in `step'
sqlite3 (1.7.3) lib/sqlite3/resultset.rb:162:in `next_hash'
sqlite3 (1.7.3) lib/sqlite3/resultset.rb:97:in `next'
sqlite3 (1.7.3) lib/sqlite3/resultset.rb:125:in `each'
sqlite3 (1.7.3) lib/sqlite3/database.rb:230:in `to_a'
sqlite3 (1.7.3) lib/sqlite3/database.rb:230:in `block in execute'
sqlite3 (1.7.3) lib/sqlite3/database.rb:181:in `prepare'
sqlite3 (1.7.3) lib/sqlite3/database.rb:221:in `execute'
sqlite3 (1.7.3) lib/sqlite3/database.rb:675:in `commit'
activerecord (6.0.6.1) lib/active_record/connection_adapters/sqlite3/database_statements.rb:77:in `block in commit_db_transaction'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract_adapter.rb:728:in `block (2 levels) in log'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract_adapter.rb:727:in `block in log'
activesupport (6.0.6.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract_adapter.rb:718:in `log'
activerecord (6.0.6.1) lib/active_record/connection_adapters/sqlite3/database_statements.rb:77:in `commit_db_transaction'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/transaction.rb:191:in `commit'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/transaction.rb:264:in `block in commit_transaction'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/transaction.rb:255:in `commit_transaction'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/transaction.rb:293:in `block in within_new_transaction'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/database_statements.rb:280:in `transaction'
activerecord (6.0.6.1) lib/active_record/transactions.rb:212:in `transaction'
activerecord (6.0.6.1) lib/active_record/transactions.rb:306:in `transaction'
activerecord (6.0.6.1) lib/active_record/locking/pessimistic.rb:82:in `with_lock'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/concerns/set_user_by_token.rb:147:in `refresh_headers'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/concerns/set_user_by_token.rb:131:in `update_auth_header'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:428:in `block in make_lambda'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:249:in `block in halting'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:517:in `block in invoke_after'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:517:in `each'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:517:in `invoke_after'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:136:in `run_callbacks'
actionpack (6.0.6.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.6.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.6.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.6.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.6.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.6.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.6.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.6.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.6.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.6.1) lib/abstract_controller/base.rb:136:in `process'
actionpack (6.0.6.1) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.6.1) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
activerecord (6.0.6.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  
ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked):
  
sqlite3 (1.7.3) lib/sqlite3/statement.rb:108:in `step'
sqlite3 (1.7.3) lib/sqlite3/statement.rb:108:in `block in each'
sqlite3 (1.7.3) lib/sqlite3/statement.rb:107:in `loop'
sqlite3 (1.7.3) lib/sqlite3/statement.rb:107:in `each'
activerecord (6.0.6.1) lib/active_record/connection_adapters/sqlite3/database_statements.rb:49:in `to_a'
activerecord (6.0.6.1) lib/active_record/connection_adapters/sqlite3/database_statements.rb:49:in `block (2 levels) in exec_query'
activesupport (6.0.6.1) lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
activesupport (6.0.6.1) lib/active_support/concurrency/share_lock.rb:187:in `yield_shares'
activesupport (6.0.6.1) lib/active_support/dependencies/interlock.rb:47:in `permit_concurrent_loads'
activerecord (6.0.6.1) lib/active_record/connection_adapters/sqlite3/database_statements.rb:40:in `block in exec_query'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract_adapter.rb:728:in `block (2 levels) in log'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract_adapter.rb:727:in `block in log'
activesupport (6.0.6.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract_adapter.rb:718:in `log'
activerecord (6.0.6.1) lib/active_record/connection_adapters/sqlite3/database_statements.rb:39:in `exec_query'
activerecord (6.0.6.1) lib/active_record/connection_adapters/sqlite3/database_statements.rb:67:in `exec_delete'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/database_statements.rb:174:in `update'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/query_cache.rb:22:in `update'
activerecord (6.0.6.1) lib/active_record/persistence.rb:385:in `_update_record'
activerecord (6.0.6.1) lib/active_record/persistence.rb:896:in `_update_row'
activerecord (6.0.6.1) lib/active_record/locking/optimistic.rb:88:in `_update_row'
activerecord (6.0.6.1) lib/active_record/persistence.rb:918:in `_update_record'
activerecord (6.0.6.1) lib/active_record/attribute_methods/dirty.rb:205:in `_update_record'
activerecord (6.0.6.1) lib/active_record/callbacks.rb:335:in `block in _update_record'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:135:in `run_callbacks'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:825:in `_run_update_callbacks'
activerecord (6.0.6.1) lib/active_record/callbacks.rb:335:in `_update_record'
activerecord (6.0.6.1) lib/active_record/timestamp.rb:123:in `_update_record'
activerecord (6.0.6.1) lib/active_record/persistence.rb:905:in `create_or_update'
activerecord (6.0.6.1) lib/active_record/callbacks.rb:327:in `block in create_or_update'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:112:in `block in run_callbacks'
activerecord (6.0.6.1) lib/active_record/autosave_association.rb:366:in `around_save_collection_association'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:121:in `block in run_callbacks'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:139:in `run_callbacks'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:825:in `_run_save_callbacks'
activerecord (6.0.6.1) lib/active_record/callbacks.rb:327:in `create_or_update'
activerecord (6.0.6.1) lib/active_record/timestamp.rb:128:in `create_or_update'
activerecord (6.0.6.1) lib/active_record/persistence.rb:503:in `save!'
activerecord (6.0.6.1) lib/active_record/validations.rb:53:in `save!'
activerecord (6.0.6.1) lib/active_record/transactions.rb:318:in `block in save!'
activerecord (6.0.6.1) lib/active_record/transactions.rb:375:in `block in with_transaction_returning_status'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/database_statements.rb:278:in `transaction'
activerecord (6.0.6.1) lib/active_record/transactions.rb:212:in `transaction'
activerecord (6.0.6.1) lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
activerecord (6.0.6.1) lib/active_record/transactions.rb:318:in `save!'
activerecord (6.0.6.1) lib/active_record/suppressor.rb:48:in `save!'
devise_token_auth (1.2.2) app/models/devise_token_auth/concerns/user.rb:207:in `update_auth_headers'
devise_token_auth (1.2.2) app/models/devise_token_auth/concerns/user.rb:179:in `create_new_auth_token'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/concerns/set_user_by_token.rb:195:in `auth_header_from_batch_request'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/concerns/set_user_by_token.rb:152:in `block in refresh_headers'
activerecord (6.0.6.1) lib/active_record/locking/pessimistic.rb:84:in `block in with_lock'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/database_statements.rb:280:in `block in transaction'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/database_statements.rb:280:in `transaction'
activerecord (6.0.6.1) lib/active_record/transactions.rb:212:in `transaction'
activerecord (6.0.6.1) lib/active_record/transactions.rb:306:in `transaction'
activerecord (6.0.6.1) lib/active_record/locking/pessimistic.rb:82:in `with_lock'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/concerns/set_user_by_token.rb:147:in `refresh_headers'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/concerns/set_user_by_token.rb:131:in `update_auth_header'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:428:in `block in make_lambda'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:249:in `block in halting'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:517:in `block in invoke_after'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:517:in `each'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:517:in `invoke_after'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:136:in `run_callbacks'
actionpack (6.0.6.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.6.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.6.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.6.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.6.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.6.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.6.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.6.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.6.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.6.1) lib/abstract_controller/base.rb:136:in `process'
actionpack (6.0.6.1) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.6.1) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
activerecord (6.0.6.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for ::1 at 2024-05-04 01:46:04 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 01:46:04 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 01:46:04 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"vF24fNP-CLvr4QjN-5luxQ\":{\"token\":\"$2a$10$UCXB8f9/X6PCKa8jD3iYIO4yXZibKicCrhP567QoSh5hMZXOKqeQG\",\"expiry\":1715881840,\"previous_token\":\"$2a$10$GEVC0qAqVDVYPW7QZnwQuOzOd78R6qA8AsJBIXBTcNd5nKJaU.imC\",\"updated_at\":\"2024-05-02T17:50:40Z\"},\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"}}"], ["updated_at", "2024-05-03 16:46:04.696516"], ["id", 3]]
  [1m[35m (7.9ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 139ms (Views: 0.9ms | ActiveRecord: 9.9ms | Allocations: 21300)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 01:46:11 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-04 01:46:11 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 103ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 1423)


Started GET "/cable" for ::1 at 2024-05-04 01:46:11 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 01:46:11 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 01:46:11 +0900
Processing by MessagesController#index as HTML
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 173)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 01:46:17 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-04 01:46:17 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 174)


Unsubscribing from channel: {"channel":"RoomChannel"}
RoomChannel stopped streaming from room_channel
Started GET "/cable" for ::1 at 2024-05-04 01:49:28 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 01:49:28 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 01:49:28 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"mqWjmL_KbCefTM3Wq2xqEA\":{\"token\":\"$2a$10$jf3nN5sFcT6PoiJ.O.7jGe4SwkXO2gJcRZIVQCIMSBFbL3PhYEIeS\",\"expiry\":1715964568,\"previous_token\":\"$2a$10$ATkkOCP3UntBjWmhiLn3puYnAmv4aJ5Hj8VS3V9n04ZmnOU3xo5ym\",\"last_token\":\"$2a$10$4pzQcCCVwey1/wNI39151.0/xHCMr4BiDMx.9FeMF5kjjJVnvOj/a\",\"updated_at\":\"2024-05-03T16:49:28Z\"}}"], ["updated_at", "2024-05-03 16:49:28.465568"], ["id", 4]]
  [1m[35m (9.3ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 204ms (Views: 0.5ms | ActiveRecord: 12.3ms | Allocations: 34525)


Started GET "/cable" for ::1 at 2024-05-04 01:49:34 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 01:49:34 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Unsubscribing from channel: {"channel":"RoomChannel"}
RoomChannel stopped streaming from room_channel
Started GET "/cable" for ::1 at 2024-05-04 01:50:49 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 01:50:49 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 01:50:49 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 100ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 1319)


Unsubscribing from channel: {"channel":"RoomChannel"}
RoomChannel stopped streaming from room_channel
Started GET "/cable" for ::1 at 2024-05-04 01:51:06 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 01:51:06 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 01:51:06 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 99ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 1317)


Unsubscribing from channel: {"channel":"RoomChannel"}
RoomChannel stopped streaming from room_channel
Started GET "/cable" for ::1 at 2024-05-04 01:53:21 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 01:53:21 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 01:53:21 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 103ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1317)


Unsubscribing from channel: {"channel":"RoomChannel"}
RoomChannel stopped streaming from room_channel
Started GET "/cable" for ::1 at 2024-05-04 01:53:41 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 01:53:41 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 01:53:41 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 97ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 1317)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 01:54:38 +0900
Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 01:54:38 +0900
Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 01:54:38 +0900
Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 01:54:38 +0900
Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 01:54:38 +0900
Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 01:54:38 +0900
RoomChannel stopped streaming from room_channel
Started POST "/auth/sign_in" for ::1 at 2024-05-04 01:55:42 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$FVp7nVyPGOvDJkq95ENNe.3SrxaaP4fkZHBEptQe6Ibq8xZ39Et0W\",\"expiry\":1715964942}}"], ["updated_at", "2024-05-03 16:55:42.489210"], ["id", 3]]
  [1m[35m (8.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"expiry\":1715964942,\"previous_token\":\"$2a$10$FVp7nVyPGOvDJkq95ENNe.3SrxaaP4fkZHBEptQe6Ibq8xZ39Et0W\",\"updated_at\":\"2024-05-03T16:55:42Z\"}}"], ["updated_at", "2024-05-03 16:55:42.554258"], ["id", 3]]
  [1m[35m (8.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 329ms (Views: 0.1ms | ActiveRecord: 17.8ms | Allocations: 18609)


Started GET "/auth/validate_token" for ::1 at 2024-05-04 01:55:42 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 58ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 7646)


Started GET "/cable" for ::1 at 2024-05-04 01:55:42 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 01:55:42 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 01:55:42 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 34ms (Views: 0.5ms | ActiveRecord: 2.0ms | Allocations: 18686)


Started GET "/auth/validate_token" for ::1 at 2024-05-04 01:55:52 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 96ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 1331)


Started GET "/auth/validate_token" for ::1 at 2024-05-04 01:55:52 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 174)


Started POST "/auth/sign_in" for ::1 at 2024-05-04 01:56:12 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test2@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test2@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test2@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"mqWjmL_KbCefTM3Wq2xqEA\":{\"token\":\"$2a$10$jf3nN5sFcT6PoiJ.O.7jGe4SwkXO2gJcRZIVQCIMSBFbL3PhYEIeS\",\"expiry\":1715964568,\"previous_token\":\"$2a$10$ATkkOCP3UntBjWmhiLn3puYnAmv4aJ5Hj8VS3V9n04ZmnOU3xo5ym\",\"last_token\":\"$2a$10$4pzQcCCVwey1/wNI39151.0/xHCMr4BiDMx.9FeMF5kjjJVnvOj/a\",\"updated_at\":\"2024-05-03T16:49:28Z\"},\"939Oi2190_dP-atn8xRD6Q\":{\"token\":\"$2a$10$CdC69mrKRLeoMyETUrRrs.Z4wzX35RTil2chnUWYHXaAPed7mJ/PC\",\"expiry\":1715964972}}"], ["updated_at", "2024-05-03 16:56:12.875154"], ["id", 4]]
  [1m[35m (9.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"mqWjmL_KbCefTM3Wq2xqEA\":{\"token\":\"$2a$10$jf3nN5sFcT6PoiJ.O.7jGe4SwkXO2gJcRZIVQCIMSBFbL3PhYEIeS\",\"expiry\":1715964568,\"previous_token\":\"$2a$10$ATkkOCP3UntBjWmhiLn3puYnAmv4aJ5Hj8VS3V9n04ZmnOU3xo5ym\",\"last_token\":\"$2a$10$4pzQcCCVwey1/wNI39151.0/xHCMr4BiDMx.9FeMF5kjjJVnvOj/a\",\"updated_at\":\"2024-05-03T16:49:28Z\"},\"939Oi2190_dP-atn8xRD6Q\":{\"token\":\"$2a$10$OLp8WuoctDBpWlgHpgV0fejfMCAgrxPIlvAebogmLqciPkkGmanQe\",\"expiry\":1715964972,\"previous_token\":\"$2a$10$CdC69mrKRLeoMyETUrRrs.Z4wzX35RTil2chnUWYHXaAPed7mJ/PC\",\"updated_at\":\"2024-05-03T16:56:12Z\"}}"], ["updated_at", "2024-05-03 16:56:12.942633"], ["id", 4]]
  [1m[35m (7.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 331ms (Views: 0.1ms | ActiveRecord: 18.2ms | Allocations: 17338)


Started GET "/auth/validate_token" for ::1 at 2024-05-04 01:56:12 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"mqWjmL_KbCefTM3Wq2xqEA\":{\"token\":\"$2a$10$jf3nN5sFcT6PoiJ.O.7jGe4SwkXO2gJcRZIVQCIMSBFbL3PhYEIeS\",\"expiry\":1715964568,\"previous_token\":\"$2a$10$ATkkOCP3UntBjWmhiLn3puYnAmv4aJ5Hj8VS3V9n04ZmnOU3xo5ym\",\"last_token\":\"$2a$10$4pzQcCCVwey1/wNI39151.0/xHCMr4BiDMx.9FeMF5kjjJVnvOj/a\",\"updated_at\":\"2024-05-03T16:49:28Z\"},\"939Oi2190_dP-atn8xRD6Q\":{\"token\":\"$2a$10$OLp8WuoctDBpWlgHpgV0fejfMCAgrxPIlvAebogmLqciPkkGmanQe\",\"expiry\":1715964972,\"previous_token\":\"$2a$10$CdC69mrKRLeoMyETUrRrs.Z4wzX35RTil2chnUWYHXaAPed7mJ/PC\",\"updated_at\":\"2024-05-03T16:56:13Z\"}}"], ["updated_at", "2024-05-03 16:56:13.016783"], ["id", 4]]
  [1m[35m (7.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 68ms (Views: 0.1ms | ActiveRecord: 7.8ms | Allocations: 9638)


Started GET "/cable" for ::1 at 2024-05-04 01:56:13 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 01:56:13 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 01:56:13 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 30ms (Views: 0.4ms | ActiveRecord: 1.5ms | Allocations: 18180)


RoomChannel#receive({"message"=>"6", "email"=>"test@test.com"})
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["content", "6"], ["created_at", "2024-05-03 16:56:28.384002"], ["updated_at", "2024-05-03 16:56:28.384002"]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (8.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>"6", :name=>"test001", :created_at=>Fri, 03 May 2024 16:56:28 UTC +00:00}
RoomChannel transmitting {"message"=>"6", "name"=>"test001", "created_at"=>"2024-05-03T16:56:28.384Z"} (via streamed from room_channel)
RoomChannel transmitting {"message"=>"6", "name"=>"test001", "created_at"=>"2024-05-03T16:56:28.384Z"} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-04 01:56:28 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
Started GET "/messages" for ::1 at 2024-05-04 01:56:28 +0900
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"mqWjmL_KbCefTM3Wq2xqEA\":{\"token\":\"$2a$10$jf3nN5sFcT6PoiJ.O.7jGe4SwkXO2gJcRZIVQCIMSBFbL3PhYEIeS\",\"expiry\":1715964568,\"previous_token\":\"$2a$10$ATkkOCP3UntBjWmhiLn3puYnAmv4aJ5Hj8VS3V9n04ZmnOU3xo5ym\",\"last_token\":\"$2a$10$4pzQcCCVwey1/wNI39151.0/xHCMr4BiDMx.9FeMF5kjjJVnvOj/a\",\"updated_at\":\"2024-05-03T16:49:28Z\"},\"939Oi2190_dP-atn8xRD6Q\":{\"token\":\"$2a$10$LIGzBbaCHv5RyLdbZm8TvONVr3clGaZasqSTtYM2csKuVmRsO9/a6\",\"expiry\":1715964988,\"previous_token\":\"$2a$10$OLp8WuoctDBpWlgHpgV0fejfMCAgrxPIlvAebogmLqciPkkGmanQe\",\"last_token\":\"$2a$10$CdC69mrKRLeoMyETUrRrs.Z4wzX35RTil2chnUWYHXaAPed7mJ/PC\",\"updated_at\":\"2024-05-03T16:56:28Z\"}}"], ["updated_at", "2024-05-03 16:56:28.503463"], ["id", 4]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$9rntqArUF6RWiTQ68WclxeukHlBeyptwK5ZKZzD69RNPNVK0782Ja\",\"expiry\":1715964993,\"previous_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"last_token\":\"$2a$10$FVp7nVyPGOvDJkq95ENNe.3SrxaaP4fkZHBEptQe6Ibq8xZ39Et0W\",\"updated_at\":\"2024-05-03T16:56:28Z\"}}"], ["updated_at", "2024-05-03 16:56:33.523792"], ["id", 3]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (5020.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 500 Internal Server Error in 5105ms (Views: 0.8ms | ActiveRecord: 1.8ms | Allocations: 35841)


Completed 500 Internal Server Error in 5124ms (Views: 0.5ms | ActiveRecord: 5022.6ms | Allocations: 46620)


  
ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked):
  
sqlite3 (1.7.3) lib/sqlite3/statement.rb:108:in `step'
sqlite3 (1.7.3) lib/sqlite3/statement.rb:108:in `block in each'
sqlite3 (1.7.3) lib/sqlite3/statement.rb:107:in `loop'
sqlite3 (1.7.3) lib/sqlite3/statement.rb:107:in `each'
activerecord (6.0.6.1) lib/active_record/connection_adapters/sqlite3/database_statements.rb:49:in `to_a'
activerecord (6.0.6.1) lib/active_record/connection_adapters/sqlite3/database_statements.rb:49:in `block (2 levels) in exec_query'
activesupport (6.0.6.1) lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
activesupport (6.0.6.1) lib/active_support/concurrency/share_lock.rb:187:in `yield_shares'
activesupport (6.0.6.1) lib/active_support/dependencies/interlock.rb:47:in `permit_concurrent_loads'
activerecord (6.0.6.1) lib/active_record/connection_adapters/sqlite3/database_statements.rb:40:in `block in exec_query'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract_adapter.rb:728:in `block (2 levels) in log'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract_adapter.rb:727:in `block in log'
activesupport (6.0.6.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract_adapter.rb:718:in `log'
activerecord (6.0.6.1) lib/active_record/connection_adapters/sqlite3/database_statements.rb:39:in `exec_query'
activerecord (6.0.6.1) lib/active_record/connection_adapters/sqlite3/database_statements.rb:67:in `exec_delete'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/database_statements.rb:174:in `update'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/query_cache.rb:22:in `update'
activerecord (6.0.6.1) lib/active_record/persistence.rb:385:in `_update_record'
activerecord (6.0.6.1) lib/active_record/persistence.rb:896:in `_update_row'
activerecord (6.0.6.1) lib/active_record/locking/optimistic.rb:88:in `_update_row'
activerecord (6.0.6.1) lib/active_record/persistence.rb:918:in `_update_record'
activerecord (6.0.6.1) lib/active_record/attribute_methods/dirty.rb:205:in `_update_record'
activerecord (6.0.6.1) lib/active_record/callbacks.rb:335:in `block in _update_record'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:135:in `run_callbacks'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:825:in `_run_update_callbacks'
activerecord (6.0.6.1) lib/active_record/callbacks.rb:335:in `_update_record'
activerecord (6.0.6.1) lib/active_record/timestamp.rb:123:in `_update_record'
activerecord (6.0.6.1) lib/active_record/persistence.rb:905:in `create_or_update'
activerecord (6.0.6.1) lib/active_record/callbacks.rb:327:in `block in create_or_update'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:112:in `block in run_callbacks'
activerecord (6.0.6.1) lib/active_record/autosave_association.rb:366:in `around_save_collection_association'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:121:in `block in run_callbacks'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:139:in `run_callbacks'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:825:in `_run_save_callbacks'
activerecord (6.0.6.1) lib/active_record/callbacks.rb:327:in `create_or_update'
activerecord (6.0.6.1) lib/active_record/timestamp.rb:128:in `create_or_update'
activerecord (6.0.6.1) lib/active_record/persistence.rb:503:in `save!'
activerecord (6.0.6.1) lib/active_record/validations.rb:53:in `save!'
activerecord (6.0.6.1) lib/active_record/transactions.rb:318:in `block in save!'
activerecord (6.0.6.1) lib/active_record/transactions.rb:375:in `block in with_transaction_returning_status'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/database_statements.rb:278:in `transaction'
activerecord (6.0.6.1) lib/active_record/transactions.rb:212:in `transaction'
activerecord (6.0.6.1) lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
activerecord (6.0.6.1) lib/active_record/transactions.rb:318:in `save!'
activerecord (6.0.6.1) lib/active_record/suppressor.rb:48:in `save!'
devise_token_auth (1.2.2) app/models/devise_token_auth/concerns/user.rb:207:in `update_auth_headers'
devise_token_auth (1.2.2) app/models/devise_token_auth/concerns/user.rb:179:in `create_new_auth_token'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/concerns/set_user_by_token.rb:195:in `auth_header_from_batch_request'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/concerns/set_user_by_token.rb:152:in `block in refresh_headers'
activerecord (6.0.6.1) lib/active_record/locking/pessimistic.rb:84:in `block in with_lock'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/database_statements.rb:280:in `block in transaction'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/database_statements.rb:280:in `transaction'
activerecord (6.0.6.1) lib/active_record/transactions.rb:212:in `transaction'
activerecord (6.0.6.1) lib/active_record/transactions.rb:306:in `transaction'
activerecord (6.0.6.1) lib/active_record/locking/pessimistic.rb:82:in `with_lock'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/concerns/set_user_by_token.rb:147:in `refresh_headers'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/concerns/set_user_by_token.rb:131:in `update_auth_header'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:428:in `block in make_lambda'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:249:in `block in halting'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:517:in `block in invoke_after'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:517:in `each'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:517:in `invoke_after'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:136:in `run_callbacks'
actionpack (6.0.6.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.6.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.6.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.6.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.6.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.6.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.6.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.6.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.6.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.6.1) lib/abstract_controller/base.rb:136:in `process'
actionpack (6.0.6.1) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.6.1) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
activerecord (6.0.6.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  
ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked):
  
sqlite3 (1.7.3) lib/sqlite3/resultset.rb:162:in `step'
sqlite3 (1.7.3) lib/sqlite3/resultset.rb:162:in `next_hash'
sqlite3 (1.7.3) lib/sqlite3/resultset.rb:97:in `next'
sqlite3 (1.7.3) lib/sqlite3/resultset.rb:125:in `each'
sqlite3 (1.7.3) lib/sqlite3/database.rb:230:in `to_a'
sqlite3 (1.7.3) lib/sqlite3/database.rb:230:in `block in execute'
sqlite3 (1.7.3) lib/sqlite3/database.rb:181:in `prepare'
sqlite3 (1.7.3) lib/sqlite3/database.rb:221:in `execute'
sqlite3 (1.7.3) lib/sqlite3/database.rb:675:in `commit'
activerecord (6.0.6.1) lib/active_record/connection_adapters/sqlite3/database_statements.rb:77:in `block in commit_db_transaction'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract_adapter.rb:728:in `block (2 levels) in log'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract_adapter.rb:727:in `block in log'
activesupport (6.0.6.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract_adapter.rb:718:in `log'
activerecord (6.0.6.1) lib/active_record/connection_adapters/sqlite3/database_statements.rb:77:in `commit_db_transaction'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/transaction.rb:191:in `commit'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/transaction.rb:264:in `block in commit_transaction'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/transaction.rb:255:in `commit_transaction'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/transaction.rb:293:in `block in within_new_transaction'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
activesupport (6.0.6.1) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
activerecord (6.0.6.1) lib/active_record/connection_adapters/abstract/database_statements.rb:280:in `transaction'
activerecord (6.0.6.1) lib/active_record/transactions.rb:212:in `transaction'
activerecord (6.0.6.1) lib/active_record/transactions.rb:306:in `transaction'
activerecord (6.0.6.1) lib/active_record/locking/pessimistic.rb:82:in `with_lock'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/concerns/set_user_by_token.rb:147:in `refresh_headers'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/concerns/set_user_by_token.rb:131:in `update_auth_header'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:428:in `block in make_lambda'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:249:in `block in halting'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:517:in `block in invoke_after'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:517:in `each'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:517:in `invoke_after'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:136:in `run_callbacks'
actionpack (6.0.6.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.6.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.6.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.6.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.6.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.6.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.6.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.6.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.6.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.6.1) lib/abstract_controller/base.rb:136:in `process'
actionpack (6.0.6.1) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.6.1) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
activerecord (6.0.6.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/messages" for ::1 at 2024-05-04 02:04:10 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by MessagesController#index as HTML
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 214)


Started GET "/favicon.ico" for ::1 at 2024-05-04 02:04:11 +0900
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for ::1 at 2024-05-04 02:04:17 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 02:04:17 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 02:04:17 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"mqWjmL_KbCefTM3Wq2xqEA\":{\"token\":\"$2a$10$jf3nN5sFcT6PoiJ.O.7jGe4SwkXO2gJcRZIVQCIMSBFbL3PhYEIeS\",\"expiry\":1715964568,\"previous_token\":\"$2a$10$ATkkOCP3UntBjWmhiLn3puYnAmv4aJ5Hj8VS3V9n04ZmnOU3xo5ym\",\"last_token\":\"$2a$10$4pzQcCCVwey1/wNI39151.0/xHCMr4BiDMx.9FeMF5kjjJVnvOj/a\",\"updated_at\":\"2024-05-03T16:49:28Z\"},\"939Oi2190_dP-atn8xRD6Q\":{\"token\":\"$2a$10$Sj5ZaOyeIZMmK.DnAPD2d.4jqu.vKeEbroB4.0Mgn0jFromOMbzNK\",\"expiry\":1715965457,\"previous_token\":\"$2a$10$OLp8WuoctDBpWlgHpgV0fejfMCAgrxPIlvAebogmLqciPkkGmanQe\",\"last_token\":\"$2a$10$CdC69mrKRLeoMyETUrRrs.Z4wzX35RTil2chnUWYHXaAPed7mJ/PC\",\"updated_at\":\"2024-05-03T17:04:17Z\"}}"], ["updated_at", "2024-05-03 17:04:17.574667"], ["id", 4]]
  [1m[35m (11.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 160ms (Views: 0.4ms | ActiveRecord: 13.0ms | Allocations: 34040)


Started GET "/cable" for ::1 at 2024-05-04 02:04:20 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 02:04:20 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 02:04:20 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"expiry\":1715965461,\"previous_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"last_token\":\"$2a$10$FVp7nVyPGOvDJkq95ENNe.3SrxaaP4fkZHBEptQe6Ibq8xZ39Et0W\",\"updated_at\":\"2024-05-03T17:04:20Z\"}}"], ["updated_at", "2024-05-03 17:04:21.018361"], ["id", 3]]
  [1m[35m (7.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 142ms (Views: 0.4ms | ActiveRecord: 9.2ms | Allocations: 22774)


Started GET "/cable" for ::1 at 2024-05-04 02:09:08 +0900
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 02:09:08 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 02:09:08 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"pCHGWhaV6hiFv_u1DNWK0Q\":{\"token\":\"$2a$10$7TtZyM6kscnDogxDqhRldeCjqLqVlSsMcnWAjmVf1QAwoZcVlhS0y\",\"expiry\":1715881962,\"previous_token\":\"$2a$10$C1o/L06fq/IWAQnDuJ5wrezlOo.6CbG.xVJz2bRUOXpfVJ9CAnyj6\",\"updated_at\":\"2024-05-02T17:52:42Z\"},\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"}}"], ["updated_at", "2024-05-03 17:09:08.365769"], ["id", 3]]
  [1m[35m (9.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 294ms (Views: 0.7ms | ActiveRecord: 17.2ms | Allocations: 39221)


Started GET "/cable" for ::1 at 2024-05-04 02:09:09 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 02:09:09 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 02:09:09 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"mqWjmL_KbCefTM3Wq2xqEA\":{\"token\":\"$2a$10$jf3nN5sFcT6PoiJ.O.7jGe4SwkXO2gJcRZIVQCIMSBFbL3PhYEIeS\",\"expiry\":1715964568,\"previous_token\":\"$2a$10$ATkkOCP3UntBjWmhiLn3puYnAmv4aJ5Hj8VS3V9n04ZmnOU3xo5ym\",\"last_token\":\"$2a$10$4pzQcCCVwey1/wNI39151.0/xHCMr4BiDMx.9FeMF5kjjJVnvOj/a\",\"updated_at\":\"2024-05-03T16:49:28Z\"},\"939Oi2190_dP-atn8xRD6Q\":{\"token\":\"$2a$10$O2nXTwzXnVpNuQH6cEg6IOYFigkjWXzNUmzk/e/ov3Kvl/AOtup5q\",\"expiry\":1715965749,\"previous_token\":\"$2a$10$Sj5ZaOyeIZMmK.DnAPD2d.4jqu.vKeEbroB4.0Mgn0jFromOMbzNK\",\"last_token\":\"$2a$10$OLp8WuoctDBpWlgHpgV0fejfMCAgrxPIlvAebogmLqciPkkGmanQe\",\"updated_at\":\"2024-05-03T17:09:09Z\"}}"], ["updated_at", "2024-05-03 17:09:09.868381"], ["id", 4]]
  [1m[35m (9.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 189ms (Views: 0.5ms | ActiveRecord: 10.9ms | Allocations: 21801)


Unsubscribing from channel: {"channel":"RoomChannel"}
RoomChannel stopped streaming from room_channel
Unsubscribing from channel: {"channel":"RoomChannel"}
RoomChannel stopped streaming from room_channel
Started GET "/cable" for ::1 at 2024-05-04 02:10:21 +0900
Started GET "/cable" for ::1 at 2024-05-04 02:10:21 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 02:10:21 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 02:10:21 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 02:10:21 +0900
Started GET "/messages" for ::1 at 2024-05-04 02:10:21 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 135ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 15982)


Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 135ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 14250)


Started GET "/cable" for ::1 at 2024-05-04 02:10:28 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 02:10:28 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2024-05-04 02:10:28 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 02:10:28 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Unsubscribing from channel: {"channel":"RoomChannel"}
Unsubscribing from channel: {"channel":"RoomChannel"}
RoomChannel stopped streaming from room_channel
RoomChannel stopped streaming from room_channel
Started GET "/cable" for ::1 at 2024-05-04 02:10:32 +0900
Started GET "/cable" for ::1 at 2024-05-04 02:10:32 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 02:10:32 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 02:10:32 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 02:10:32 +0900
Started GET "/messages" for ::1 at 2024-05-04 02:10:32 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 110ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 1570)


Completed 401 Unauthorized in 114ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 3097)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 02:10:41 +0900
Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 02:10:41 +0900
Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 02:10:41 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-04 02:10:42 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 114ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 6891)


Started GET "/cable" for ::1 at 2024-05-04 02:10:42 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 02:10:42 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 02:10:42 +0900
Processing by MessagesController#index as HTML
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 207)


Started GET "/cable" for ::1 at 2024-05-04 02:10:48 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 02:10:48 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2024-05-04 02:10:49 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 02:10:49 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2024-05-04 02:10:51 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 02:10:51 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 02:10:51 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 103ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1330)


Unsubscribing from channel: {"channel":"RoomChannel"}
RoomChannel stopped streaming from room_channel
Started GET "/cable" for ::1 at 2024-05-04 02:11:01 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 02:11:01 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Unsubscribing from channel: {"channel":"RoomChannel"}
RoomChannel stopped streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 02:11:01 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
Started GET "/cable" for ::1 at 2024-05-04 02:11:01 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 02:11:01 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 02:11:01 +0900
Processing by MessagesController#index as HTML
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 163)


Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 110ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 4430)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 02:11:05 +0900
Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 02:11:05 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-04 02:11:06 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 174)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 02:11:07 +0900
Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 02:11:07 +0900
RoomChannel stopped streaming from room_channel
Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 02:11:07 +0900
Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 02:11:07 +0900
Started GET "/auth/validate_token" for ::1 at 2024-05-04 02:11:07 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 97ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 1339)


Started GET "/cable" for ::1 at 2024-05-04 02:11:07 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 02:11:07 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 02:11:07 +0900
Processing by MessagesController#index as HTML
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 163)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-04 02:11:09 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 502)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-04 02:11:10 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 184)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-04 02:11:11 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 184)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 02:11:14 +0900
RoomChannel stopped streaming from room_channel
Started POST "/auth/sign_in" for ::1 at 2024-05-04 02:13:07 +0900
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$oSOO7NJIaQa91ngTQ5wf0.VNXSWGaIdBA.X5iH/BsukdR5iSC7Any\",\"expiry\":1715965987}}"], ["updated_at", "2024-05-03 17:13:07.807735"], ["id", 3]]
  [1m[35m (8.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"expiry\":1715965987,\"previous_token\":\"$2a$10$oSOO7NJIaQa91ngTQ5wf0.VNXSWGaIdBA.X5iH/BsukdR5iSC7Any\",\"updated_at\":\"2024-05-03T17:13:07Z\"}}"], ["updated_at", "2024-05-03 17:13:07.897356"], ["id", 3]]
  [1m[35m (8.9ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 360ms (Views: 0.2ms | ActiveRecord: 20.6ms | Allocations: 25788)


Started GET "/auth/validate_token" for ::1 at 2024-05-04 02:13:07 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"expiry\":1715965987,\"previous_token\":\"$2a$10$oSOO7NJIaQa91ngTQ5wf0.VNXSWGaIdBA.X5iH/BsukdR5iSC7Any\",\"updated_at\":\"2024-05-03T17:13:08Z\"}}"], ["updated_at", "2024-05-03 17:13:08.010274"], ["id", 3]]
  [1m[35m (8.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 80ms (Views: 0.4ms | ActiveRecord: 8.8ms | Allocations: 10404)


Started GET "/cable" for ::1 at 2024-05-04 02:13:08 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 02:13:08 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 02:13:08 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 41ms (Views: 0.9ms | ActiveRecord: 2.1ms | Allocations: 29891)


Started GET "/auth/validate_token" for ::1 at 2024-05-04 02:13:15 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
Completed 401 Unauthorized in 8ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 6430)


Started POST "/auth/sign_in" for ::1 at 2024-05-04 02:13:23 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test2@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test2@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test2@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"mqWjmL_KbCefTM3Wq2xqEA\":{\"token\":\"$2a$10$jf3nN5sFcT6PoiJ.O.7jGe4SwkXO2gJcRZIVQCIMSBFbL3PhYEIeS\",\"expiry\":1715964568,\"previous_token\":\"$2a$10$ATkkOCP3UntBjWmhiLn3puYnAmv4aJ5Hj8VS3V9n04ZmnOU3xo5ym\",\"last_token\":\"$2a$10$4pzQcCCVwey1/wNI39151.0/xHCMr4BiDMx.9FeMF5kjjJVnvOj/a\",\"updated_at\":\"2024-05-03T16:49:28Z\"},\"939Oi2190_dP-atn8xRD6Q\":{\"token\":\"$2a$10$O2nXTwzXnVpNuQH6cEg6IOYFigkjWXzNUmzk/e/ov3Kvl/AOtup5q\",\"expiry\":1715965749,\"previous_token\":\"$2a$10$Sj5ZaOyeIZMmK.DnAPD2d.4jqu.vKeEbroB4.0Mgn0jFromOMbzNK\",\"last_token\":\"$2a$10$OLp8WuoctDBpWlgHpgV0fejfMCAgrxPIlvAebogmLqciPkkGmanQe\",\"updated_at\":\"2024-05-03T17:09:09Z\"},\"7d3XNGnN_TWQ9g3JzMnYyg\":{\"token\":\"$2a$10$.zyv3j/8KH0AVd3uvi0/veQMddJVUtT./VRZ6843z/C6q1jXjPZmS\",\"expiry\":1715966003}}"], ["updated_at", "2024-05-03 17:13:23.724383"], ["id", 4]]
  [1m[35m (7.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"mqWjmL_KbCefTM3Wq2xqEA\":{\"token\":\"$2a$10$jf3nN5sFcT6PoiJ.O.7jGe4SwkXO2gJcRZIVQCIMSBFbL3PhYEIeS\",\"expiry\":1715964568,\"previous_token\":\"$2a$10$ATkkOCP3UntBjWmhiLn3puYnAmv4aJ5Hj8VS3V9n04ZmnOU3xo5ym\",\"last_token\":\"$2a$10$4pzQcCCVwey1/wNI39151.0/xHCMr4BiDMx.9FeMF5kjjJVnvOj/a\",\"updated_at\":\"2024-05-03T16:49:28Z\"},\"939Oi2190_dP-atn8xRD6Q\":{\"token\":\"$2a$10$O2nXTwzXnVpNuQH6cEg6IOYFigkjWXzNUmzk/e/ov3Kvl/AOtup5q\",\"expiry\":1715965749,\"previous_token\":\"$2a$10$Sj5ZaOyeIZMmK.DnAPD2d.4jqu.vKeEbroB4.0Mgn0jFromOMbzNK\",\"last_token\":\"$2a$10$OLp8WuoctDBpWlgHpgV0fejfMCAgrxPIlvAebogmLqciPkkGmanQe\",\"updated_at\":\"2024-05-03T17:09:09Z\"},\"7d3XNGnN_TWQ9g3JzMnYyg\":{\"token\":\"$2a$10$u6rumJ6w/AaXNDSgM46EKunDC2rQMv9FRqhabeBtL7H0euo6cx/FS\",\"expiry\":1715966003,\"previous_token\":\"$2a$10$.zyv3j/8KH0AVd3uvi0/veQMddJVUtT./VRZ6843z/C6q1jXjPZmS\",\"updated_at\":\"2024-05-03T17:13:23Z\"}}"], ["updated_at", "2024-05-03 17:13:23.786448"], ["id", 4]]
  [1m[35m (8.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 318ms (Views: 0.1ms | ActiveRecord: 16.8ms | Allocations: 17079)


Started GET "/auth/validate_token" for ::1 at 2024-05-04 02:13:23 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 53ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 7661)


Started GET "/cable" for ::1 at 2024-05-04 02:13:23 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 02:13:23 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 02:13:23 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 23ms (Views: 0.4ms | ActiveRecord: 1.2ms | Allocations: 19670)


RoomChannel#receive({"message"=>"aaa", "email"=>"test@test.com"})
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["content", "aaa"], ["created_at", "2024-05-03 17:13:27.416082"], ["updated_at", "2024-05-03 17:13:27.416082"]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (9.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>"aaa", :name=>"test001", :created_at=>Fri, 03 May 2024 17:13:27 UTC +00:00}
RoomChannel transmitting {"message"=>"aaa", "name"=>"test001", "created_at"=>"2024-05-03T17:13:27.416Z"} (via streamed from room_channel)
RoomChannel transmitting {"message"=>"aaa", "name"=>"test001", "created_at"=>"2024-05-03T17:13:27.416Z"} (via streamed from room_channel)
Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 02:14:00 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-04 02:14:00 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"expiry\":1715966040,\"previous_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"last_token\":\"$2a$10$oSOO7NJIaQa91ngTQ5wf0.VNXSWGaIdBA.X5iH/BsukdR5iSC7Any\",\"updated_at\":\"2024-05-03T17:14:00Z\"}}"], ["updated_at", "2024-05-03 17:14:00.888295"], ["id", 3]]
  [1m[35m (6.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 76ms (Views: 0.2ms | ActiveRecord: 7.9ms | Allocations: 10197)


Started GET "/cable" for ::1 at 2024-05-04 02:14:00 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 02:14:00 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 02:14:00 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 9]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"expiry\":1715966040,\"previous_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"last_token\":\"$2a$10$oSOO7NJIaQa91ngTQ5wf0.VNXSWGaIdBA.X5iH/BsukdR5iSC7Any\",\"updated_at\":\"2024-05-03T17:14:01Z\"}}"], ["updated_at", "2024-05-03 17:14:01.043956"], ["id", 3]]
  [1m[35m (6.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 123ms (Views: 0.8ms | ActiveRecord: 9.1ms | Allocations: 24388)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 02:14:06 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-04 02:14:06 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"mqWjmL_KbCefTM3Wq2xqEA\":{\"token\":\"$2a$10$jf3nN5sFcT6PoiJ.O.7jGe4SwkXO2gJcRZIVQCIMSBFbL3PhYEIeS\",\"expiry\":1715964568,\"previous_token\":\"$2a$10$ATkkOCP3UntBjWmhiLn3puYnAmv4aJ5Hj8VS3V9n04ZmnOU3xo5ym\",\"last_token\":\"$2a$10$4pzQcCCVwey1/wNI39151.0/xHCMr4BiDMx.9FeMF5kjjJVnvOj/a\",\"updated_at\":\"2024-05-03T16:49:28Z\"},\"939Oi2190_dP-atn8xRD6Q\":{\"token\":\"$2a$10$O2nXTwzXnVpNuQH6cEg6IOYFigkjWXzNUmzk/e/ov3Kvl/AOtup5q\",\"expiry\":1715965749,\"previous_token\":\"$2a$10$Sj5ZaOyeIZMmK.DnAPD2d.4jqu.vKeEbroB4.0Mgn0jFromOMbzNK\",\"last_token\":\"$2a$10$OLp8WuoctDBpWlgHpgV0fejfMCAgrxPIlvAebogmLqciPkkGmanQe\",\"updated_at\":\"2024-05-03T17:09:09Z\"},\"7d3XNGnN_TWQ9g3JzMnYyg\":{\"token\":\"$2a$10$x/x7dpuUThR3l80ENvXAk.0qChreui41CrOlOrFxHUi251zIfbsIW\",\"expiry\":1715966046,\"previous_token\":\"$2a$10$u6rumJ6w/AaXNDSgM46EKunDC2rQMv9FRqhabeBtL7H0euo6cx/FS\",\"last_token\":\"$2a$10$.zyv3j/8KH0AVd3uvi0/veQMddJVUtT./VRZ6843z/C6q1jXjPZmS\",\"updated_at\":\"2024-05-03T17:14:06Z\"}}"], ["updated_at", "2024-05-03 17:14:06.658689"], ["id", 4]]
  [1m[35m (7.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 70ms (Views: 0.3ms | ActiveRecord: 8.1ms | Allocations: 9666)


Started GET "/cable" for ::1 at 2024-05-04 02:14:06 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 02:14:06 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 02:14:06 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 9]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 91ms (Views: 0.6ms | ActiveRecord: 2.1ms | Allocations: 21437)


RoomChannel#receive({"message"=>"bbb", "email"=>"test@test.com"})
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["content", "bbb"], ["created_at", "2024-05-03 17:14:12.982203"], ["updated_at", "2024-05-03 17:14:12.982203"]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (10.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>"bbb", :name=>"test001", :created_at=>Fri, 03 May 2024 17:14:12 UTC +00:00}
RoomChannel transmitting {"message"=>"bbb", "name"=>"test001", "created_at"=>"2024-05-03T17:14:12.982Z"} (via streamed from room_channel)
RoomChannel transmitting {"message"=>"bbb", "name"=>"test001", "created_at"=>"2024-05-03T17:14:12.982Z"} (via streamed from room_channel)
Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 02:14:20 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-04 02:14:20 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"HIdpihOX0IM0mcttRP07Ig\":{\"token\":\"$2a$10$14MtbntV.RcQyUDv2DeaQ.Fj1NIhkFwhj.nU3HUcWUzTKgtuhgyi6\",\"expiry\":1715882197,\"previous_token\":\"$2a$10$iozzwQ9Z9zegiBA2zYHLYesfNzkhcKwwSzUPGUq69eECWPiTjAwH6\",\"updated_at\":\"2024-05-02T17:56:37Z\"},\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"}}"], ["updated_at", "2024-05-03 17:14:20.490109"], ["id", 3]]
  [1m[35m (7.9ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 121ms (Views: 0.1ms | ActiveRecord: 8.6ms | Allocations: 10191)


Started GET "/cable" for ::1 at 2024-05-04 02:14:20 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 02:14:20 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 02:14:20 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (1.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 9]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 10]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 227ms (Views: 1.1ms | ActiveRecord: 4.0ms | Allocations: 23400)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 02:15:07 +0900
RoomChannel stopped streaming from room_channel
RoomChannel#receive({"message"=>"ccc", "email"=>"test@test.com"})
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["content", "ccc"], ["created_at", "2024-05-03 17:16:04.105036"], ["updated_at", "2024-05-03 17:16:04.105036"]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (10.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>"ccc", :name=>"test001", :created_at=>Fri, 03 May 2024 17:16:04 UTC +00:00}
RoomChannel transmitting {"message"=>"ccc", "name"=>"test001", "created_at"=>"2024-05-03T17:16:04.105Z"} (via streamed from room_channel)
Started GET "/cable" for ::1 at 2024-05-04 02:21:12 +0900
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 02:21:12 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 02:21:12 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 136ms (Views: 1.2ms | ActiveRecord: 0.7ms | Allocations: 13659)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 02:21:12 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-04 02:21:13 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 106ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1566)


Started GET "/cable" for ::1 at 2024-05-04 02:21:13 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 02:21:13 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 02:21:13 +0900
Processing by MessagesController#index as HTML
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms | Allocations: 163)


RoomChannel#receive({"message"=>"h", "email"=>nil})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"RoomChannel\"}", "data"=>"{\"message\":\"h\",\"email\":null,\"action\":\"receive\"}"}) [NoMethodError - undefined method `id' for nil:NilClass]: /home/toryoto/chat/backend/app/channels/room_channel.rb:13:in `receive' | /home/toryoto/chat/backend/vendor/bundle/ruby/2.7.0/gems/actioncable-6.0.6.1/lib/action_cable/channel/base.rb:268:in `public_send' | /home/toryoto/chat/backend/vendor/bundle/ruby/2.7.0/gems/actioncable-6.0.6.1/lib/action_cable/channel/base.rb:268:in `dispatch_action' | /home/toryoto/chat/backend/vendor/bundle/ruby/2.7.0/gems/actioncable-6.0.6.1/lib/action_cable/channel/base.rb:170:in `block in perform_action' | /home/toryoto/chat/backend/vendor/bundle/ruby/2.7.0/gems/activesupport-6.0.6.1/lib/active_support/notifications.rb:182:in `instrument'
Started DELETE "/auth/sign_out" for ::1 at 2024-05-04 02:21:30 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 506)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 02:21:34 +0900
RoomChannel stopped streaming from room_channel
Started POST "/auth/sign_in" for ::1 at 2024-05-04 02:21:47 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"AHslUM6uozDCD5MMtxzwqQ\":{\"token\":\"$2a$10$HBbhLGx/Q1sQmwENX/GyiuDkJb78wcNohCJ/j.e2ubOXL5dycD4.G\",\"expiry\":1715966508}}"], ["updated_at", "2024-05-03 17:21:48.011139"], ["id", 3]]
  [1m[35m (16.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"AHslUM6uozDCD5MMtxzwqQ\":{\"token\":\"$2a$10$JZs.cHVfXMEpD/UN7QIlN.mSeIvBBw/i8lLLFEGff/tURB4WJ1Q/W\",\"expiry\":1715966508,\"previous_token\":\"$2a$10$HBbhLGx/Q1sQmwENX/GyiuDkJb78wcNohCJ/j.e2ubOXL5dycD4.G\",\"updated_at\":\"2024-05-03T17:21:48Z\"}}"], ["updated_at", "2024-05-03 17:21:48.088192"], ["id", 3]]
  [1m[35m (8.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 333ms (Views: 0.2ms | ActiveRecord: 26.1ms | Allocations: 20880)


Started GET "/auth/validate_token" for ::1 at 2024-05-04 02:21:48 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 54ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 8092)


Started GET "/cable" for ::1 at 2024-05-04 02:21:48 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 02:21:48 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 02:21:48 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 9]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 10]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 11]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 54ms (Views: 0.5ms | ActiveRecord: 2.8ms | Allocations: 32947)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-04 02:22:36 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"}}"], ["updated_at", "2024-05-03 17:22:36.551836"], ["id", 3]]
  [1m[35m (8.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 21ms (Views: 0.2ms | ActiveRecord: 9.3ms | Allocations: 6377)


Unsubscribing from channel: {"channel":"RoomChannel"}
RoomChannel stopped streaming from room_channel
Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 02:23:25 +0900
Started POST "/auth/sign_in" for ::1 at 2024-05-04 02:27:21 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (2.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$xvUpd.fLlsXCkFhpnpeGx..2iHVTAR5DbE3.bKtwcrjDOqcuQKVTK\",\"expiry\":1715966842}}"], ["updated_at", "2024-05-03 17:27:22.220611"], ["id", 3]]
  [1m[35m (9.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"expiry\":1715966842,\"previous_token\":\"$2a$10$xvUpd.fLlsXCkFhpnpeGx..2iHVTAR5DbE3.bKtwcrjDOqcuQKVTK\",\"updated_at\":\"2024-05-03T17:27:22Z\"}}"], ["updated_at", "2024-05-03 17:27:22.294253"], ["id", 3]]
  [1m[35m (9.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 336ms (Views: 0.3ms | ActiveRecord: 22.8ms | Allocations: 18495)


Started GET "/auth/validate_token" for ::1 at 2024-05-04 02:27:22 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 72ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 8081)


Started GET "/cable" for ::1 at 2024-05-04 02:27:22 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 02:27:22 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 02:27:22 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 9]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 10]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 11]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 50ms (Views: 1.1ms | ActiveRecord: 2.6ms | Allocations: 24413)


RoomChannel#receive({"message"=>"jjjj", "email"=>"test@test.com"})
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["content", "jjjj"], ["created_at", "2024-05-03 17:27:37.121839"], ["updated_at", "2024-05-03 17:27:37.121839"]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (12.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>"jjjj", :name=>"test001", :created_at=>Fri, 03 May 2024 17:27:37 UTC +00:00}
RoomChannel transmitting {"message"=>"jjjj", "name"=>"test001", "created_at"=>"2024-05-03T17:27:37.121Z"} (via streamed from room_channel)
Unsubscribing from channel: {"channel":"RoomChannel"}
RoomChannel stopped streaming from room_channel
Started GET "/cable" for ::1 at 2024-05-04 02:29:00 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 02:29:00 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 02:29:00 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 9]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 10]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 11]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 12]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"expiry\":1715966940,\"previous_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"last_token\":\"$2a$10$xvUpd.fLlsXCkFhpnpeGx..2iHVTAR5DbE3.bKtwcrjDOqcuQKVTK\",\"updated_at\":\"2024-05-03T17:29:00Z\"}}"], ["updated_at", "2024-05-03 17:29:00.301476"], ["id", 3]]
  [1m[35m (11.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 113ms (Views: 0.7ms | ActiveRecord: 14.6ms | Allocations: 28045)


RoomChannel#receive({"message"=>"uuu", "email"=>"test@test.com"})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["content", "uuu"], ["created_at", "2024-05-03 17:29:13.921119"], ["updated_at", "2024-05-03 17:29:13.921119"]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (15.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>"uuu", :name=>"test001", :created_at=>Fri, 03 May 2024 17:29:13 UTC +00:00}
RoomChannel transmitting {"message"=>"uuu", "name"=>"test001", "created_at"=>"2024-05-03T17:29:13.921Z"} (via streamed from room_channel)
Unsubscribing from channel: {"channel":"RoomChannel"}
RoomChannel stopped streaming from room_channel
Started GET "/cable" for ::1 at 2024-05-04 02:29:20 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 02:29:20 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 02:29:20 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 9]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 10]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 11]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 12]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 13]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"T2VDadwOgj-hVtbAZLwLWw\":{\"token\":\"$2a$10$KmRGsBrmsLwTtjHcqyctdOtJ/.6VAkbBmiALIvbvaZPy7KEfHMPOy\",\"expiry\":1715883120,\"previous_token\":\"$2a$10$q4baUhvjsN4RwIpEwIBumuhSwyzmofZbdOtCVCs7plqU.TxLUOLey\",\"updated_at\":\"2024-05-02T18:12:00Z\"},\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"}}"], ["updated_at", "2024-05-03 17:29:20.585123"], ["id", 3]]
  [1m[35m (10.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 155ms (Views: 1.1ms | ActiveRecord: 12.8ms | Allocations: 29905)


Unsubscribing from channel: {"channel":"RoomChannel"}
RoomChannel stopped streaming from room_channel
Started GET "/cable" for ::1 at 2024-05-04 02:31:14 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 02:31:14 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 02:31:14 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 108ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1411)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 02:31:33 +0900
Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 02:31:33 +0900
RoomChannel stopped streaming from room_channel
Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 02:31:33 +0900
Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 02:31:33 +0900
Started GET "/auth/validate_token" for ::1 at 2024-05-04 02:31:33 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 111ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 1421)


Started GET "/auth/validate_token" for ::1 at 2024-05-04 02:31:33 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 174)


Started POST "/auth/sign_in" for ::1 at 2024-05-04 02:31:45 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$Ai//QgY9R2uJTfSNu5lXyeOMGQrFe/aJAI55L33l4gZnu68hkaQvq\",\"expiry\":1715967106}}"], ["updated_at", "2024-05-03 17:31:46.176340"], ["id", 3]]
  [1m[35m (9.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"expiry\":1715967106,\"previous_token\":\"$2a$10$Ai//QgY9R2uJTfSNu5lXyeOMGQrFe/aJAI55L33l4gZnu68hkaQvq\",\"updated_at\":\"2024-05-03T17:31:46Z\"}}"], ["updated_at", "2024-05-03 17:31:46.241245"], ["id", 3]]
  [1m[35m (8.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 319ms (Views: 0.1ms | ActiveRecord: 19.4ms | Allocations: 18737)


Started GET "/auth/validate_token" for ::1 at 2024-05-04 02:31:46 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 74ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 8084)


Started GET "/cable" for ::1 at 2024-05-04 02:31:46 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 02:31:46 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 02:31:46 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 9]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 10]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 11]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 12]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 13]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 59ms (Views: 0.7ms | ActiveRecord: 3.4ms | Allocations: 27268)


RoomChannel#receive({"message"=>"ss", "email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["content", "ss"], ["created_at", "2024-05-03 17:31:55.903229"], ["updated_at", "2024-05-03 17:31:55.903229"]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (9.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>"ss", :name=>"test001", :created_at=>Fri, 03 May 2024 17:31:55 UTC +00:00}
RoomChannel transmitting {"message"=>"ss", "name"=>"test001", "created_at"=>"2024-05-03T17:31:55.903Z"} (via streamed from room_channel)
Unsubscribing from channel: {"channel":"RoomChannel"}
RoomChannel stopped streaming from room_channel
Started GET "/cable" for ::1 at 2024-05-04 02:32:09 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 02:32:09 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 02:32:09 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 9]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 10]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 11]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 12]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 13]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 14]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"expiry\":1715967129,\"previous_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"last_token\":\"$2a$10$Ai//QgY9R2uJTfSNu5lXyeOMGQrFe/aJAI55L33l4gZnu68hkaQvq\",\"updated_at\":\"2024-05-03T17:32:09Z\"}}"], ["updated_at", "2024-05-03 17:32:09.346858"], ["id", 3]]
  [1m[35m (17.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 129ms (Views: 1.1ms | ActiveRecord: 20.5ms | Allocations: 31287)


Unsubscribing from channel: {"channel":"RoomChannel"}
RoomChannel stopped streaming from room_channel
Started GET "/cable" for ::1 at 2024-05-04 02:32:48 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 02:32:48 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 02:32:48 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 9]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 10]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 11]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 12]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 13]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 14]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"a8qJVifLGg-QELLDxwqC2w\":{\"token\":\"$2a$10$XQeQ0FozdxRl1SjQAAsE0.72Y2P0/MXNfmQS6qAAbBV9zqUqzC21W\",\"expiry\":1715883236,\"previous_token\":\"$2a$10$zEtHugb3A1JTyVL4uWOkWuodLqFKtC0pwNK3sD5f1QBrbGfdmSeue\",\"updated_at\":\"2024-05-02T18:13:56Z\"},\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"}}"], ["updated_at", "2024-05-03 17:32:48.201591"], ["id", 3]]
  [1m[35m (7.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 169ms (Views: 0.8ms | ActiveRecord: 10.1ms | Allocations: 31630)


RoomChannel#receive({"message"=>"rt", "email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mMessage Create (2.5ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["content", "rt"], ["created_at", "2024-05-03 17:32:51.162140"], ["updated_at", "2024-05-03 17:32:51.162140"]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (7.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>"rt", :name=>"test001", :created_at=>Fri, 03 May 2024 17:32:51 UTC +00:00}
RoomChannel transmitting {"message"=>"rt", "name"=>"test001", "created_at"=>"2024-05-03T17:32:51.162Z"} (via streamed from room_channel)
Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 02:33:05 +0900
Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 02:33:05 +0900
Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 02:33:05 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-04 02:33:05 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 113ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 1424)


Started GET "/cable" for ::1 at 2024-05-04 02:33:05 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 02:33:05 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 02:33:05 +0900
Processing by MessagesController#index as HTML
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 163)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-04 02:33:28 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 184)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-04 02:33:29 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 184)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-04 02:33:30 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 184)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-04 02:33:31 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 184)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 02:34:22 +0900
RoomChannel stopped streaming from room_channel
Started POST "/auth/sign_in" for ::1 at 2024-05-04 02:34:30 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
Completed 401 Unauthorized in 209ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1609)


Started POST "/auth/sign_in" for ::1 at 2024-05-04 02:34:35 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"m1kJYh3yOT456_-OgtjIVQ\":{\"token\":\"$2a$10$6Bs9CKQQRs9tdGBmCDPDGuoxHGePef0/VPFazLcmx2jzbCNwd/7/C\",\"expiry\":1715967275}}"], ["updated_at", "2024-05-03 17:34:35.377723"], ["id", 3]]
  [1m[35m (10.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"m1kJYh3yOT456_-OgtjIVQ\":{\"token\":\"$2a$10$CeW.WreWct561LX7ha8kYuQkBDj8vqkptWGxuayBVN42GqlPNfwC6\",\"expiry\":1715967275,\"previous_token\":\"$2a$10$6Bs9CKQQRs9tdGBmCDPDGuoxHGePef0/VPFazLcmx2jzbCNwd/7/C\",\"updated_at\":\"2024-05-03T17:34:35Z\"}}"], ["updated_at", "2024-05-03 17:34:35.445787"], ["id", 3]]
  [1m[35m (8.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 316ms (Views: 0.1ms | ActiveRecord: 19.1ms | Allocations: 18360)


Started GET "/auth/validate_token" for ::1 at 2024-05-04 02:34:35 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 61ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 8088)


Started GET "/cable" for ::1 at 2024-05-04 02:34:35 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 02:34:35 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 02:34:35 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 9]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 10]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 11]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 12]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 13]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 14]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 15]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 88ms (Views: 0.8ms | ActiveRecord: 3.2ms | Allocations: 30122)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 02:34:38 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-04 02:34:38 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"m1kJYh3yOT456_-OgtjIVQ\":{\"token\":\"$2a$10$CeW.WreWct561LX7ha8kYuQkBDj8vqkptWGxuayBVN42GqlPNfwC6\",\"expiry\":1715967275,\"previous_token\":\"$2a$10$6Bs9CKQQRs9tdGBmCDPDGuoxHGePef0/VPFazLcmx2jzbCNwd/7/C\",\"updated_at\":\"2024-05-03T17:34:38Z\"}}"], ["updated_at", "2024-05-03 17:34:38.326897"], ["id", 3]]
  [1m[35m (8.3ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 22ms (Views: 0.2ms | ActiveRecord: 9.3ms | Allocations: 10089)


Started GET "/cable" for ::1 at 2024-05-04 02:34:38 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 02:34:38 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 02:34:38 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 9]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 10]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 11]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 12]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 13]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 14]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 15]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 51ms (Views: 0.7ms | ActiveRecord: 2.6ms | Allocations: 30121)


RoomChannel#receive({"message"=>"aaa", "email"=>"test@test.com"})
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["content", "aaa"], ["created_at", "2024-05-03 17:34:42.700007"], ["updated_at", "2024-05-03 17:34:42.700007"]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (13.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>"aaa", :name=>"test001", :created_at=>Fri, 03 May 2024 17:34:42 UTC +00:00}
RoomChannel transmitting {"message"=>"aaa", "name"=>"test001", "created_at"=>"2024-05-03T17:34:42.700Z"} (via streamed from room_channel)
Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 02:34:46 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-04 02:34:46 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"m1kJYh3yOT456_-OgtjIVQ\":{\"token\":\"$2a$10$MzTTFl8pIGhaRMkB1fFjt.W5RatO4TVhrSSyhgnEjpwaCc1HRFiLG\",\"expiry\":1715967286,\"previous_token\":\"$2a$10$CeW.WreWct561LX7ha8kYuQkBDj8vqkptWGxuayBVN42GqlPNfwC6\",\"last_token\":\"$2a$10$6Bs9CKQQRs9tdGBmCDPDGuoxHGePef0/VPFazLcmx2jzbCNwd/7/C\",\"updated_at\":\"2024-05-03T17:34:46Z\"}}"], ["updated_at", "2024-05-03 17:34:46.795401"], ["id", 3]]
  [1m[35m (7.9ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 71ms (Views: 0.1ms | ActiveRecord: 8.8ms | Allocations: 10174)


Started GET "/cable" for ::1 at 2024-05-04 02:34:46 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 02:34:46 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 02:34:46 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (2.5ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 9]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 10]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 11]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 12]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 13]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 14]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 15]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 16]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 158ms (Views: 0.8ms | ActiveRecord: 6.4ms | Allocations: 31872)


Unsubscribing from channel: {"channel":"RoomChannel"}
RoomChannel stopped streaming from room_channel
Started GET "/cable" for ::1 at 2024-05-04 02:36:07 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 02:36:07 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 02:36:07 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 9]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 10]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 11]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 12]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 13]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 14]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 15]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 16]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"m1kJYh3yOT456_-OgtjIVQ\":{\"token\":\"$2a$10$0cLsp/6phRaqUlwQ71P/BeNj0WG26tbbH45vdLX5DB9LMBwX1KXA.\",\"expiry\":1715967368,\"previous_token\":\"$2a$10$MzTTFl8pIGhaRMkB1fFjt.W5RatO4TVhrSSyhgnEjpwaCc1HRFiLG\",\"last_token\":\"$2a$10$CeW.WreWct561LX7ha8kYuQkBDj8vqkptWGxuayBVN42GqlPNfwC6\",\"updated_at\":\"2024-05-03T17:36:08Z\"}}"], ["updated_at", "2024-05-03 17:36:08.158513"], ["id", 3]]
  [1m[35m (14.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 229ms (Views: 1.2ms | ActiveRecord: 18.9ms | Allocations: 34166)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-04 02:36:12 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"}}"], ["updated_at", "2024-05-03 17:36:12.722035"], ["id", 3]]
  [1m[35m (7.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 163ms (Views: 0.2ms | ActiveRecord: 8.2ms | Allocations: 6842)


Unsubscribing from channel: {"channel":"RoomChannel"}
RoomChannel stopped streaming from room_channel
Started POST "/auth/sign_in" for ::1 at 2024-05-04 02:36:23 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
Completed 401 Unauthorized in 199ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1604)


Started POST "/auth/sign_in" for ::1 at 2024-05-04 02:36:29 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$Txj3EFYxXe.LiDPEysrLWuu.mIlKJuP9AHuZiUP7nT/miGicOFhJy\",\"expiry\":1715967389}}"], ["updated_at", "2024-05-03 17:36:29.478816"], ["id", 3]]
  [1m[35m (8.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"expiry\":1715967389,\"previous_token\":\"$2a$10$Txj3EFYxXe.LiDPEysrLWuu.mIlKJuP9AHuZiUP7nT/miGicOFhJy\",\"updated_at\":\"2024-05-03T17:36:29Z\"}}"], ["updated_at", "2024-05-03 17:36:29.548310"], ["id", 3]]
  [1m[35m (8.7ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 333ms (Views: 0.2ms | ActiveRecord: 18.6ms | Allocations: 18468)


Started GET "/auth/validate_token" for ::1 at 2024-05-04 02:36:29 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 56ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 8087)


Started GET "/cable" for ::1 at 2024-05-04 02:36:29 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 02:36:29 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 02:36:29 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 9]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 10]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 11]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 12]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 13]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 14]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 15]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 16]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 60ms (Views: 0.7ms | ActiveRecord: 3.0ms | Allocations: 31547)


RoomChannel#receive({"message"=>"yy", "email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mMessage Create (0.2ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["content", "yy"], ["created_at", "2024-05-03 17:36:36.377750"], ["updated_at", "2024-05-03 17:36:36.377750"]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (8.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>"yy", :name=>"test001", :created_at=>Fri, 03 May 2024 17:36:36 UTC +00:00}
RoomChannel transmitting {"message"=>"yy", "name"=>"test001", "created_at"=>"2024-05-03T17:36:36.377Z"} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-04 02:36:36 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 9]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 10]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 11]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 12]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 13]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 14]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 15]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 16]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 17]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"expiry\":1715967396,\"previous_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"last_token\":\"$2a$10$Txj3EFYxXe.LiDPEysrLWuu.mIlKJuP9AHuZiUP7nT/miGicOFhJy\",\"updated_at\":\"2024-05-03T17:36:36Z\"}}"], ["updated_at", "2024-05-03 17:36:36.497190"], ["id", 3]]
  [1m[35m (8.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 112ms (Views: 0.8ms | ActiveRecord: 11.2ms | Allocations: 35858)


RoomChannel#receive({"message"=>"tt", "email"=>"test@test.com"})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["content", "tt"], ["created_at", "2024-05-03 17:36:43.161955"], ["updated_at", "2024-05-03 17:36:43.161955"]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (11.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>"tt", :name=>"test001", :created_at=>Fri, 03 May 2024 17:36:43 UTC +00:00}
RoomChannel transmitting {"message"=>"tt", "name"=>"test001", "created_at"=>"2024-05-03T17:36:43.161Z"} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-04 02:36:43 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 9]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 10]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 11]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 12]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 13]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 14]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 15]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 16]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 17]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 18]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"7tiPJsLLH7fz-K8EWPFcyQ\":{\"token\":\"$2a$10$HWZ/Noi04vf6lhZhMiw0QehVkJsLAy.WYYp.yco0IzbJ4pOlMztsG\",\"expiry\":1715947782,\"previous_token\":\"$2a$10$HRm0L6jlbZJjAECq1njSoOyDIPt5.1h3PCKsEZ.Vp2i.L07Ic..9a\",\"last_token\":\"$2a$10$UCTMs7uxuI8wkAVXGkOK5.0X.2iT.edp./WixfMCxh4YBjZMel0Ca\",\"updated_at\":\"2024-05-03T12:09:42Z\"},\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"}}"], ["updated_at", "2024-05-03 17:36:43.336122"], ["id", 3]]
  [1m[35m (10.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 162ms (Views: 0.9ms | ActiveRecord: 12.4ms | Allocations: 36943)


Started GET "/auth/validate_token" for ::1 at 2024-05-04 12:21:02 +0900
  [1m[35m (2.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 511ms (Views: 0.7ms | ActiveRecord: 5.1ms | Allocations: 13728)


Started POST "/auth/sign_in" for ::1 at 2024-05-04 12:22:36 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test2@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test2@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test2@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"mqWjmL_KbCefTM3Wq2xqEA\":{\"token\":\"$2a$10$jf3nN5sFcT6PoiJ.O.7jGe4SwkXO2gJcRZIVQCIMSBFbL3PhYEIeS\",\"expiry\":1715964568,\"previous_token\":\"$2a$10$ATkkOCP3UntBjWmhiLn3puYnAmv4aJ5Hj8VS3V9n04ZmnOU3xo5ym\",\"last_token\":\"$2a$10$4pzQcCCVwey1/wNI39151.0/xHCMr4BiDMx.9FeMF5kjjJVnvOj/a\",\"updated_at\":\"2024-05-03T16:49:28Z\"},\"939Oi2190_dP-atn8xRD6Q\":{\"token\":\"$2a$10$O2nXTwzXnVpNuQH6cEg6IOYFigkjWXzNUmzk/e/ov3Kvl/AOtup5q\",\"expiry\":1715965749,\"previous_token\":\"$2a$10$Sj5ZaOyeIZMmK.DnAPD2d.4jqu.vKeEbroB4.0Mgn0jFromOMbzNK\",\"last_token\":\"$2a$10$OLp8WuoctDBpWlgHpgV0fejfMCAgrxPIlvAebogmLqciPkkGmanQe\",\"updated_at\":\"2024-05-03T17:09:09Z\"},\"7d3XNGnN_TWQ9g3JzMnYyg\":{\"token\":\"$2a$10$x/x7dpuUThR3l80ENvXAk.0qChreui41CrOlOrFxHUi251zIfbsIW\",\"expiry\":1715966046,\"previous_token\":\"$2a$10$u6rumJ6w/AaXNDSgM46EKunDC2rQMv9FRqhabeBtL7H0euo6cx/FS\",\"last_token\":\"$2a$10$.zyv3j/8KH0AVd3uvi0/veQMddJVUtT./VRZ6843z/C6q1jXjPZmS\",\"updated_at\":\"2024-05-03T17:14:06Z\"},\"r_E3Ql92fv2o_EGv5Ce5RA\":{\"token\":\"$2a$10$ZZt80nV/huR6HJRaV7DHCOa4hgPITo6vRjSO5MHcA8T3Izl.nw9u6\",\"expiry\":1716002556}}"], ["updated_at", "2024-05-04 03:22:36.670114"], ["id", 4]]
  [1m[35m (8.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"mqWjmL_KbCefTM3Wq2xqEA\":{\"token\":\"$2a$10$jf3nN5sFcT6PoiJ.O.7jGe4SwkXO2gJcRZIVQCIMSBFbL3PhYEIeS\",\"expiry\":1715964568,\"previous_token\":\"$2a$10$ATkkOCP3UntBjWmhiLn3puYnAmv4aJ5Hj8VS3V9n04ZmnOU3xo5ym\",\"last_token\":\"$2a$10$4pzQcCCVwey1/wNI39151.0/xHCMr4BiDMx.9FeMF5kjjJVnvOj/a\",\"updated_at\":\"2024-05-03T16:49:28Z\"},\"939Oi2190_dP-atn8xRD6Q\":{\"token\":\"$2a$10$O2nXTwzXnVpNuQH6cEg6IOYFigkjWXzNUmzk/e/ov3Kvl/AOtup5q\",\"expiry\":1715965749,\"previous_token\":\"$2a$10$Sj5ZaOyeIZMmK.DnAPD2d.4jqu.vKeEbroB4.0Mgn0jFromOMbzNK\",\"last_token\":\"$2a$10$OLp8WuoctDBpWlgHpgV0fejfMCAgrxPIlvAebogmLqciPkkGmanQe\",\"updated_at\":\"2024-05-03T17:09:09Z\"},\"7d3XNGnN_TWQ9g3JzMnYyg\":{\"token\":\"$2a$10$x/x7dpuUThR3l80ENvXAk.0qChreui41CrOlOrFxHUi251zIfbsIW\",\"expiry\":1715966046,\"previous_token\":\"$2a$10$u6rumJ6w/AaXNDSgM46EKunDC2rQMv9FRqhabeBtL7H0euo6cx/FS\",\"last_token\":\"$2a$10$.zyv3j/8KH0AVd3uvi0/veQMddJVUtT./VRZ6843z/C6q1jXjPZmS\",\"updated_at\":\"2024-05-03T17:14:06Z\"},\"r_E3Ql92fv2o_EGv5Ce5RA\":{\"token\":\"$2a$10$cx6CKRFTlHaLqIUVspwVXOTQqxCsh4NkeZa/2RgIWD5a056vKxABC\",\"expiry\":1716002556,\"previous_token\":\"$2a$10$ZZt80nV/huR6HJRaV7DHCOa4hgPITo6vRjSO5MHcA8T3Izl.nw9u6\",\"updated_at\":\"2024-05-04T03:22:36Z\"}}"], ["updated_at", "2024-05-04 03:22:36.842329"], ["id", 4]]
  [1m[35m (10.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 773ms (Views: 0.3ms | ActiveRecord: 24.1ms | Allocations: 19203)


Started GET "/auth/validate_token" for ::1 at 2024-05-04 12:22:36 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"mqWjmL_KbCefTM3Wq2xqEA\":{\"token\":\"$2a$10$jf3nN5sFcT6PoiJ.O.7jGe4SwkXO2gJcRZIVQCIMSBFbL3PhYEIeS\",\"expiry\":1715964568,\"previous_token\":\"$2a$10$ATkkOCP3UntBjWmhiLn3puYnAmv4aJ5Hj8VS3V9n04ZmnOU3xo5ym\",\"last_token\":\"$2a$10$4pzQcCCVwey1/wNI39151.0/xHCMr4BiDMx.9FeMF5kjjJVnvOj/a\",\"updated_at\":\"2024-05-03T16:49:28Z\"},\"939Oi2190_dP-atn8xRD6Q\":{\"token\":\"$2a$10$O2nXTwzXnVpNuQH6cEg6IOYFigkjWXzNUmzk/e/ov3Kvl/AOtup5q\",\"expiry\":1715965749,\"previous_token\":\"$2a$10$Sj5ZaOyeIZMmK.DnAPD2d.4jqu.vKeEbroB4.0Mgn0jFromOMbzNK\",\"last_token\":\"$2a$10$OLp8WuoctDBpWlgHpgV0fejfMCAgrxPIlvAebogmLqciPkkGmanQe\",\"updated_at\":\"2024-05-03T17:09:09Z\"},\"7d3XNGnN_TWQ9g3JzMnYyg\":{\"token\":\"$2a$10$x/x7dpuUThR3l80ENvXAk.0qChreui41CrOlOrFxHUi251zIfbsIW\",\"expiry\":1715966046,\"previous_token\":\"$2a$10$u6rumJ6w/AaXNDSgM46EKunDC2rQMv9FRqhabeBtL7H0euo6cx/FS\",\"last_token\":\"$2a$10$.zyv3j/8KH0AVd3uvi0/veQMddJVUtT./VRZ6843z/C6q1jXjPZmS\",\"updated_at\":\"2024-05-03T17:14:06Z\"},\"r_E3Ql92fv2o_EGv5Ce5RA\":{\"token\":\"$2a$10$cx6CKRFTlHaLqIUVspwVXOTQqxCsh4NkeZa/2RgIWD5a056vKxABC\",\"expiry\":1716002556,\"previous_token\":\"$2a$10$ZZt80nV/huR6HJRaV7DHCOa4hgPITo6vRjSO5MHcA8T3Izl.nw9u6\",\"updated_at\":\"2024-05-04T03:22:37Z\"}}"], ["updated_at", "2024-05-04 03:22:37.040422"], ["id", 4]]
  [1m[35m (9.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 157ms (Views: 0.3ms | ActiveRecord: 10.7ms | Allocations: 10292)


Started GET "/cable" for ::1 at 2024-05-04 12:22:37 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 12:22:37 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 12:22:37 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (1.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 9]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 10]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 11]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 12]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 13]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 14]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 15]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 16]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 17]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 18]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 108ms (Views: 1.2ms | ActiveRecord: 7.1ms | Allocations: 43795)


RoomChannel#receive({"message"=>"Hi!", "email"=>"test2@test.com"})
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test2@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mMessage Create (8.9ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 4], ["content", "Hi!"], ["created_at", "2024-05-04 03:22:44.083335"], ["updated_at", "2024-05-04 03:22:44.083335"]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (9.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>"Hi!", :name=>"test002", :created_at=>Sat, 04 May 2024 03:22:44 UTC +00:00}
RoomChannel transmitting {"message"=>"Hi!", "name"=>"test002", "created_at"=>"2024-05-04T03:22:44.083Z"} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-04 12:22:44 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.4ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 9]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 10]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 11]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 12]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 13]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 14]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 15]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 16]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 17]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 18]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 19]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"mqWjmL_KbCefTM3Wq2xqEA\":{\"token\":\"$2a$10$jf3nN5sFcT6PoiJ.O.7jGe4SwkXO2gJcRZIVQCIMSBFbL3PhYEIeS\",\"expiry\":1715964568,\"previous_token\":\"$2a$10$ATkkOCP3UntBjWmhiLn3puYnAmv4aJ5Hj8VS3V9n04ZmnOU3xo5ym\",\"last_token\":\"$2a$10$4pzQcCCVwey1/wNI39151.0/xHCMr4BiDMx.9FeMF5kjjJVnvOj/a\",\"updated_at\":\"2024-05-03T16:49:28Z\"},\"939Oi2190_dP-atn8xRD6Q\":{\"token\":\"$2a$10$O2nXTwzXnVpNuQH6cEg6IOYFigkjWXzNUmzk/e/ov3Kvl/AOtup5q\",\"expiry\":1715965749,\"previous_token\":\"$2a$10$Sj5ZaOyeIZMmK.DnAPD2d.4jqu.vKeEbroB4.0Mgn0jFromOMbzNK\",\"last_token\":\"$2a$10$OLp8WuoctDBpWlgHpgV0fejfMCAgrxPIlvAebogmLqciPkkGmanQe\",\"updated_at\":\"2024-05-03T17:09:09Z\"},\"7d3XNGnN_TWQ9g3JzMnYyg\":{\"token\":\"$2a$10$x/x7dpuUThR3l80ENvXAk.0qChreui41CrOlOrFxHUi251zIfbsIW\",\"expiry\":1715966046,\"previous_token\":\"$2a$10$u6rumJ6w/AaXNDSgM46EKunDC2rQMv9FRqhabeBtL7H0euo6cx/FS\",\"last_token\":\"$2a$10$.zyv3j/8KH0AVd3uvi0/veQMddJVUtT./VRZ6843z/C6q1jXjPZmS\",\"updated_at\":\"2024-05-03T17:14:06Z\"},\"r_E3Ql92fv2o_EGv5Ce5RA\":{\"token\":\"$2a$10$H6sQxSMSa/C6OUIV.7Auu.6Bip8VGgnGLKfrVV6KG5JbwLo7SZU.G\",\"expiry\":1716002564,\"previous_token\":\"$2a$10$cx6CKRFTlHaLqIUVspwVXOTQqxCsh4NkeZa/2RgIWD5a056vKxABC\",\"last_token\":\"$2a$10$ZZt80nV/huR6HJRaV7DHCOa4hgPITo6vRjSO5MHcA8T3Izl.nw9u6\",\"updated_at\":\"2024-05-04T03:22:44Z\"}}"], ["updated_at", "2024-05-04 03:22:44.381236"], ["id", 4]]
  [1m[35m (23.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 292ms (Views: 2.6ms | ActiveRecord: 30.6ms | Allocations: 37915)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 12:23:11 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-04 12:23:11 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"mqWjmL_KbCefTM3Wq2xqEA\":{\"token\":\"$2a$10$jf3nN5sFcT6PoiJ.O.7jGe4SwkXO2gJcRZIVQCIMSBFbL3PhYEIeS\",\"expiry\":1715964568,\"previous_token\":\"$2a$10$ATkkOCP3UntBjWmhiLn3puYnAmv4aJ5Hj8VS3V9n04ZmnOU3xo5ym\",\"last_token\":\"$2a$10$4pzQcCCVwey1/wNI39151.0/xHCMr4BiDMx.9FeMF5kjjJVnvOj/a\",\"updated_at\":\"2024-05-03T16:49:28Z\"},\"939Oi2190_dP-atn8xRD6Q\":{\"token\":\"$2a$10$O2nXTwzXnVpNuQH6cEg6IOYFigkjWXzNUmzk/e/ov3Kvl/AOtup5q\",\"expiry\":1715965749,\"previous_token\":\"$2a$10$Sj5ZaOyeIZMmK.DnAPD2d.4jqu.vKeEbroB4.0Mgn0jFromOMbzNK\",\"last_token\":\"$2a$10$OLp8WuoctDBpWlgHpgV0fejfMCAgrxPIlvAebogmLqciPkkGmanQe\",\"updated_at\":\"2024-05-03T17:09:09Z\"},\"7d3XNGnN_TWQ9g3JzMnYyg\":{\"token\":\"$2a$10$x/x7dpuUThR3l80ENvXAk.0qChreui41CrOlOrFxHUi251zIfbsIW\",\"expiry\":1715966046,\"previous_token\":\"$2a$10$u6rumJ6w/AaXNDSgM46EKunDC2rQMv9FRqhabeBtL7H0euo6cx/FS\",\"last_token\":\"$2a$10$.zyv3j/8KH0AVd3uvi0/veQMddJVUtT./VRZ6843z/C6q1jXjPZmS\",\"updated_at\":\"2024-05-03T17:14:06Z\"},\"r_E3Ql92fv2o_EGv5Ce5RA\":{\"token\":\"$2a$10$yG86VvxkO3N4JwVL/VXb7.qVbk7lLmgRhvib5393RkpoVZ8PplO46\",\"expiry\":1716002592,\"previous_token\":\"$2a$10$H6sQxSMSa/C6OUIV.7Auu.6Bip8VGgnGLKfrVV6KG5JbwLo7SZU.G\",\"last_token\":\"$2a$10$cx6CKRFTlHaLqIUVspwVXOTQqxCsh4NkeZa/2RgIWD5a056vKxABC\",\"updated_at\":\"2024-05-04T03:23:12Z\"}}"], ["updated_at", "2024-05-04 03:23:12.283392"], ["id", 4]]
  [1m[35m (22.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 370ms (Views: 0.3ms | ActiveRecord: 24.0ms | Allocations: 9774)


Started GET "/cable" for ::1 at 2024-05-04 12:23:12 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 12:23:12 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 12:23:12 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 9]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 10]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 11]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 12]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 13]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 14]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 15]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 16]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 17]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 18]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 19]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 424ms (Views: 1.6ms | ActiveRecord: 4.7ms | Allocations: 35569)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 12:23:34 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-04 12:23:35 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 206ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1365)


Started GET "/cable" for ::1 at 2024-05-04 12:23:35 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 12:23:35 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 12:23:35 +0900
Processing by MessagesController#index as HTML
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 173)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 12:23:40 +0900
RoomChannel stopped streaming from room_channel
Started POST "/auth/sign_in" for ::1 at 2024-05-04 12:23:50 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$SgGM7wX5eqNbfceEOWvluus/BI2qZ6KrDLtIsVOoXjKmcaixoSsBK\",\"expiry\":1716002630}}"], ["updated_at", "2024-05-04 03:23:50.979208"], ["id", 3]]
  [1m[35m (18.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"expiry\":1716002631,\"previous_token\":\"$2a$10$SgGM7wX5eqNbfceEOWvluus/BI2qZ6KrDLtIsVOoXjKmcaixoSsBK\",\"updated_at\":\"2024-05-04T03:23:51Z\"}}"], ["updated_at", "2024-05-04 03:23:51.126308"], ["id", 3]]
  [1m[35m (10.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 627ms (Views: 0.3ms | ActiveRecord: 30.7ms | Allocations: 19387)


Started GET "/auth/validate_token" for ::1 at 2024-05-04 12:23:51 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 100ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 7887)


Started GET "/cable" for ::1 at 2024-05-04 12:23:51 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 12:23:51 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 12:23:51 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 9]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 10]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 11]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 12]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 13]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 14]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 15]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 16]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 17]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 18]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 19]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 114ms (Views: 1.6ms | ActiveRecord: 4.7ms | Allocations: 35826)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 12:23:55 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-04 12:23:56 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"expiry\":1716002636,\"previous_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"last_token\":\"$2a$10$SgGM7wX5eqNbfceEOWvluus/BI2qZ6KrDLtIsVOoXjKmcaixoSsBK\",\"updated_at\":\"2024-05-04T03:23:56Z\"}}"], ["updated_at", "2024-05-04 03:23:56.266791"], ["id", 3]]
  [1m[35m (6.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 157ms (Views: 1.5ms | ActiveRecord: 8.7ms | Allocations: 9810)


Started GET "/cable" for ::1 at 2024-05-04 12:23:56 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 12:23:56 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 12:23:56 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 9]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 10]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 11]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 12]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 13]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 14]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 15]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 16]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 17]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 18]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 19]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 211ms (Views: 2.8ms | ActiveRecord: 4.5ms | Allocations: 36147)


Started POST "/messages/19/likes" for ::1 at 2024-05-04 12:24:43 +0900
Processing by LikesController#create as HTML
  Parameters: {"id"=>"19", "like"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mLike Create (0.7ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "message_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["message_id", 19], ["created_at", "2024-05-04 03:24:43.399802"], ["updated_at", "2024-05-04 03:24:43.399802"]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[35m (12.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:43Z\"}}"], ["updated_at", "2024-05-04 03:24:43.565688"], ["id", 3]]
  [1m[35m (12.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 409ms (Views: 0.4ms | ActiveRecord: 27.6ms | Allocations: 16994)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 12:24:45 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-04 12:24:45 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:45Z\"}}"], ["updated_at", "2024-05-04 03:24:45.900365"], ["id", 3]]
  [1m[35m (10.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 464ms (Views: 0.3ms | ActiveRecord: 11.7ms | Allocations: 10217)


Started GET "/cable" for ::1 at 2024-05-04 12:24:45 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 12:24:45 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 12:24:45 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 9]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 10]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 11]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.4ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 12]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 13]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 14]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 15]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 16]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 17]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 18]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 19]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:46Z\"}}"], ["updated_at", "2024-05-04 03:24:46.451507"], ["id", 3]]
  [1m[35m (11.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 515ms (Views: 3.8ms | ActiveRecord: 17.9ms | Allocations: 39550)


Started POST "/messages/18/likes" for ::1 at 2024-05-04 12:24:50 +0900
Processing by LikesController#create as HTML
  Parameters: {"id"=>"18", "like"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mLike Create (0.4ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "message_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["message_id", 18], ["created_at", "2024-05-04 03:24:50.871633"], ["updated_at", "2024-05-04 03:24:50.871633"]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[35m (12.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:50Z\"}}"], ["updated_at", "2024-05-04 03:24:50.901224"], ["id", 3]]
  [1m[35m (10.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 468ms (Views: 0.3ms | ActiveRecord: 24.7ms | Allocations: 16402)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 12:24:52 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-04 12:24:52 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"YDv15emVGMk1b6DrwYy6ig\":{\"token\":\"$2a$10$LMwPGPjwHsKofZ75/CkUPOzsbC.4285cR0wGwMbuKgNqweX0aQZQ2\",\"expiry\":1715948015,\"previous_token\":\"$2a$10$jbHbyB99ua0XFJFln0cDDerY8zET0ji7U6R.X/RtFE6ZDae5HoZIi\",\"updated_at\":\"2024-05-03T12:13:35Z\"},\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"}}"], ["updated_at", "2024-05-04 03:24:53.056771"], ["id", 3]]
  [1m[35m (15.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 489ms (Views: 0.5ms | ActiveRecord: 17.3ms | Allocations: 10227)


Started GET "/cable" for ::1 at 2024-05-04 12:24:53 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 12:24:53 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 12:24:53 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 9]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 10]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 11]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 12]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 13]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 14]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 15]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 16]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 17]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 18]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 19]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 449ms (Views: 2.0ms | ActiveRecord: 4.3ms | Allocations: 37587)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 12:25:32 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-04 12:25:32 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 413ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 1426)


Started GET "/cable" for ::1 at 2024-05-04 12:25:33 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 12:25:33 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 12:25:33 +0900
Processing by MessagesController#index as HTML
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 163)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-04 12:25:35 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 20ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 1395)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-04 12:25:36 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 184)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-04 12:25:37 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 184)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-04 12:25:37 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms | Allocations: 184)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-04 12:25:38 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 184)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-04 12:25:38 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 184)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-04 12:25:38 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 184)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-04 12:25:38 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 184)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-04 12:25:39 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 184)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-04 12:25:39 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 184)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-04 12:25:39 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 184)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 12:25:44 +0900
RoomChannel stopped streaming from room_channel
Started POST "/auth/sign_in" for ::1 at 2024-05-04 12:25:56 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test2@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test2@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test2@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"mqWjmL_KbCefTM3Wq2xqEA\":{\"token\":\"$2a$10$jf3nN5sFcT6PoiJ.O.7jGe4SwkXO2gJcRZIVQCIMSBFbL3PhYEIeS\",\"expiry\":1715964568,\"previous_token\":\"$2a$10$ATkkOCP3UntBjWmhiLn3puYnAmv4aJ5Hj8VS3V9n04ZmnOU3xo5ym\",\"last_token\":\"$2a$10$4pzQcCCVwey1/wNI39151.0/xHCMr4BiDMx.9FeMF5kjjJVnvOj/a\",\"updated_at\":\"2024-05-03T16:49:28Z\"},\"939Oi2190_dP-atn8xRD6Q\":{\"token\":\"$2a$10$O2nXTwzXnVpNuQH6cEg6IOYFigkjWXzNUmzk/e/ov3Kvl/AOtup5q\",\"expiry\":1715965749,\"previous_token\":\"$2a$10$Sj5ZaOyeIZMmK.DnAPD2d.4jqu.vKeEbroB4.0Mgn0jFromOMbzNK\",\"last_token\":\"$2a$10$OLp8WuoctDBpWlgHpgV0fejfMCAgrxPIlvAebogmLqciPkkGmanQe\",\"updated_at\":\"2024-05-03T17:09:09Z\"},\"7d3XNGnN_TWQ9g3JzMnYyg\":{\"token\":\"$2a$10$x/x7dpuUThR3l80ENvXAk.0qChreui41CrOlOrFxHUi251zIfbsIW\",\"expiry\":1715966046,\"previous_token\":\"$2a$10$u6rumJ6w/AaXNDSgM46EKunDC2rQMv9FRqhabeBtL7H0euo6cx/FS\",\"last_token\":\"$2a$10$.zyv3j/8KH0AVd3uvi0/veQMddJVUtT./VRZ6843z/C6q1jXjPZmS\",\"updated_at\":\"2024-05-03T17:14:06Z\"},\"r_E3Ql92fv2o_EGv5Ce5RA\":{\"token\":\"$2a$10$yG86VvxkO3N4JwVL/VXb7.qVbk7lLmgRhvib5393RkpoVZ8PplO46\",\"expiry\":1716002592,\"previous_token\":\"$2a$10$H6sQxSMSa/C6OUIV.7Auu.6Bip8VGgnGLKfrVV6KG5JbwLo7SZU.G\",\"last_token\":\"$2a$10$cx6CKRFTlHaLqIUVspwVXOTQqxCsh4NkeZa/2RgIWD5a056vKxABC\",\"updated_at\":\"2024-05-04T03:23:12Z\"},\"9sf66YT664bGYhZvEXJpYg\":{\"token\":\"$2a$10$j2J0aJ26HJ9q4sXixdU4Nea.xhbYD85tIHugfDNQNKtsGaWl5nZA.\",\"expiry\":1716002756}}"], ["updated_at", "2024-05-04 03:25:56.673327"], ["id", 4]]
  [1m[35m (10.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"mqWjmL_KbCefTM3Wq2xqEA\":{\"token\":\"$2a$10$jf3nN5sFcT6PoiJ.O.7jGe4SwkXO2gJcRZIVQCIMSBFbL3PhYEIeS\",\"expiry\":1715964568,\"previous_token\":\"$2a$10$ATkkOCP3UntBjWmhiLn3puYnAmv4aJ5Hj8VS3V9n04ZmnOU3xo5ym\",\"last_token\":\"$2a$10$4pzQcCCVwey1/wNI39151.0/xHCMr4BiDMx.9FeMF5kjjJVnvOj/a\",\"updated_at\":\"2024-05-03T16:49:28Z\"},\"939Oi2190_dP-atn8xRD6Q\":{\"token\":\"$2a$10$O2nXTwzXnVpNuQH6cEg6IOYFigkjWXzNUmzk/e/ov3Kvl/AOtup5q\",\"expiry\":1715965749,\"previous_token\":\"$2a$10$Sj5ZaOyeIZMmK.DnAPD2d.4jqu.vKeEbroB4.0Mgn0jFromOMbzNK\",\"last_token\":\"$2a$10$OLp8WuoctDBpWlgHpgV0fejfMCAgrxPIlvAebogmLqciPkkGmanQe\",\"updated_at\":\"2024-05-03T17:09:09Z\"},\"7d3XNGnN_TWQ9g3JzMnYyg\":{\"token\":\"$2a$10$x/x7dpuUThR3l80ENvXAk.0qChreui41CrOlOrFxHUi251zIfbsIW\",\"expiry\":1715966046,\"previous_token\":\"$2a$10$u6rumJ6w/AaXNDSgM46EKunDC2rQMv9FRqhabeBtL7H0euo6cx/FS\",\"last_token\":\"$2a$10$.zyv3j/8KH0AVd3uvi0/veQMddJVUtT./VRZ6843z/C6q1jXjPZmS\",\"updated_at\":\"2024-05-03T17:14:06Z\"},\"r_E3Ql92fv2o_EGv5Ce5RA\":{\"token\":\"$2a$10$yG86VvxkO3N4JwVL/VXb7.qVbk7lLmgRhvib5393RkpoVZ8PplO46\",\"expiry\":1716002592,\"previous_token\":\"$2a$10$H6sQxSMSa/C6OUIV.7Auu.6Bip8VGgnGLKfrVV6KG5JbwLo7SZU.G\",\"last_token\":\"$2a$10$cx6CKRFTlHaLqIUVspwVXOTQqxCsh4NkeZa/2RgIWD5a056vKxABC\",\"updated_at\":\"2024-05-04T03:23:12Z\"},\"9sf66YT664bGYhZvEXJpYg\":{\"token\":\"$2a$10$2Ak7GDL8hk2ehH4r/fs8fOPdsOAeEYYn4ZZ/fMsqvc6j0mqqaxfEq\",\"expiry\":1716002756,\"previous_token\":\"$2a$10$j2J0aJ26HJ9q4sXixdU4Nea.xhbYD85tIHugfDNQNKtsGaWl5nZA.\",\"updated_at\":\"2024-05-04T03:25:56Z\"}}"], ["updated_at", "2024-05-04 03:25:56.790378"], ["id", 4]]
  [1m[35m (9.7ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 557ms (Views: 0.2ms | ActiveRecord: 22.1ms | Allocations: 18388)


Started GET "/auth/validate_token" for ::1 at 2024-05-04 12:25:56 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 99ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 7560)


Started GET "/cable" for ::1 at 2024-05-04 12:25:56 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 12:25:56 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 12:25:56 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 9]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 10]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 11]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 12]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 13]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 14]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 15]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 16]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 17]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 18]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 19]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"mqWjmL_KbCefTM3Wq2xqEA\":{\"token\":\"$2a$10$jf3nN5sFcT6PoiJ.O.7jGe4SwkXO2gJcRZIVQCIMSBFbL3PhYEIeS\",\"expiry\":1715964568,\"previous_token\":\"$2a$10$ATkkOCP3UntBjWmhiLn3puYnAmv4aJ5Hj8VS3V9n04ZmnOU3xo5ym\",\"last_token\":\"$2a$10$4pzQcCCVwey1/wNI39151.0/xHCMr4BiDMx.9FeMF5kjjJVnvOj/a\",\"updated_at\":\"2024-05-03T16:49:28Z\"},\"939Oi2190_dP-atn8xRD6Q\":{\"token\":\"$2a$10$O2nXTwzXnVpNuQH6cEg6IOYFigkjWXzNUmzk/e/ov3Kvl/AOtup5q\",\"expiry\":1715965749,\"previous_token\":\"$2a$10$Sj5ZaOyeIZMmK.DnAPD2d.4jqu.vKeEbroB4.0Mgn0jFromOMbzNK\",\"last_token\":\"$2a$10$OLp8WuoctDBpWlgHpgV0fejfMCAgrxPIlvAebogmLqciPkkGmanQe\",\"updated_at\":\"2024-05-03T17:09:09Z\"},\"7d3XNGnN_TWQ9g3JzMnYyg\":{\"token\":\"$2a$10$x/x7dpuUThR3l80ENvXAk.0qChreui41CrOlOrFxHUi251zIfbsIW\",\"expiry\":1715966046,\"previous_token\":\"$2a$10$u6rumJ6w/AaXNDSgM46EKunDC2rQMv9FRqhabeBtL7H0euo6cx/FS\",\"last_token\":\"$2a$10$.zyv3j/8KH0AVd3uvi0/veQMddJVUtT./VRZ6843z/C6q1jXjPZmS\",\"updated_at\":\"2024-05-03T17:14:06Z\"},\"r_E3Ql92fv2o_EGv5Ce5RA\":{\"token\":\"$2a$10$yG86VvxkO3N4JwVL/VXb7.qVbk7lLmgRhvib5393RkpoVZ8PplO46\",\"expiry\":1716002592,\"previous_token\":\"$2a$10$H6sQxSMSa/C6OUIV.7Auu.6Bip8VGgnGLKfrVV6KG5JbwLo7SZU.G\",\"last_token\":\"$2a$10$cx6CKRFTlHaLqIUVspwVXOTQqxCsh4NkeZa/2RgIWD5a056vKxABC\",\"updated_at\":\"2024-05-04T03:23:12Z\"},\"9sf66YT664bGYhZvEXJpYg\":{\"token\":\"$2a$10$2Ak7GDL8hk2ehH4r/fs8fOPdsOAeEYYn4ZZ/fMsqvc6j0mqqaxfEq\",\"expiry\":1716002756,\"previous_token\":\"$2a$10$j2J0aJ26HJ9q4sXixdU4Nea.xhbYD85tIHugfDNQNKtsGaWl5nZA.\",\"updated_at\":\"2024-05-04T03:25:57Z\"}}"], ["updated_at", "2024-05-04 03:25:57.096140"], ["id", 4]]
  [1m[35m (17.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 137ms (Views: 2.4ms | ActiveRecord: 22.3ms | Allocations: 39312)


Started POST "/messages/19/likes" for ::1 at 2024-05-04 12:26:00 +0900
Processing by LikesController#create as HTML
  Parameters: {"id"=>"19", "like"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mLike Create (1.1ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "message_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 4], ["message_id", 19], ["created_at", "2024-05-04 03:26:00.135408"], ["updated_at", "2024-05-04 03:26:00.135408"]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[35m (23.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"mqWjmL_KbCefTM3Wq2xqEA\":{\"token\":\"$2a$10$jf3nN5sFcT6PoiJ.O.7jGe4SwkXO2gJcRZIVQCIMSBFbL3PhYEIeS\",\"expiry\":1715964568,\"previous_token\":\"$2a$10$ATkkOCP3UntBjWmhiLn3puYnAmv4aJ5Hj8VS3V9n04ZmnOU3xo5ym\",\"last_token\":\"$2a$10$4pzQcCCVwey1/wNI39151.0/xHCMr4BiDMx.9FeMF5kjjJVnvOj/a\",\"updated_at\":\"2024-05-03T16:49:28Z\"},\"939Oi2190_dP-atn8xRD6Q\":{\"token\":\"$2a$10$O2nXTwzXnVpNuQH6cEg6IOYFigkjWXzNUmzk/e/ov3Kvl/AOtup5q\",\"expiry\":1715965749,\"previous_token\":\"$2a$10$Sj5ZaOyeIZMmK.DnAPD2d.4jqu.vKeEbroB4.0Mgn0jFromOMbzNK\",\"last_token\":\"$2a$10$OLp8WuoctDBpWlgHpgV0fejfMCAgrxPIlvAebogmLqciPkkGmanQe\",\"updated_at\":\"2024-05-03T17:09:09Z\"},\"7d3XNGnN_TWQ9g3JzMnYyg\":{\"token\":\"$2a$10$x/x7dpuUThR3l80ENvXAk.0qChreui41CrOlOrFxHUi251zIfbsIW\",\"expiry\":1715966046,\"previous_token\":\"$2a$10$u6rumJ6w/AaXNDSgM46EKunDC2rQMv9FRqhabeBtL7H0euo6cx/FS\",\"last_token\":\"$2a$10$.zyv3j/8KH0AVd3uvi0/veQMddJVUtT./VRZ6843z/C6q1jXjPZmS\",\"updated_at\":\"2024-05-03T17:14:06Z\"},\"r_E3Ql92fv2o_EGv5Ce5RA\":{\"token\":\"$2a$10$yG86VvxkO3N4JwVL/VXb7.qVbk7lLmgRhvib5393RkpoVZ8PplO46\",\"expiry\":1716002592,\"previous_token\":\"$2a$10$H6sQxSMSa/C6OUIV.7Auu.6Bip8VGgnGLKfrVV6KG5JbwLo7SZU.G\",\"last_token\":\"$2a$10$cx6CKRFTlHaLqIUVspwVXOTQqxCsh4NkeZa/2RgIWD5a056vKxABC\",\"updated_at\":\"2024-05-04T03:23:12Z\"},\"9sf66YT664bGYhZvEXJpYg\":{\"token\":\"$2a$10$2Ak7GDL8hk2ehH4r/fs8fOPdsOAeEYYn4ZZ/fMsqvc6j0mqqaxfEq\",\"expiry\":1716002756,\"previous_token\":\"$2a$10$j2J0aJ26HJ9q4sXixdU4Nea.xhbYD85tIHugfDNQNKtsGaWl5nZA.\",\"updated_at\":\"2024-05-04T03:26:00Z\"}}"], ["updated_at", "2024-05-04 03:26:00.209205"], ["id", 4]]
  [1m[35m (11.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 128ms (Views: 0.7ms | ActiveRecord: 39.8ms | Allocations: 16212)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 12:26:01 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-04 12:26:02 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"mqWjmL_KbCefTM3Wq2xqEA\":{\"token\":\"$2a$10$jf3nN5sFcT6PoiJ.O.7jGe4SwkXO2gJcRZIVQCIMSBFbL3PhYEIeS\",\"expiry\":1715964568,\"previous_token\":\"$2a$10$ATkkOCP3UntBjWmhiLn3puYnAmv4aJ5Hj8VS3V9n04ZmnOU3xo5ym\",\"last_token\":\"$2a$10$4pzQcCCVwey1/wNI39151.0/xHCMr4BiDMx.9FeMF5kjjJVnvOj/a\",\"updated_at\":\"2024-05-03T16:49:28Z\"},\"939Oi2190_dP-atn8xRD6Q\":{\"token\":\"$2a$10$O2nXTwzXnVpNuQH6cEg6IOYFigkjWXzNUmzk/e/ov3Kvl/AOtup5q\",\"expiry\":1715965749,\"previous_token\":\"$2a$10$Sj5ZaOyeIZMmK.DnAPD2d.4jqu.vKeEbroB4.0Mgn0jFromOMbzNK\",\"last_token\":\"$2a$10$OLp8WuoctDBpWlgHpgV0fejfMCAgrxPIlvAebogmLqciPkkGmanQe\",\"updated_at\":\"2024-05-03T17:09:09Z\"},\"7d3XNGnN_TWQ9g3JzMnYyg\":{\"token\":\"$2a$10$x/x7dpuUThR3l80ENvXAk.0qChreui41CrOlOrFxHUi251zIfbsIW\",\"expiry\":1715966046,\"previous_token\":\"$2a$10$u6rumJ6w/AaXNDSgM46EKunDC2rQMv9FRqhabeBtL7H0euo6cx/FS\",\"last_token\":\"$2a$10$.zyv3j/8KH0AVd3uvi0/veQMddJVUtT./VRZ6843z/C6q1jXjPZmS\",\"updated_at\":\"2024-05-03T17:14:06Z\"},\"r_E3Ql92fv2o_EGv5Ce5RA\":{\"token\":\"$2a$10$yG86VvxkO3N4JwVL/VXb7.qVbk7lLmgRhvib5393RkpoVZ8PplO46\",\"expiry\":1716002592,\"previous_token\":\"$2a$10$H6sQxSMSa/C6OUIV.7Auu.6Bip8VGgnGLKfrVV6KG5JbwLo7SZU.G\",\"last_token\":\"$2a$10$cx6CKRFTlHaLqIUVspwVXOTQqxCsh4NkeZa/2RgIWD5a056vKxABC\",\"updated_at\":\"2024-05-04T03:23:12Z\"},\"9sf66YT664bGYhZvEXJpYg\":{\"token\":\"$2a$10$2Ak7GDL8hk2ehH4r/fs8fOPdsOAeEYYn4ZZ/fMsqvc6j0mqqaxfEq\",\"expiry\":1716002756,\"previous_token\":\"$2a$10$j2J0aJ26HJ9q4sXixdU4Nea.xhbYD85tIHugfDNQNKtsGaWl5nZA.\",\"updated_at\":\"2024-05-04T03:26:02Z\"}}"], ["updated_at", "2024-05-04 03:26:02.240370"], ["id", 4]]
  [1m[35m (10.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 46ms (Views: 0.4ms | ActiveRecord: 12.6ms | Allocations: 9714)


Started GET "/cable" for ::1 at 2024-05-04 12:26:02 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 12:26:02 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 12:26:02 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 9]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 10]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 11]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 12]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 13]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 14]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 15]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 16]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 17]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 18]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 19]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 128ms (Views: 2.8ms | ActiveRecord: 5.5ms | Allocations: 37814)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 12:29:35 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-04 12:29:36 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"mqWjmL_KbCefTM3Wq2xqEA\":{\"token\":\"$2a$10$jf3nN5sFcT6PoiJ.O.7jGe4SwkXO2gJcRZIVQCIMSBFbL3PhYEIeS\",\"expiry\":1715964568,\"previous_token\":\"$2a$10$ATkkOCP3UntBjWmhiLn3puYnAmv4aJ5Hj8VS3V9n04ZmnOU3xo5ym\",\"last_token\":\"$2a$10$4pzQcCCVwey1/wNI39151.0/xHCMr4BiDMx.9FeMF5kjjJVnvOj/a\",\"updated_at\":\"2024-05-03T16:49:28Z\"},\"939Oi2190_dP-atn8xRD6Q\":{\"token\":\"$2a$10$O2nXTwzXnVpNuQH6cEg6IOYFigkjWXzNUmzk/e/ov3Kvl/AOtup5q\",\"expiry\":1715965749,\"previous_token\":\"$2a$10$Sj5ZaOyeIZMmK.DnAPD2d.4jqu.vKeEbroB4.0Mgn0jFromOMbzNK\",\"last_token\":\"$2a$10$OLp8WuoctDBpWlgHpgV0fejfMCAgrxPIlvAebogmLqciPkkGmanQe\",\"updated_at\":\"2024-05-03T17:09:09Z\"},\"7d3XNGnN_TWQ9g3JzMnYyg\":{\"token\":\"$2a$10$x/x7dpuUThR3l80ENvXAk.0qChreui41CrOlOrFxHUi251zIfbsIW\",\"expiry\":1715966046,\"previous_token\":\"$2a$10$u6rumJ6w/AaXNDSgM46EKunDC2rQMv9FRqhabeBtL7H0euo6cx/FS\",\"last_token\":\"$2a$10$.zyv3j/8KH0AVd3uvi0/veQMddJVUtT./VRZ6843z/C6q1jXjPZmS\",\"updated_at\":\"2024-05-03T17:14:06Z\"},\"r_E3Ql92fv2o_EGv5Ce5RA\":{\"token\":\"$2a$10$yG86VvxkO3N4JwVL/VXb7.qVbk7lLmgRhvib5393RkpoVZ8PplO46\",\"expiry\":1716002592,\"previous_token\":\"$2a$10$H6sQxSMSa/C6OUIV.7Auu.6Bip8VGgnGLKfrVV6KG5JbwLo7SZU.G\",\"last_token\":\"$2a$10$cx6CKRFTlHaLqIUVspwVXOTQqxCsh4NkeZa/2RgIWD5a056vKxABC\",\"updated_at\":\"2024-05-04T03:23:12Z\"},\"9sf66YT664bGYhZvEXJpYg\":{\"token\":\"$2a$10$CbntrmLNM8LBf5aRwldgmePiWhyKwgYVJIq8CxToDfg.V9QAHjsfW\",\"expiry\":1716002976,\"previous_token\":\"$2a$10$2Ak7GDL8hk2ehH4r/fs8fOPdsOAeEYYn4ZZ/fMsqvc6j0mqqaxfEq\",\"last_token\":\"$2a$10$j2J0aJ26HJ9q4sXixdU4Nea.xhbYD85tIHugfDNQNKtsGaWl5nZA.\",\"updated_at\":\"2024-05-04T03:29:36Z\"}}"], ["updated_at", "2024-05-04 03:29:36.951533"], ["id", 4]]
  [1m[35m (106.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 272ms (Views: 0.5ms | ActiveRecord: 108.3ms | Allocations: 10121)


Started GET "/cable" for ::1 at 2024-05-04 12:29:37 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 12:29:37 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 12:29:37 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 9]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 10]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.4ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 11]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 12]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 13]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 14]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 15]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.4ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 16]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 17]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.4ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 18]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.8ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 19]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"mqWjmL_KbCefTM3Wq2xqEA\":{\"token\":\"$2a$10$jf3nN5sFcT6PoiJ.O.7jGe4SwkXO2gJcRZIVQCIMSBFbL3PhYEIeS\",\"expiry\":1715964568,\"previous_token\":\"$2a$10$ATkkOCP3UntBjWmhiLn3puYnAmv4aJ5Hj8VS3V9n04ZmnOU3xo5ym\",\"last_token\":\"$2a$10$4pzQcCCVwey1/wNI39151.0/xHCMr4BiDMx.9FeMF5kjjJVnvOj/a\",\"updated_at\":\"2024-05-03T16:49:28Z\"},\"939Oi2190_dP-atn8xRD6Q\":{\"token\":\"$2a$10$O2nXTwzXnVpNuQH6cEg6IOYFigkjWXzNUmzk/e/ov3Kvl/AOtup5q\",\"expiry\":1715965749,\"previous_token\":\"$2a$10$Sj5ZaOyeIZMmK.DnAPD2d.4jqu.vKeEbroB4.0Mgn0jFromOMbzNK\",\"last_token\":\"$2a$10$OLp8WuoctDBpWlgHpgV0fejfMCAgrxPIlvAebogmLqciPkkGmanQe\",\"updated_at\":\"2024-05-03T17:09:09Z\"},\"7d3XNGnN_TWQ9g3JzMnYyg\":{\"token\":\"$2a$10$x/x7dpuUThR3l80ENvXAk.0qChreui41CrOlOrFxHUi251zIfbsIW\",\"expiry\":1715966046,\"previous_token\":\"$2a$10$u6rumJ6w/AaXNDSgM46EKunDC2rQMv9FRqhabeBtL7H0euo6cx/FS\",\"last_token\":\"$2a$10$.zyv3j/8KH0AVd3uvi0/veQMddJVUtT./VRZ6843z/C6q1jXjPZmS\",\"updated_at\":\"2024-05-03T17:14:06Z\"},\"r_E3Ql92fv2o_EGv5Ce5RA\":{\"token\":\"$2a$10$yG86VvxkO3N4JwVL/VXb7.qVbk7lLmgRhvib5393RkpoVZ8PplO46\",\"expiry\":1716002592,\"previous_token\":\"$2a$10$H6sQxSMSa/C6OUIV.7Auu.6Bip8VGgnGLKfrVV6KG5JbwLo7SZU.G\",\"last_token\":\"$2a$10$cx6CKRFTlHaLqIUVspwVXOTQqxCsh4NkeZa/2RgIWD5a056vKxABC\",\"updated_at\":\"2024-05-04T03:23:12Z\"},\"9sf66YT664bGYhZvEXJpYg\":{\"token\":\"$2a$10$CbntrmLNM8LBf5aRwldgmePiWhyKwgYVJIq8CxToDfg.V9QAHjsfW\",\"expiry\":1716002976,\"previous_token\":\"$2a$10$2Ak7GDL8hk2ehH4r/fs8fOPdsOAeEYYn4ZZ/fMsqvc6j0mqqaxfEq\",\"last_token\":\"$2a$10$j2J0aJ26HJ9q4sXixdU4Nea.xhbYD85tIHugfDNQNKtsGaWl5nZA.\",\"updated_at\":\"2024-05-04T03:29:37Z\"}}"], ["updated_at", "2024-05-04 03:29:37.598967"], ["id", 4]]
  [1m[35m (13.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 469ms (Views: 4.5ms | ActiveRecord: 23.7ms | Allocations: 40757)


Unsubscribing from channel: {"channel":"RoomChannel"}
RoomChannel stopped streaming from room_channel
Started GET "/cable" for ::1 at 2024-05-04 12:32:00 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 12:32:00 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 12:32:00 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 9]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 10]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 11]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 12]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 13]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 14]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 15]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 16]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 17]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 18]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 19]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"mqWjmL_KbCefTM3Wq2xqEA\":{\"token\":\"$2a$10$jf3nN5sFcT6PoiJ.O.7jGe4SwkXO2gJcRZIVQCIMSBFbL3PhYEIeS\",\"expiry\":1715964568,\"previous_token\":\"$2a$10$ATkkOCP3UntBjWmhiLn3puYnAmv4aJ5Hj8VS3V9n04ZmnOU3xo5ym\",\"last_token\":\"$2a$10$4pzQcCCVwey1/wNI39151.0/xHCMr4BiDMx.9FeMF5kjjJVnvOj/a\",\"updated_at\":\"2024-05-03T16:49:28Z\"},\"939Oi2190_dP-atn8xRD6Q\":{\"token\":\"$2a$10$O2nXTwzXnVpNuQH6cEg6IOYFigkjWXzNUmzk/e/ov3Kvl/AOtup5q\",\"expiry\":1715965749,\"previous_token\":\"$2a$10$Sj5ZaOyeIZMmK.DnAPD2d.4jqu.vKeEbroB4.0Mgn0jFromOMbzNK\",\"last_token\":\"$2a$10$OLp8WuoctDBpWlgHpgV0fejfMCAgrxPIlvAebogmLqciPkkGmanQe\",\"updated_at\":\"2024-05-03T17:09:09Z\"},\"7d3XNGnN_TWQ9g3JzMnYyg\":{\"token\":\"$2a$10$x/x7dpuUThR3l80ENvXAk.0qChreui41CrOlOrFxHUi251zIfbsIW\",\"expiry\":1715966046,\"previous_token\":\"$2a$10$u6rumJ6w/AaXNDSgM46EKunDC2rQMv9FRqhabeBtL7H0euo6cx/FS\",\"last_token\":\"$2a$10$.zyv3j/8KH0AVd3uvi0/veQMddJVUtT./VRZ6843z/C6q1jXjPZmS\",\"updated_at\":\"2024-05-03T17:14:06Z\"},\"r_E3Ql92fv2o_EGv5Ce5RA\":{\"token\":\"$2a$10$yG86VvxkO3N4JwVL/VXb7.qVbk7lLmgRhvib5393RkpoVZ8PplO46\",\"expiry\":1716002592,\"previous_token\":\"$2a$10$H6sQxSMSa/C6OUIV.7Auu.6Bip8VGgnGLKfrVV6KG5JbwLo7SZU.G\",\"last_token\":\"$2a$10$cx6CKRFTlHaLqIUVspwVXOTQqxCsh4NkeZa/2RgIWD5a056vKxABC\",\"updated_at\":\"2024-05-04T03:23:12Z\"},\"9sf66YT664bGYhZvEXJpYg\":{\"token\":\"$2a$10$bMR4w/RLtd0WWxWPtP.LP.qIkUdI0kYTURjg01MOUmjJOl3ANkGya\",\"expiry\":1716003121,\"previous_token\":\"$2a$10$CbntrmLNM8LBf5aRwldgmePiWhyKwgYVJIq8CxToDfg.V9QAHjsfW\",\"last_token\":\"$2a$10$2Ak7GDL8hk2ehH4r/fs8fOPdsOAeEYYn4ZZ/fMsqvc6j0mqqaxfEq\",\"updated_at\":\"2024-05-04T03:32:00Z\"}}"], ["updated_at", "2024-05-04 03:32:01.090407"], ["id", 4]]
  [1m[35m (11.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 442ms (Views: 2.3ms | ActiveRecord: 16.7ms | Allocations: 40100)


Started POST "/messages/19/likes" for ::1 at 2024-05-04 12:33:12 +0900
Processing by LikesController#create as HTML
  Parameters: {"id"=>"19", "like"=>{}}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 289ms (Views: 0.9ms | ActiveRecord: 1.6ms | Allocations: 1367)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 12:33:15 +0900
RoomChannel stopped streaming from room_channel
Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 12:33:15 +0900
Started GET "/auth/validate_token" for ::1 at 2024-05-04 12:33:15 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 190ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1373)


Started GET "/cable" for ::1 at 2024-05-04 12:33:15 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 12:33:15 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 12:33:15 +0900
Processing by MessagesController#index as HTML
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 163)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-04 12:33:16 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 184)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 12:33:20 +0900
RoomChannel stopped streaming from room_channel
Started POST "/auth/sign_in" for ::1 at 2024-05-04 12:33:28 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$KW4vRBsAl2xPncVyTx6jZ./JCvUUV5kfcCRVhFWlVSqwnT8cVaonK\",\"expiry\":1716003208}}"], ["updated_at", "2024-05-04 03:33:29.000853"], ["id", 3]]
  [1m[35m (8.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"expiry\":1716003209,\"previous_token\":\"$2a$10$KW4vRBsAl2xPncVyTx6jZ./JCvUUV5kfcCRVhFWlVSqwnT8cVaonK\",\"updated_at\":\"2024-05-04T03:33:29Z\"}}"], ["updated_at", "2024-05-04 03:33:29.154177"], ["id", 3]]
  [1m[35m (10.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 692ms (Views: 0.3ms | ActiveRecord: 22.7ms | Allocations: 19055)


Started GET "/auth/validate_token" for ::1 at 2024-05-04 12:33:29 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 149ms (Views: 0.4ms | ActiveRecord: 1.0ms | Allocations: 7890)


Started GET "/cable" for ::1 at 2024-05-04 12:33:29 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 12:33:29 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 12:33:29 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 9]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 10]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 11]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 12]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 13]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 14]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 15]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 16]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 17]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 18]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 19]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 146ms (Views: 3.2ms | ActiveRecord: 6.3ms | Allocations: 37851)


Started POST "/messages/18/likes" for ::1 at 2024-05-04 12:33:33 +0900
Processing by LikesController#create as HTML
  Parameters: {"id"=>"18", "like"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mLike Create (1.1ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "message_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["message_id", 18], ["created_at", "2024-05-04 03:33:33.575390"], ["updated_at", "2024-05-04 03:33:33.575390"]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[35m (15.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"expiry\":1716003209,\"previous_token\":\"$2a$10$KW4vRBsAl2xPncVyTx6jZ./JCvUUV5kfcCRVhFWlVSqwnT8cVaonK\",\"updated_at\":\"2024-05-04T03:33:33Z\"}}"], ["updated_at", "2024-05-04 03:33:33.624295"], ["id", 3]]
  [1m[35m (14.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 103ms (Views: 0.4ms | ActiveRecord: 33.6ms | Allocations: 17189)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-04 12:33:33 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.4ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.4ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 9]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 10]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 11]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 12]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 13]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 14]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 15]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 16]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 17]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.4ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 18]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 19]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 182ms (Views: 3.0ms | ActiveRecord: 8.3ms | Allocations: 38522)


Started POST "/messages/18/likes" for ::1 at 2024-05-04 12:33:35 +0900
Processing by LikesController#create as HTML
  Parameters: {"id"=>"18", "like"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mLike Create (1.0ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "message_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["message_id", 18], ["created_at", "2024-05-04 03:33:35.760932"], ["updated_at", "2024-05-04 03:33:35.760932"]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[35m (15.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.1ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"expiry\":1716003209,\"previous_token\":\"$2a$10$KW4vRBsAl2xPncVyTx6jZ./JCvUUV5kfcCRVhFWlVSqwnT8cVaonK\",\"updated_at\":\"2024-05-04T03:33:35Z\"}}"], ["updated_at", "2024-05-04 03:33:35.812883"], ["id", 3]]
  [1m[35m (13.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 113ms (Views: 0.5ms | ActiveRecord: 33.1ms | Allocations: 16273)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-04 12:33:35 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.4ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.7ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 9]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 10]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 11]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 12]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 13]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 14]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.4ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 15]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 16]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 17]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.9ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 18]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.4ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 19]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"expiry\":1716003209,\"previous_token\":\"$2a$10$KW4vRBsAl2xPncVyTx6jZ./JCvUUV5kfcCRVhFWlVSqwnT8cVaonK\",\"updated_at\":\"2024-05-04T03:33:36Z\"}}"], ["updated_at", "2024-05-04 03:33:36.131481"], ["id", 3]]
  [1m[35m (13.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 268ms (Views: 5.0ms | ActiveRecord: 24.9ms | Allocations: 42040)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 12:33:50 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-04 12:33:51 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"expiry\":1716003232,\"previous_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"last_token\":\"$2a$10$KW4vRBsAl2xPncVyTx6jZ./JCvUUV5kfcCRVhFWlVSqwnT8cVaonK\",\"updated_at\":\"2024-05-04T03:33:52Z\"}}"], ["updated_at", "2024-05-04 03:33:52.144577"], ["id", 3]]
  [1m[35m (10.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 181ms (Views: 0.4ms | ActiveRecord: 12.8ms | Allocations: 10248)


Started GET "/cable" for ::1 at 2024-05-04 12:33:52 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 12:33:52 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 12:33:52 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 9]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 10]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 11]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 12]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 13]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 14]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 15]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 16]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 17]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 18]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 19]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 313ms (Views: 1.6ms | ActiveRecord: 5.8ms | Allocations: 39649)


RoomChannel#receive({"message"=>"yy", "email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["content", "yy"], ["created_at", "2024-05-04 03:33:59.787037"], ["updated_at", "2024-05-04 03:33:59.787037"]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (10.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>"yy", :name=>"test001", :created_at=>Sat, 04 May 2024 03:33:59 UTC +00:00}
RoomChannel transmitting {"message"=>"yy", "name"=>"test001", "created_at"=>"2024-05-04T03:33:59.787Z"} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-04 12:33:59 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 9]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 10]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 11]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 12]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 13]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 14]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 15]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 16]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 17]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 18]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 19]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 20]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"JkfbHEFrdJFtlRSr070gPQ\":{\"token\":\"$2a$10$hIL6DvfsyVG5jS6MDIcEGOXEt3N5OAWQxapelTl99pgahO9q/aoj.\",\"expiry\":1715950549,\"previous_token\":\"$2a$10$3FpIrOyhpOEC57NK5J69P.IefWxA8.OOhx6QelCozYBgbfQrYeEwO\",\"last_token\":\"$2a$10$KS1sc1H3Xu0Vam2FM0tzH.YnyS52FyMDgr.De.4i8E30KjkdRc5mO\",\"updated_at\":\"2024-05-03T12:55:48Z\"},\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"}}"], ["updated_at", "2024-05-04 03:34:00.152573"], ["id", 3]]
  [1m[35m (17.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 360ms (Views: 1.5ms | ActiveRecord: 21.5ms | Allocations: 43550)


Started POST "/messages/20/likes" for ::1 at 2024-05-04 12:34:18 +0900
Processing by LikesController#create as HTML
  Parameters: {"id"=>"20", "like"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 246ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 1421)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 12:34:19 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-04 12:34:20 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 204ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 1427)


Started GET "/cable" for ::1 at 2024-05-04 12:34:20 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 12:34:20 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 12:34:20 +0900
Processing by MessagesController#index as HTML
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 163)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-04 12:34:22 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 184)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-04 12:34:23 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 184)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-04 12:34:23 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 184)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-04 12:34:24 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 184)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-04 12:34:24 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 184)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-04 12:34:24 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 184)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-04 12:34:24 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 184)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-04 12:34:24 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 184)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-04 12:34:25 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 184)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 12:34:47 +0900
RoomChannel stopped streaming from room_channel
Started POST "/auth/sign_in" for ::1 at 2024-05-04 12:34:56 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test2@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test2@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test2@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"mqWjmL_KbCefTM3Wq2xqEA\":{\"token\":\"$2a$10$jf3nN5sFcT6PoiJ.O.7jGe4SwkXO2gJcRZIVQCIMSBFbL3PhYEIeS\",\"expiry\":1715964568,\"previous_token\":\"$2a$10$ATkkOCP3UntBjWmhiLn3puYnAmv4aJ5Hj8VS3V9n04ZmnOU3xo5ym\",\"last_token\":\"$2a$10$4pzQcCCVwey1/wNI39151.0/xHCMr4BiDMx.9FeMF5kjjJVnvOj/a\",\"updated_at\":\"2024-05-03T16:49:28Z\"},\"939Oi2190_dP-atn8xRD6Q\":{\"token\":\"$2a$10$O2nXTwzXnVpNuQH6cEg6IOYFigkjWXzNUmzk/e/ov3Kvl/AOtup5q\",\"expiry\":1715965749,\"previous_token\":\"$2a$10$Sj5ZaOyeIZMmK.DnAPD2d.4jqu.vKeEbroB4.0Mgn0jFromOMbzNK\",\"last_token\":\"$2a$10$OLp8WuoctDBpWlgHpgV0fejfMCAgrxPIlvAebogmLqciPkkGmanQe\",\"updated_at\":\"2024-05-03T17:09:09Z\"},\"7d3XNGnN_TWQ9g3JzMnYyg\":{\"token\":\"$2a$10$x/x7dpuUThR3l80ENvXAk.0qChreui41CrOlOrFxHUi251zIfbsIW\",\"expiry\":1715966046,\"previous_token\":\"$2a$10$u6rumJ6w/AaXNDSgM46EKunDC2rQMv9FRqhabeBtL7H0euo6cx/FS\",\"last_token\":\"$2a$10$.zyv3j/8KH0AVd3uvi0/veQMddJVUtT./VRZ6843z/C6q1jXjPZmS\",\"updated_at\":\"2024-05-03T17:14:06Z\"},\"r_E3Ql92fv2o_EGv5Ce5RA\":{\"token\":\"$2a$10$yG86VvxkO3N4JwVL/VXb7.qVbk7lLmgRhvib5393RkpoVZ8PplO46\",\"expiry\":1716002592,\"previous_token\":\"$2a$10$H6sQxSMSa/C6OUIV.7Auu.6Bip8VGgnGLKfrVV6KG5JbwLo7SZU.G\",\"last_token\":\"$2a$10$cx6CKRFTlHaLqIUVspwVXOTQqxCsh4NkeZa/2RgIWD5a056vKxABC\",\"updated_at\":\"2024-05-04T03:23:12Z\"},\"9sf66YT664bGYhZvEXJpYg\":{\"token\":\"$2a$10$bMR4w/RLtd0WWxWPtP.LP.qIkUdI0kYTURjg01MOUmjJOl3ANkGya\",\"expiry\":1716003121,\"previous_token\":\"$2a$10$CbntrmLNM8LBf5aRwldgmePiWhyKwgYVJIq8CxToDfg.V9QAHjsfW\",\"last_token\":\"$2a$10$2Ak7GDL8hk2ehH4r/fs8fOPdsOAeEYYn4ZZ/fMsqvc6j0mqqaxfEq\",\"updated_at\":\"2024-05-04T03:32:00Z\"},\"JzPTD-aUmXdRRsKESnlQJg\":{\"token\":\"$2a$10$KyN3MWSEzEC.91zkL2IkzO5Y53J/0TnK/bcsK3/a4irc7JvDe3GZG\",\"expiry\":1716003297}}"], ["updated_at", "2024-05-04 03:34:57.381111"], ["id", 4]]
  [1m[35m (14.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"mqWjmL_KbCefTM3Wq2xqEA\":{\"token\":\"$2a$10$jf3nN5sFcT6PoiJ.O.7jGe4SwkXO2gJcRZIVQCIMSBFbL3PhYEIeS\",\"expiry\":1715964568,\"previous_token\":\"$2a$10$ATkkOCP3UntBjWmhiLn3puYnAmv4aJ5Hj8VS3V9n04ZmnOU3xo5ym\",\"last_token\":\"$2a$10$4pzQcCCVwey1/wNI39151.0/xHCMr4BiDMx.9FeMF5kjjJVnvOj/a\",\"updated_at\":\"2024-05-03T16:49:28Z\"},\"939Oi2190_dP-atn8xRD6Q\":{\"token\":\"$2a$10$O2nXTwzXnVpNuQH6cEg6IOYFigkjWXzNUmzk/e/ov3Kvl/AOtup5q\",\"expiry\":1715965749,\"previous_token\":\"$2a$10$Sj5ZaOyeIZMmK.DnAPD2d.4jqu.vKeEbroB4.0Mgn0jFromOMbzNK\",\"last_token\":\"$2a$10$OLp8WuoctDBpWlgHpgV0fejfMCAgrxPIlvAebogmLqciPkkGmanQe\",\"updated_at\":\"2024-05-03T17:09:09Z\"},\"7d3XNGnN_TWQ9g3JzMnYyg\":{\"token\":\"$2a$10$x/x7dpuUThR3l80ENvXAk.0qChreui41CrOlOrFxHUi251zIfbsIW\",\"expiry\":1715966046,\"previous_token\":\"$2a$10$u6rumJ6w/AaXNDSgM46EKunDC2rQMv9FRqhabeBtL7H0euo6cx/FS\",\"last_token\":\"$2a$10$.zyv3j/8KH0AVd3uvi0/veQMddJVUtT./VRZ6843z/C6q1jXjPZmS\",\"updated_at\":\"2024-05-03T17:14:06Z\"},\"r_E3Ql92fv2o_EGv5Ce5RA\":{\"token\":\"$2a$10$yG86VvxkO3N4JwVL/VXb7.qVbk7lLmgRhvib5393RkpoVZ8PplO46\",\"expiry\":1716002592,\"previous_token\":\"$2a$10$H6sQxSMSa/C6OUIV.7Auu.6Bip8VGgnGLKfrVV6KG5JbwLo7SZU.G\",\"last_token\":\"$2a$10$cx6CKRFTlHaLqIUVspwVXOTQqxCsh4NkeZa/2RgIWD5a056vKxABC\",\"updated_at\":\"2024-05-04T03:23:12Z\"},\"9sf66YT664bGYhZvEXJpYg\":{\"token\":\"$2a$10$bMR4w/RLtd0WWxWPtP.LP.qIkUdI0kYTURjg01MOUmjJOl3ANkGya\",\"expiry\":1716003121,\"previous_token\":\"$2a$10$CbntrmLNM8LBf5aRwldgmePiWhyKwgYVJIq8CxToDfg.V9QAHjsfW\",\"last_token\":\"$2a$10$2Ak7GDL8hk2ehH4r/fs8fOPdsOAeEYYn4ZZ/fMsqvc6j0mqqaxfEq\",\"updated_at\":\"2024-05-04T03:32:00Z\"},\"JzPTD-aUmXdRRsKESnlQJg\":{\"token\":\"$2a$10$xIrmB0QQtafthYhbMiTdMOm5wy922ZHvejPdRNw1nqJRX6kuL0aR.\",\"expiry\":1716003297,\"previous_token\":\"$2a$10$KyN3MWSEzEC.91zkL2IkzO5Y53J/0TnK/bcsK3/a4irc7JvDe3GZG\",\"updated_at\":\"2024-05-04T03:34:57Z\"}}"], ["updated_at", "2024-05-04 03:34:57.565712"], ["id", 4]]
  [1m[35m (12.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 689ms (Views: 0.4ms | ActiveRecord: 29.8ms | Allocations: 17814)


Started GET "/auth/validate_token" for ::1 at 2024-05-04 12:34:57 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 107ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 7627)


Started GET "/cable" for ::1 at 2024-05-04 12:34:57 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 12:34:57 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 12:34:57 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 9]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 10]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 11]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 12]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 13]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 14]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 15]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 16]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 17]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 18]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 19]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 20]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 103ms (Views: 1.6ms | ActiveRecord: 4.2ms | Allocations: 40356)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 12:35:26 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-04 12:35:26 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"mqWjmL_KbCefTM3Wq2xqEA\":{\"token\":\"$2a$10$jf3nN5sFcT6PoiJ.O.7jGe4SwkXO2gJcRZIVQCIMSBFbL3PhYEIeS\",\"expiry\":1715964568,\"previous_token\":\"$2a$10$ATkkOCP3UntBjWmhiLn3puYnAmv4aJ5Hj8VS3V9n04ZmnOU3xo5ym\",\"last_token\":\"$2a$10$4pzQcCCVwey1/wNI39151.0/xHCMr4BiDMx.9FeMF5kjjJVnvOj/a\",\"updated_at\":\"2024-05-03T16:49:28Z\"},\"939Oi2190_dP-atn8xRD6Q\":{\"token\":\"$2a$10$O2nXTwzXnVpNuQH6cEg6IOYFigkjWXzNUmzk/e/ov3Kvl/AOtup5q\",\"expiry\":1715965749,\"previous_token\":\"$2a$10$Sj5ZaOyeIZMmK.DnAPD2d.4jqu.vKeEbroB4.0Mgn0jFromOMbzNK\",\"last_token\":\"$2a$10$OLp8WuoctDBpWlgHpgV0fejfMCAgrxPIlvAebogmLqciPkkGmanQe\",\"updated_at\":\"2024-05-03T17:09:09Z\"},\"7d3XNGnN_TWQ9g3JzMnYyg\":{\"token\":\"$2a$10$x/x7dpuUThR3l80ENvXAk.0qChreui41CrOlOrFxHUi251zIfbsIW\",\"expiry\":1715966046,\"previous_token\":\"$2a$10$u6rumJ6w/AaXNDSgM46EKunDC2rQMv9FRqhabeBtL7H0euo6cx/FS\",\"last_token\":\"$2a$10$.zyv3j/8KH0AVd3uvi0/veQMddJVUtT./VRZ6843z/C6q1jXjPZmS\",\"updated_at\":\"2024-05-03T17:14:06Z\"},\"r_E3Ql92fv2o_EGv5Ce5RA\":{\"token\":\"$2a$10$yG86VvxkO3N4JwVL/VXb7.qVbk7lLmgRhvib5393RkpoVZ8PplO46\",\"expiry\":1716002592,\"previous_token\":\"$2a$10$H6sQxSMSa/C6OUIV.7Auu.6Bip8VGgnGLKfrVV6KG5JbwLo7SZU.G\",\"last_token\":\"$2a$10$cx6CKRFTlHaLqIUVspwVXOTQqxCsh4NkeZa/2RgIWD5a056vKxABC\",\"updated_at\":\"2024-05-04T03:23:12Z\"},\"9sf66YT664bGYhZvEXJpYg\":{\"token\":\"$2a$10$bMR4w/RLtd0WWxWPtP.LP.qIkUdI0kYTURjg01MOUmjJOl3ANkGya\",\"expiry\":1716003121,\"previous_token\":\"$2a$10$CbntrmLNM8LBf5aRwldgmePiWhyKwgYVJIq8CxToDfg.V9QAHjsfW\",\"last_token\":\"$2a$10$2Ak7GDL8hk2ehH4r/fs8fOPdsOAeEYYn4ZZ/fMsqvc6j0mqqaxfEq\",\"updated_at\":\"2024-05-04T03:32:00Z\"},\"JzPTD-aUmXdRRsKESnlQJg\":{\"token\":\"$2a$10$A5AWb78NUAvx8ZomEleuX./jWOWwBopPdScP5bTBCQpQRPGUBEjkm\",\"expiry\":1716003327,\"previous_token\":\"$2a$10$xIrmB0QQtafthYhbMiTdMOm5wy922ZHvejPdRNw1nqJRX6kuL0aR.\",\"last_token\":\"$2a$10$KyN3MWSEzEC.91zkL2IkzO5Y53J/0TnK/bcsK3/a4irc7JvDe3GZG\",\"updated_at\":\"2024-05-04T03:35:26Z\"}}"], ["updated_at", "2024-05-04 03:35:27.052268"], ["id", 4]]
  [1m[35m (18.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 152ms (Views: 0.6ms | ActiveRecord: 20.3ms | Allocations: 9888)


Started GET "/cable" for ::1 at 2024-05-04 12:35:27 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 12:35:27 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 12:35:27 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 9]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 10]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 11]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 12]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 13]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 14]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 15]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 16]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 17]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 18]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 19]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 20]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"mqWjmL_KbCefTM3Wq2xqEA\":{\"token\":\"$2a$10$jf3nN5sFcT6PoiJ.O.7jGe4SwkXO2gJcRZIVQCIMSBFbL3PhYEIeS\",\"expiry\":1715964568,\"previous_token\":\"$2a$10$ATkkOCP3UntBjWmhiLn3puYnAmv4aJ5Hj8VS3V9n04ZmnOU3xo5ym\",\"last_token\":\"$2a$10$4pzQcCCVwey1/wNI39151.0/xHCMr4BiDMx.9FeMF5kjjJVnvOj/a\",\"updated_at\":\"2024-05-03T16:49:28Z\"},\"939Oi2190_dP-atn8xRD6Q\":{\"token\":\"$2a$10$O2nXTwzXnVpNuQH6cEg6IOYFigkjWXzNUmzk/e/ov3Kvl/AOtup5q\",\"expiry\":1715965749,\"previous_token\":\"$2a$10$Sj5ZaOyeIZMmK.DnAPD2d.4jqu.vKeEbroB4.0Mgn0jFromOMbzNK\",\"last_token\":\"$2a$10$OLp8WuoctDBpWlgHpgV0fejfMCAgrxPIlvAebogmLqciPkkGmanQe\",\"updated_at\":\"2024-05-03T17:09:09Z\"},\"7d3XNGnN_TWQ9g3JzMnYyg\":{\"token\":\"$2a$10$x/x7dpuUThR3l80ENvXAk.0qChreui41CrOlOrFxHUi251zIfbsIW\",\"expiry\":1715966046,\"previous_token\":\"$2a$10$u6rumJ6w/AaXNDSgM46EKunDC2rQMv9FRqhabeBtL7H0euo6cx/FS\",\"last_token\":\"$2a$10$.zyv3j/8KH0AVd3uvi0/veQMddJVUtT./VRZ6843z/C6q1jXjPZmS\",\"updated_at\":\"2024-05-03T17:14:06Z\"},\"r_E3Ql92fv2o_EGv5Ce5RA\":{\"token\":\"$2a$10$yG86VvxkO3N4JwVL/VXb7.qVbk7lLmgRhvib5393RkpoVZ8PplO46\",\"expiry\":1716002592,\"previous_token\":\"$2a$10$H6sQxSMSa/C6OUIV.7Auu.6Bip8VGgnGLKfrVV6KG5JbwLo7SZU.G\",\"last_token\":\"$2a$10$cx6CKRFTlHaLqIUVspwVXOTQqxCsh4NkeZa/2RgIWD5a056vKxABC\",\"updated_at\":\"2024-05-04T03:23:12Z\"},\"9sf66YT664bGYhZvEXJpYg\":{\"token\":\"$2a$10$bMR4w/RLtd0WWxWPtP.LP.qIkUdI0kYTURjg01MOUmjJOl3ANkGya\",\"expiry\":1716003121,\"previous_token\":\"$2a$10$CbntrmLNM8LBf5aRwldgmePiWhyKwgYVJIq8CxToDfg.V9QAHjsfW\",\"last_token\":\"$2a$10$2Ak7GDL8hk2ehH4r/fs8fOPdsOAeEYYn4ZZ/fMsqvc6j0mqqaxfEq\",\"updated_at\":\"2024-05-04T03:32:00Z\"},\"JzPTD-aUmXdRRsKESnlQJg\":{\"token\":\"$2a$10$A5AWb78NUAvx8ZomEleuX./jWOWwBopPdScP5bTBCQpQRPGUBEjkm\",\"expiry\":1716003327,\"previous_token\":\"$2a$10$xIrmB0QQtafthYhbMiTdMOm5wy922ZHvejPdRNw1nqJRX6kuL0aR.\",\"last_token\":\"$2a$10$KyN3MWSEzEC.91zkL2IkzO5Y53J/0TnK/bcsK3/a4irc7JvDe3GZG\",\"updated_at\":\"2024-05-04T03:35:27Z\"}}"], ["updated_at", "2024-05-04 03:35:27.356788"], ["id", 4]]
  [1m[35m (17.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 263ms (Views: 2.9ms | ActiveRecord: 22.9ms | Allocations: 43161)


RoomChannel#receive({"message"=>"こんにちは", "email"=>"test2@test.com"})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test2@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 4], ["content", "こんにちは"], ["created_at", "2024-05-04 03:35:42.192920"], ["updated_at", "2024-05-04 03:35:42.192920"]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (9.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>"こんにちは", :name=>"test002", :created_at=>Sat, 04 May 2024 03:35:42 UTC +00:00}
RoomChannel transmitting {"message"=>"こんにちは", "name"=>"test002", "created_at"=>"2024-05-04T03:35:42.192Z"} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-04 12:35:42 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 2]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 3]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 4]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 5]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 6]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 7]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 8]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 9]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 10]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 11]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 12]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 13]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 14]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 15]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 16]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (1.7ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 17]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 18]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 19]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:15:in `block (2 levels) in index'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 20]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:9:in `block in index'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 21]]
  ↳ app/controllers/messages_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"mqWjmL_KbCefTM3Wq2xqEA\":{\"token\":\"$2a$10$jf3nN5sFcT6PoiJ.O.7jGe4SwkXO2gJcRZIVQCIMSBFbL3PhYEIeS\",\"expiry\":1715964568,\"previous_token\":\"$2a$10$ATkkOCP3UntBjWmhiLn3puYnAmv4aJ5Hj8VS3V9n04ZmnOU3xo5ym\",\"last_token\":\"$2a$10$4pzQcCCVwey1/wNI39151.0/xHCMr4BiDMx.9FeMF5kjjJVnvOj/a\",\"updated_at\":\"2024-05-03T16:49:28Z\"},\"939Oi2190_dP-atn8xRD6Q\":{\"token\":\"$2a$10$O2nXTwzXnVpNuQH6cEg6IOYFigkjWXzNUmzk/e/ov3Kvl/AOtup5q\",\"expiry\":1715965749,\"previous_token\":\"$2a$10$Sj5ZaOyeIZMmK.DnAPD2d.4jqu.vKeEbroB4.0Mgn0jFromOMbzNK\",\"last_token\":\"$2a$10$OLp8WuoctDBpWlgHpgV0fejfMCAgrxPIlvAebogmLqciPkkGmanQe\",\"updated_at\":\"2024-05-03T17:09:09Z\"},\"7d3XNGnN_TWQ9g3JzMnYyg\":{\"token\":\"$2a$10$x/x7dpuUThR3l80ENvXAk.0qChreui41CrOlOrFxHUi251zIfbsIW\",\"expiry\":1715966046,\"previous_token\":\"$2a$10$u6rumJ6w/AaXNDSgM46EKunDC2rQMv9FRqhabeBtL7H0euo6cx/FS\",\"last_token\":\"$2a$10$.zyv3j/8KH0AVd3uvi0/veQMddJVUtT./VRZ6843z/C6q1jXjPZmS\",\"updated_at\":\"2024-05-03T17:14:06Z\"},\"r_E3Ql92fv2o_EGv5Ce5RA\":{\"token\":\"$2a$10$yG86VvxkO3N4JwVL/VXb7.qVbk7lLmgRhvib5393RkpoVZ8PplO46\",\"expiry\":1716002592,\"previous_token\":\"$2a$10$H6sQxSMSa/C6OUIV.7Auu.6Bip8VGgnGLKfrVV6KG5JbwLo7SZU.G\",\"last_token\":\"$2a$10$cx6CKRFTlHaLqIUVspwVXOTQqxCsh4NkeZa/2RgIWD5a056vKxABC\",\"updated_at\":\"2024-05-04T03:23:12Z\"},\"9sf66YT664bGYhZvEXJpYg\":{\"token\":\"$2a$10$bMR4w/RLtd0WWxWPtP.LP.qIkUdI0kYTURjg01MOUmjJOl3ANkGya\",\"expiry\":1716003121,\"previous_token\":\"$2a$10$CbntrmLNM8LBf5aRwldgmePiWhyKwgYVJIq8CxToDfg.V9QAHjsfW\",\"last_token\":\"$2a$10$2Ak7GDL8hk2ehH4r/fs8fOPdsOAeEYYn4ZZ/fMsqvc6j0mqqaxfEq\",\"updated_at\":\"2024-05-04T03:32:00Z\"},\"JzPTD-aUmXdRRsKESnlQJg\":{\"token\":\"$2a$10$1SrzuL/JvvFqCxHzd1m4BOTA6FuHjKACkhdWuYiHFMy8UPgvAIl3e\",\"expiry\":1716003342,\"previous_token\":\"$2a$10$A5AWb78NUAvx8ZomEleuX./jWOWwBopPdScP5bTBCQpQRPGUBEjkm\",\"last_token\":\"$2a$10$xIrmB0QQtafthYhbMiTdMOm5wy922ZHvejPdRNw1nqJRX6kuL0aR.\",\"updated_at\":\"2024-05-04T03:35:42Z\"}}"], ["updated_at", "2024-05-04 03:35:42.634410"], ["id", 4]]
  [1m[35m (11.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 430ms (Views: 9.4ms | ActiveRecord: 19.3ms | Allocations: 44657)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 12:37:55 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-04 12:37:56 +0900
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test2@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 356ms (Views: 1.1ms | ActiveRecord: 2.4ms | Allocations: 6730)


Started GET "/cable" for ::1 at 2024-05-04 12:37:57 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 12:37:57 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 12:37:57 +0900
Processing by MessagesController#index as HTML
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 11ms (Views: 4.5ms | ActiveRecord: 0.0ms | Allocations: 207)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 12:38:02 +0900
RoomChannel stopped streaming from room_channel
Started POST "/auth/sign_in" for ::1 at 2024-05-04 12:38:25 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$otyATnXn5IkXw2BqnPXkD.t3lmYz975bFkNfdrNasTDLBgedGbSnW\",\"expiry\":1716003505}}"], ["updated_at", "2024-05-04 03:38:25.986230"], ["id", 3]]
  [1m[35m (19.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"expiry\":1716003506,\"previous_token\":\"$2a$10$otyATnXn5IkXw2BqnPXkD.t3lmYz975bFkNfdrNasTDLBgedGbSnW\",\"updated_at\":\"2024-05-04T03:38:26Z\"}}"], ["updated_at", "2024-05-04 03:38:26.155763"], ["id", 3]]
  [1m[35m (18.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 955ms (Views: 0.3ms | ActiveRecord: 40.7ms | Allocations: 19907)


Started GET "/auth/validate_token" for ::1 at 2024-05-04 12:38:26 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 114ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 7893)


Started GET "/cable" for ::1 at 2024-05-04 12:38:26 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 12:38:26 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 12:38:26 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 65ms (Views: 1.6ms | ActiveRecord: 2.8ms | Allocations: 21960)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 12:39:05 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-04 12:39:08 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"expiry\":1716003548,\"previous_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"last_token\":\"$2a$10$otyATnXn5IkXw2BqnPXkD.t3lmYz975bFkNfdrNasTDLBgedGbSnW\",\"updated_at\":\"2024-05-04T03:39:08Z\"}}"], ["updated_at", "2024-05-04 03:39:08.946536"], ["id", 3]]
  [1m[35m (13.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 166ms (Views: 0.7ms | ActiveRecord: 16.1ms | Allocations: 10500)


Started GET "/cable" for ::1 at 2024-05-04 12:39:09 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 12:39:09 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 12:39:09 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"expiry\":1716003548,\"previous_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"last_token\":\"$2a$10$otyATnXn5IkXw2BqnPXkD.t3lmYz975bFkNfdrNasTDLBgedGbSnW\",\"updated_at\":\"2024-05-04T03:39:09Z\"}}"], ["updated_at", "2024-05-04 03:39:09.259843"], ["id", 3]]
  [1m[35m (9.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 194ms (Views: 3.1ms | ActiveRecord: 12.8ms | Allocations: 15553)


RoomChannel#receive({"message"=>"aaaa", "email"=>"test@test.com"})
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["content", "aaaa"], ["created_at", "2024-05-04 03:39:13.600310"], ["updated_at", "2024-05-04 03:39:13.600310"]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (13.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>"aaaa", :name=>"test001", :created_at=>Sat, 04 May 2024 03:39:13 UTC +00:00}
RoomChannel transmitting {"message"=>"aaaa", "name"=>"test001", "created_at"=>"2024-05-04T03:39:13.600Z"} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-04 12:39:13 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"expiry\":1716003548,\"previous_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"last_token\":\"$2a$10$otyATnXn5IkXw2BqnPXkD.t3lmYz975bFkNfdrNasTDLBgedGbSnW\",\"updated_at\":\"2024-05-04T03:39:13Z\"}}"], ["updated_at", "2024-05-04 03:39:13.790478"], ["id", 3]]
  [1m[35m (12.3ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 182ms (Views: 2.4ms | ActiveRecord: 14.4ms | Allocations: 16077)


Started POST "/messages/22/likes" for ::1 at 2024-05-04 12:39:17 +0900
Processing by LikesController#create as HTML
  Parameters: {"id"=>"22", "like"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mLike Create (0.4ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "message_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["message_id", 22], ["created_at", "2024-05-04 03:39:17.260798"], ["updated_at", "2024-05-04 03:39:17.260798"]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[35m (14.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"expiry\":1716003548,\"previous_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"last_token\":\"$2a$10$otyATnXn5IkXw2BqnPXkD.t3lmYz975bFkNfdrNasTDLBgedGbSnW\",\"updated_at\":\"2024-05-04T03:39:17Z\"}}"], ["updated_at", "2024-05-04 03:39:17.291211"], ["id", 3]]
  [1m[35m (10.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 261ms (Views: 0.2ms | ActiveRecord: 26.9ms | Allocations: 16779)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-04 12:39:17 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 129ms (Views: 1.3ms | ActiveRecord: 1.1ms | Allocations: 13485)


Started POST "/messages/21/likes" for ::1 at 2024-05-04 12:39:24 +0900
Processing by LikesController#create as HTML
  Parameters: {"id"=>"21", "like"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mLike Create (0.4ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "message_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["message_id", 21], ["created_at", "2024-05-04 03:39:25.053304"], ["updated_at", "2024-05-04 03:39:25.053304"]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[35m (10.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"NMQ53Oh0vR0iSh2UP0Gsgg\":{\"token\":\"$2a$10$.t99Y.KOONmOyxEJFVCsBOu88iysVnLMShtcF429DpmANkkCs7S.G\",\"expiry\":1715951605,\"previous_token\":\"$2a$10$6ynHI5WTos9XzXVm5R8vNuqxKcJU4iMpgDzIfAE6yLzf8unhYA/oG\",\"last_token\":\"$2a$10$S4dWigGTTO.y7aqjphCTF.bh3SENCaymXSVT6SzRBZXFJNwQCq4ue\",\"updated_at\":\"2024-05-03T13:13:25Z\"},\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"}}"], ["updated_at", "2024-05-04 03:39:25.173879"], ["id", 3]]
  [1m[35m (9.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 245ms (Views: 0.2ms | ActiveRecord: 21.8ms | Allocations: 16691)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-04 12:39:25 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 400ms (Views: 2.2ms | ActiveRecord: 1.6ms | Allocations: 13533)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-04 12:53:12 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-04 12:53:13 +0900
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 287ms (Views: 0.7ms | ActiveRecord: 0.5ms | Allocations: 1472)


Started POST "/auth/sign_in" for ::1 at 2024-05-04 12:53:24 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$9ydFmAKcO/sikO6c5I0rSOJjCQNe.ZfcwEJzDcz12z.9KEZ14lfUi\",\"expiry\":1716004405}}"], ["updated_at", "2024-05-04 03:53:25.303768"], ["id", 3]]
  [1m[35m (10.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"expiry\":1716004405,\"previous_token\":\"$2a$10$9ydFmAKcO/sikO6c5I0rSOJjCQNe.ZfcwEJzDcz12z.9KEZ14lfUi\",\"updated_at\":\"2024-05-04T03:53:25Z\"}}"], ["updated_at", "2024-05-04 03:53:25.454597"], ["id", 3]]
  [1m[35m (11.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 711ms (Views: 0.3ms | ActiveRecord: 24.2ms | Allocations: 19172)


Started GET "/auth/validate_token" for ::1 at 2024-05-04 12:53:25 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 149ms (Views: 0.4ms | ActiveRecord: 1.1ms | Allocations: 7891)


Started GET "/cable" for ::1 at 2024-05-04 12:53:25 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-04 12:53:25 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-04 12:53:25 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 57ms (Views: 4.3ms | ActiveRecord: 2.2ms | Allocations: 13016)


Started DELETE "/likes/7" for ::1 at 2024-05-04 12:53:28 +0900
Processing by LikesController#destroy as HTML
  Parameters: {"id"=>"7"}
  [1m[36mLike Load (0.4ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:16:in `destroy'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/likes_controller.rb:18:in `destroy'
  [1m[36mLike Destroy (3.4ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = ?[0m  [["id", 7]]
  ↳ app/controllers/likes_controller.rb:18:in `destroy'
  [1m[35m (14.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/likes_controller.rb:18:in `destroy'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:19:in `destroy'
Completed 200 OK in 47ms (Views: 0.6ms | ActiveRecord: 19.1ms | Allocations: 5240)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-04 12:53:29 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (3.2ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"expiry\":1716004405,\"previous_token\":\"$2a$10$9ydFmAKcO/sikO6c5I0rSOJjCQNe.ZfcwEJzDcz12z.9KEZ14lfUi\",\"updated_at\":\"2024-05-04T03:53:29Z\"}}"], ["updated_at", "2024-05-04 03:53:29.077649"], ["id", 3]]
  [1m[35m (7.7ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 49ms (Views: 3.2ms | ActiveRecord: 12.3ms | Allocations: 15775)


Started DELETE "/likes/8" for ::1 at 2024-05-04 12:53:31 +0900
Processing by LikesController#destroy as HTML
  Parameters: {"id"=>"8"}
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:16:in `destroy'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/likes_controller.rb:18:in `destroy'
  [1m[36mLike Destroy (0.5ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = ?[0m  [["id", 8]]
  ↳ app/controllers/likes_controller.rb:18:in `destroy'
  [1m[35m (10.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/likes_controller.rb:18:in `destroy'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:19:in `destroy'
Completed 200 OK in 23ms (Views: 0.2ms | ActiveRecord: 10.9ms | Allocations: 5091)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-04 12:53:31 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"expiry\":1716004405,\"previous_token\":\"$2a$10$9ydFmAKcO/sikO6c5I0rSOJjCQNe.ZfcwEJzDcz12z.9KEZ14lfUi\",\"updated_at\":\"2024-05-04T03:53:31Z\"}}"], ["updated_at", "2024-05-04 03:53:31.726625"], ["id", 3]]
  [1m[35m (14.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 79ms (Views: 4.0ms | ActiveRecord: 17.7ms | Allocations: 15697)


Started DELETE "/likes/2" for ::1 at 2024-05-04 12:53:33 +0900
Processing by LikesController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:16:in `destroy'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/likes_controller.rb:18:in `destroy'
  [1m[36mLike Destroy (0.3ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/likes_controller.rb:18:in `destroy'
  [1m[35m (11.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/likes_controller.rb:18:in `destroy'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:19:in `destroy'
Completed 200 OK in 24ms (Views: 0.2ms | ActiveRecord: 12.6ms | Allocations: 5092)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-04 12:53:33 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"expiry\":1716004405,\"previous_token\":\"$2a$10$9ydFmAKcO/sikO6c5I0rSOJjCQNe.ZfcwEJzDcz12z.9KEZ14lfUi\",\"updated_at\":\"2024-05-04T03:53:33Z\"}}"], ["updated_at", "2024-05-04 03:53:33.918752"], ["id", 3]]
  [1m[35m (12.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 66ms (Views: 3.1ms | ActiveRecord: 14.6ms | Allocations: 16578)


Started DELETE "/likes/3" for ::1 at 2024-05-04 12:53:36 +0900
Processing by LikesController#destroy as HTML
  Parameters: {"id"=>"3"}
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:16:in `destroy'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/likes_controller.rb:18:in `destroy'
  [1m[36mLike Destroy (0.3ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = ?[0m  [["id", 3]]
  ↳ app/controllers/likes_controller.rb:18:in `destroy'
  [1m[35m (12.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/likes_controller.rb:18:in `destroy'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:19:in `destroy'
Completed 200 OK in 29ms (Views: 0.2ms | ActiveRecord: 12.8ms | Allocations: 5092)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-04 12:53:36 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"expiry\":1716004405,\"previous_token\":\"$2a$10$9ydFmAKcO/sikO6c5I0rSOJjCQNe.ZfcwEJzDcz12z.9KEZ14lfUi\",\"updated_at\":\"2024-05-04T03:53:36Z\"}}"], ["updated_at", "2024-05-04 03:53:36.286603"], ["id", 3]]
  [1m[35m (11.7ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 46ms (Views: 2.3ms | ActiveRecord: 13.9ms | Allocations: 15226)


Started DELETE "/likes/5" for ::1 at 2024-05-04 12:53:37 +0900
Processing by LikesController#destroy as HTML
  Parameters: {"id"=>"5"}
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:16:in `destroy'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/likes_controller.rb:18:in `destroy'
  [1m[36mLike Destroy (0.4ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = ?[0m  [["id", 5]]
  ↳ app/controllers/likes_controller.rb:18:in `destroy'
  [1m[35m (9.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/likes_controller.rb:18:in `destroy'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:19:in `destroy'
Completed 200 OK in 22ms (Views: 0.3ms | ActiveRecord: 10.5ms | Allocations: 5091)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-04 12:53:37 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"expiry\":1716004405,\"previous_token\":\"$2a$10$9ydFmAKcO/sikO6c5I0rSOJjCQNe.ZfcwEJzDcz12z.9KEZ14lfUi\",\"updated_at\":\"2024-05-04T03:53:37Z\"}}"], ["updated_at", "2024-05-04 03:53:37.120812"], ["id", 3]]
  [1m[35m (9.7ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 36ms (Views: 1.4ms | ActiveRecord: 11.5ms | Allocations: 15166)


Started DELETE "/likes/6" for ::1 at 2024-05-04 12:53:38 +0900
Processing by LikesController#destroy as HTML
  Parameters: {"id"=>"6"}
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:16:in `destroy'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/likes_controller.rb:18:in `destroy'
  [1m[36mLike Destroy (0.4ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = ?[0m  [["id", 6]]
  ↳ app/controllers/likes_controller.rb:18:in `destroy'
  [1m[35m (8.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/likes_controller.rb:18:in `destroy'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:19:in `destroy'
Completed 200 OK in 21ms (Views: 0.2ms | ActiveRecord: 9.5ms | Allocations: 5092)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-04 12:53:38 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"expiry\":1716004405,\"previous_token\":\"$2a$10$9ydFmAKcO/sikO6c5I0rSOJjCQNe.ZfcwEJzDcz12z.9KEZ14lfUi\",\"updated_at\":\"2024-05-04T03:53:38Z\"}}"], ["updated_at", "2024-05-04 03:53:38.138795"], ["id", 3]]
  [1m[35m (11.3ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 47ms (Views: 2.4ms | ActiveRecord: 13.0ms | Allocations: 15066)


Started POST "/messages/19/likes" for ::1 at 2024-05-04 12:53:39 +0900
Processing by LikesController#create as HTML
  Parameters: {"id"=>"19", "like"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mLike Create (1.0ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "message_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["message_id", 19], ["created_at", "2024-05-04 03:53:39.563759"], ["updated_at", "2024-05-04 03:53:39.563759"]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[35m (11.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"expiry\":1716004405,\"previous_token\":\"$2a$10$9ydFmAKcO/sikO6c5I0rSOJjCQNe.ZfcwEJzDcz12z.9KEZ14lfUi\",\"updated_at\":\"2024-05-04T03:53:39Z\"}}"], ["updated_at", "2024-05-04 03:53:39.600639"], ["id", 3]]
  [1m[35m (10.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 66ms (Views: 0.2ms | ActiveRecord: 24.8ms | Allocations: 16307)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-04 12:53:39 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 30ms (Views: 2.2ms | ActiveRecord: 1.8ms | Allocations: 12675)


Started DELETE "/likes/9" for ::1 at 2024-05-04 12:53:41 +0900
Processing by LikesController#destroy as HTML
  Parameters: {"id"=>"9"}
  [1m[36mLike Load (0.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:16:in `destroy'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/likes_controller.rb:18:in `destroy'
  [1m[36mLike Destroy (0.4ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = ?[0m  [["id", 9]]
  ↳ app/controllers/likes_controller.rb:18:in `destroy'
  [1m[35m (11.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/likes_controller.rb:18:in `destroy'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:19:in `destroy'
Completed 200 OK in 24ms (Views: 0.2ms | ActiveRecord: 12.5ms | Allocations: 5091)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-04 12:53:41 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"expiry\":1716004405,\"previous_token\":\"$2a$10$9ydFmAKcO/sikO6c5I0rSOJjCQNe.ZfcwEJzDcz12z.9KEZ14lfUi\",\"updated_at\":\"2024-05-04T03:53:41Z\"}}"], ["updated_at", "2024-05-04 03:53:41.154884"], ["id", 3]]
  [1m[35m (10.7ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 45ms (Views: 1.9ms | ActiveRecord: 12.6ms | Allocations: 15099)


Started GET "/auth/validate_token" for ::1 at 2024-05-06 14:26:28 +0900
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"expiry\":1716182788,\"previous_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"last_token\":\"$2a$10$9ydFmAKcO/sikO6c5I0rSOJjCQNe.ZfcwEJzDcz12z.9KEZ14lfUi\",\"updated_at\":\"2024-05-06T05:26:28Z\"}}"], ["updated_at", "2024-05-06 05:26:28.836069"], ["id", 3]]
  [1m[35m (7.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 164ms (Views: 0.3ms | ActiveRecord: 10.8ms | Allocations: 17014)


Started GET "/auth/validate_token" for ::1 at 2024-05-06 14:26:28 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 58ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 7601)


Started GET "/auth/validate_token" for ::1 at 2024-05-06 14:27:41 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:41Z\"}}"], ["updated_at", "2024-05-06 05:27:42.025477"], ["id", 3]]
  [1m[35m (7.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 142ms (Views: 0.2ms | ActiveRecord: 8.2ms | Allocations: 10241)


Started GET "/auth/validate_token" for ::1 at 2024-05-06 14:27:42 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"HylYGJAiexG0VqIjKup6Rw\":{\"token\":\"$2a$10$p8DvbcpjjTB8u7MLuwfzd.mQUaCmx9cbS3tmeudt683KP.Nfmvk5G\",\"expiry\":1715964364,\"previous_token\":\"$2a$10$2.JoUNGQzKjf8xJ1VLifNehwRAO28vkv98h4066PBqWsWoWSRc.rO\",\"last_token\":\"$2a$10$hVo2yEzY4fflT0MpwygAiu0KX9KP1HSyr0qFmZOHxXNO.EshjN50S\",\"updated_at\":\"2024-05-03T16:46:04Z\"},\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"}}"], ["updated_at", "2024-05-06 05:27:42.255825"], ["id", 3]]
  [1m[35m (8.3ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 179ms (Views: 0.1ms | ActiveRecord: 8.9ms | Allocations: 10119)


Started GET "/cable" for ::1 at 2024-05-06 14:27:42 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-06 14:27:42 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-06 14:27:42 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 179ms (Views: 1.4ms | ActiveRecord: 1.7ms | Allocations: 23176)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-06 14:27:47 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 115ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 8025)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-06 14:27:50 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-06 14:27:50 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 104ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1451)


Started POST "/auth/sign_in" for ::1 at 2024-05-06 14:27:57 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"EfIqWUD4PSFe0YYbI6m1gw\":{\"token\":\"$2a$10$3htJgc.56aklq0k6M6BA1OhUbzzFQ9nMk/mpE8lWcC41CjhM1JWq.\",\"expiry\":1716182877}}"], ["updated_at", "2024-05-06 05:27:57.641049"], ["id", 3]]
  [1m[35m (8.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"EfIqWUD4PSFe0YYbI6m1gw\":{\"token\":\"$2a$10$rbRKhA37rQeIw1RAEJ0Mseyo4.KrnG0uOGbJr6PaHGkEBAbIPxVu.\",\"expiry\":1716182877,\"previous_token\":\"$2a$10$3htJgc.56aklq0k6M6BA1OhUbzzFQ9nMk/mpE8lWcC41CjhM1JWq.\",\"updated_at\":\"2024-05-06T05:27:57Z\"}}"], ["updated_at", "2024-05-06 05:27:57.706209"], ["id", 3]]
  [1m[35m (7.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 333ms (Views: 0.2ms | ActiveRecord: 17.0ms | Allocations: 19179)


Started GET "/auth/validate_token" for ::1 at 2024-05-06 14:27:57 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 54ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 8092)


Started GET "/cable" for ::1 at 2024-05-06 14:27:57 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-06 14:27:57 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-06 14:27:57 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 11ms (Views: 1.1ms | ActiveRecord: 0.8ms | Allocations: 12565)


RoomChannel#receive({"message"=>"時間表示追加", "email"=>"test@test.com"})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["content", "時間表示追加"], ["created_at", "2024-05-06 05:28:09.016544"], ["updated_at", "2024-05-06 05:28:09.016544"]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (7.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>"時間表示追加", :name=>"test001", :created_at=>Mon, 06 May 2024 05:28:09 UTC +00:00}
RoomChannel transmitting {"message"=>"時間表示追加", "name"=>"test001", "created_at"=>"2024-05-06T05:28:09.016Z"} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-06 14:28:09 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"EfIqWUD4PSFe0YYbI6m1gw\":{\"token\":\"$2a$10$ilAyWUyFIIKN.FFyVX6HJu7objwcO7fvwrJ/dz8xN87Em/VCh6CVS\",\"expiry\":1716182889,\"previous_token\":\"$2a$10$rbRKhA37rQeIw1RAEJ0Mseyo4.KrnG0uOGbJr6PaHGkEBAbIPxVu.\",\"last_token\":\"$2a$10$3htJgc.56aklq0k6M6BA1OhUbzzFQ9nMk/mpE8lWcC41CjhM1JWq.\",\"updated_at\":\"2024-05-06T05:28:09Z\"}}"], ["updated_at", "2024-05-06 05:28:09.107131"], ["id", 3]]
  [1m[35m (6.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 80ms (Views: 1.3ms | ActiveRecord: 7.6ms | Allocations: 15321)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-06 14:28:13 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-06 18:45:34 +0900
  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (2.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"EfIqWUD4PSFe0YYbI6m1gw\":{\"token\":\"$2a$10$F2Csua3kZeEQ9RmTssSAUOHaLJqhbImhpdgIYr98QfP89WM3UFaky\",\"expiry\":1716198335,\"previous_token\":\"$2a$10$ilAyWUyFIIKN.FFyVX6HJu7objwcO7fvwrJ/dz8xN87Em/VCh6CVS\",\"last_token\":\"$2a$10$rbRKhA37rQeIw1RAEJ0Mseyo4.KrnG0uOGbJr6PaHGkEBAbIPxVu.\",\"updated_at\":\"2024-05-06T09:45:35Z\"}}"], ["updated_at", "2024-05-06 09:45:35.316459"], ["id", 3]]
  [1m[35m (10.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 520ms (Views: 2.8ms | ActiveRecord: 18.1ms | Allocations: 16632)


Started GET "/auth/validate_token" for ::1 at 2024-05-06 18:45:35 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 367ms (Views: 3.3ms | ActiveRecord: 0.7ms | Allocations: 7997)


Started GET "/cable" for ::1 at 2024-05-06 18:45:35 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-06 18:45:35 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-06 18:45:35 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (2.8ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"EfIqWUD4PSFe0YYbI6m1gw\":{\"token\":\"$2a$10$F2Csua3kZeEQ9RmTssSAUOHaLJqhbImhpdgIYr98QfP89WM3UFaky\",\"expiry\":1716198335,\"previous_token\":\"$2a$10$ilAyWUyFIIKN.FFyVX6HJu7objwcO7fvwrJ/dz8xN87Em/VCh6CVS\",\"last_token\":\"$2a$10$rbRKhA37rQeIw1RAEJ0Mseyo4.KrnG0uOGbJr6PaHGkEBAbIPxVu.\",\"updated_at\":\"2024-05-06T09:45:36Z\"}}"], ["updated_at", "2024-05-06 09:45:36.291223"], ["id", 3]]
  [1m[35m (10.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 473ms (Views: 2.0ms | ActiveRecord: 16.2ms | Allocations: 25500)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-06 18:45:38 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"}}"], ["updated_at", "2024-05-06 09:45:39.299457"], ["id", 3]]
  [1m[35m (13.7ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 503ms (Views: 0.4ms | ActiveRecord: 14.6ms | Allocations: 7507)


Unsubscribing from channel: {"channel":"RoomChannel"}
RoomChannel stopped streaming from room_channel
Started POST "/auth/sign_in" for ::1 at 2024-05-06 18:45:48 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$32Bf9uoE1veCXS5K2AFlIO2xOo4b8EkwoPycY2mm4UawAI6XKsJKC\",\"expiry\":1716198348}}"], ["updated_at", "2024-05-06 09:45:48.595570"], ["id", 3]]
  [1m[35m (11.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"expiry\":1716198348,\"previous_token\":\"$2a$10$32Bf9uoE1veCXS5K2AFlIO2xOo4b8EkwoPycY2mm4UawAI6XKsJKC\",\"updated_at\":\"2024-05-06T09:45:48Z\"}}"], ["updated_at", "2024-05-06 09:45:48.753738"], ["id", 3]]
  [1m[35m (10.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 697ms (Views: 0.3ms | ActiveRecord: 24.6ms | Allocations: 18831)


Started GET "/auth/validate_token" for ::1 at 2024-05-06 18:45:48 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 156ms (Views: 0.3ms | ActiveRecord: 0.7ms | Allocations: 7891)


Started GET "/cable" for ::1 at 2024-05-06 18:45:49 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-06 18:45:49 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-06 18:45:49 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"expiry\":1716198348,\"previous_token\":\"$2a$10$32Bf9uoE1veCXS5K2AFlIO2xOo4b8EkwoPycY2mm4UawAI6XKsJKC\",\"updated_at\":\"2024-05-06T09:45:49Z\"}}"], ["updated_at", "2024-05-06 09:45:49.070167"], ["id", 3]]
  [1m[35m (10.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 46ms (Views: 2.1ms | ActiveRecord: 12.9ms | Allocations: 14884)


Started POST "/messages/23/likes" for ::1 at 2024-05-06 18:45:57 +0900
Processing by LikesController#create as HTML
  Parameters: {"id"=>"23", "like"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mLike Create (1.2ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "message_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["message_id", 23], ["created_at", "2024-05-06 09:45:57.778583"], ["updated_at", "2024-05-06 09:45:57.778583"]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[35m (11.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"expiry\":1716198357,\"previous_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"last_token\":\"$2a$10$32Bf9uoE1veCXS5K2AFlIO2xOo4b8EkwoPycY2mm4UawAI6XKsJKC\",\"updated_at\":\"2024-05-06T09:45:57Z\"}}"], ["updated_at", "2024-05-06 09:45:57.904061"], ["id", 3]]
  [1m[35m (13.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 160ms (Views: 0.3ms | ActiveRecord: 26.9ms | Allocations: 17461)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-06 18:45:57 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"expiry\":1716198357,\"previous_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"last_token\":\"$2a$10$32Bf9uoE1veCXS5K2AFlIO2xOo4b8EkwoPycY2mm4UawAI6XKsJKC\",\"updated_at\":\"2024-05-06T09:45:58Z\"}}"], ["updated_at", "2024-05-06 09:45:58.118378"], ["id", 3]]
  [1m[35m (10.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 163ms (Views: 3.2ms | ActiveRecord: 12.4ms | Allocations: 15672)


Started DELETE "/likes/10" for ::1 at 2024-05-06 18:45:59 +0900
Processing by LikesController#destroy as HTML
  Parameters: {"id"=>"10"}
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:16:in `destroy'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/likes_controller.rb:18:in `destroy'
  [1m[36mLike Destroy (0.6ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = ?[0m  [["id", 10]]
  ↳ app/controllers/likes_controller.rb:18:in `destroy'
  [1m[35m (11.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/likes_controller.rb:18:in `destroy'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:19:in `destroy'
Completed 200 OK in 23ms (Views: 0.2ms | ActiveRecord: 12.1ms | Allocations: 5238)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-06 18:45:59 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"expiry\":1716198357,\"previous_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"last_token\":\"$2a$10$32Bf9uoE1veCXS5K2AFlIO2xOo4b8EkwoPycY2mm4UawAI6XKsJKC\",\"updated_at\":\"2024-05-06T09:46:00Z\"}}"], ["updated_at", "2024-05-06 09:46:00.083558"], ["id", 3]]
  [1m[35m (9.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 193ms (Views: 1.8ms | ActiveRecord: 11.2ms | Allocations: 15185)


RoomChannel#receive({"message"=>"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa", "email"=>"test@test.com"})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["content", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["created_at", "2024-05-06 09:46:02.264229"], ["updated_at", "2024-05-06 09:46:02.264229"]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (11.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa", :name=>"test001", :created_at=>Mon, 06 May 2024 09:46:02 UTC +00:00}
RoomChannel transmitting {"message"=>"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa", "name"=>"test001", "created_at"=>"2024-05-06T09:46:02.264Z"} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-06 18:46:02 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"expiry\":1716198357,\"previous_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"last_token\":\"$2a$10$32Bf9uoE1veCXS5K2AFlIO2xOo4b8EkwoPycY2mm4UawAI6XKsJKC\",\"updated_at\":\"2024-05-06T09:46:02Z\"}}"], ["updated_at", "2024-05-06 09:46:02.440294"], ["id", 3]]
  [1m[35m (11.9ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 169ms (Views: 2.2ms | ActiveRecord: 13.8ms | Allocations: 15359)


RoomChannel#receive({"message"=>"ss", "email"=>"test@test.com"})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["content", "ss"], ["created_at", "2024-05-06 09:46:16.708986"], ["updated_at", "2024-05-06 09:46:16.708986"]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (18.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>"ss", :name=>"test001", :created_at=>Mon, 06 May 2024 09:46:16 UTC +00:00}
RoomChannel transmitting {"message"=>"ss", "name"=>"test001", "created_at"=>"2024-05-06T09:46:16.708Z"} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-06 18:46:16 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"q1JqJciATBN4UUe9YbWDkg\":{\"token\":\"$2a$10$NWNjGx36fv/5UpKV9Jo6Pe/Yq96djZbkBvzaFhXnAuqmrxC39A61O\",\"expiry\":1715965748,\"previous_token\":\"$2a$10$EfbFgG45NEj5rzJ6gyodjeobGIp7asZ.fWnFk3Nrpy2ZMsJKACMPC\",\"last_token\":\"$2a$10$xFqA78WYWQ9.WJSgINlOVu3tkWFugpyXOFaLwLWjeeAZ4QloftgzS\",\"updated_at\":\"2024-05-03T17:09:08Z\"},\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"}}"], ["updated_at", "2024-05-06 09:46:17.005528"], ["id", 3]]
  [1m[35m (19.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 287ms (Views: 1.4ms | ActiveRecord: 21.4ms | Allocations: 16396)


RoomChannel#receive({"message"=>"ss", "email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["content", "ss"], ["created_at", "2024-05-06 09:46:36.395570"], ["updated_at", "2024-05-06 09:46:36.395570"]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (9.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>"ss", :name=>"test001", :created_at=>Mon, 06 May 2024 09:46:36 UTC +00:00}
RoomChannel transmitting {"message"=>"ss", "name"=>"test001", "created_at"=>"2024-05-06T09:46:36.395Z"} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-06 18:46:36 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 189ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1726)


Started GET "/cable" for ::1 at 2024-05-06 19:24:55 +0900
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-06 19:24:55 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2024-05-06 19:24:55 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-06 19:24:55 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-06 19:24:55 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 375ms (Views: 0.8ms | ActiveRecord: 2.8ms | Allocations: 13670)


Started POST "/auth/sign_in" for ::1 at 2024-05-06 19:28:05 +0900
Processing by DeviseTokenAuth::SessionsController#create as */*
  Parameters: {"name"=>"Test", "email"=>"test@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
[31mUnpermitted parameters: :name, :password_confirmation[0m
[31mUnpermitted parameters: :name, :password_confirmation[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameters: :name, :password_confirmation[0m
[31mUnpermitted parameters: :name, :password_confirmation[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (2.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$goCBO98EMwz7AoyobhnJZO64Lv0mNJ3MKJJSmFJq/9E3EUwuT3M3a\",\"expiry\":1716200885}}"], ["updated_at", "2024-05-06 10:28:05.909876"], ["id", 3]]
  [1m[35m (16.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"expiry\":1716200886,\"previous_token\":\"$2a$10$goCBO98EMwz7AoyobhnJZO64Lv0mNJ3MKJJSmFJq/9E3EUwuT3M3a\",\"updated_at\":\"2024-05-06T10:28:05Z\"}}"], ["updated_at", "2024-05-06 10:28:06.082793"], ["id", 3]]
  [1m[35m (20.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 772ms (Views: 0.3ms | ActiveRecord: 42.4ms | Allocations: 20396)


Started DELETE "/auth/sign_in" for ::1 at 2024-05-06 19:28:34 +0900
  
ActionController::RoutingError (No route matches [DELETE] "/auth/sign_in"):
  
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/messages?access-token=lMpjdbV4r2YxPQnxdSPwLw&client=lsb8haRarFFROHaPSZ1xYw&uid=test@test.com" for ::1 at 2024-05-06 19:30:05 +0900
Processing by MessagesController#index as */*
  Parameters: {"access-token"=>"lMpjdbV4r2YxPQnxdSPwLw", "client"=>"lsb8haRarFFROHaPSZ1xYw", "uid"=>"test@test.com"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"expiry\":1716201005,\"previous_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"last_token\":\"$2a$10$goCBO98EMwz7AoyobhnJZO64Lv0mNJ3MKJJSmFJq/9E3EUwuT3M3a\",\"updated_at\":\"2024-05-06T10:30:05Z\"}}"], ["updated_at", "2024-05-06 10:30:05.935302"], ["id", 3]]
  [1m[35m (18.9ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 350ms (Views: 2.3ms | ActiveRecord: 23.4ms | Allocations: 26944)


Started DELETE "/messages/24/?access-token=lMpjdbV4r2YxPQnxdSPwLw&client=lsb8haRarFFROHaPSZ1xYw&uid=test@test.com" for ::1 at 2024-05-06 19:30:38 +0900
Processing by MessagesController#destroy as */*
  Parameters: {"access-token"=>"lMpjdbV4r2YxPQnxdSPwLw", "client"=>"lsb8haRarFFROHaPSZ1xYw", "uid"=>"test@test.com", "id"=>"24"}
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:23:in `destroy'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:25:in `destroy'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/messages_controller.rb:26:in `destroy'
  [1m[36mMessage Destroy (0.6ms)[0m  [1m[31mDELETE FROM "messages" WHERE "messages"."id" = ?[0m  [["id", 24]]
  ↳ app/controllers/messages_controller.rb:26:in `destroy'
  [1m[35m (11.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/messages_controller.rb:26:in `destroy'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.1ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"Twy5B6lpjwZPWv_SVZInng\":{\"token\":\"$2a$10$cNNHB6lUwkGCnesBdxiXBO6r7tYqkapiCQCDgyaeuDyO7T1cxfhUq\",\"expiry\":1715966060,\"previous_token\":\"$2a$10$gMBLEc8AsrC./FQz6I6uZOznFjYFk68CZFylwVBtNKCEzCBxOjany\",\"last_token\":\"$2a$10$vbYEgBNYE6eXRE/4HtvPk.trwUGol7gmMCsPvoeYkGohqjXVA1tV2\",\"updated_at\":\"2024-05-03T17:14:20Z\"},\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"}}"], ["updated_at", "2024-05-06 10:30:39.115348"], ["id", 3]]
  [1m[35m (9.1ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 242ms (ActiveRecord: 22.8ms | Allocations: 14156)


Started GET "/messages?access-token=lMpjdbV4r2YxPQnxdSPwLw&client=lsb8haRarFFROHaPSZ1xYw&uid=test@test.com" for ::1 at 2024-05-06 19:31:14 +0900
Processing by MessagesController#index as */*
  Parameters: {"access-token"=>"lMpjdbV4r2YxPQnxdSPwLw", "client"=>"lsb8haRarFFROHaPSZ1xYw", "uid"=>"test@test.com"}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 260ms (Views: 0.4ms | ActiveRecord: 2.0ms | Allocations: 1419)


Started POST "/auth/sign_in" for ::1 at 2024-05-06 19:31:20 +0900
Processing by DeviseTokenAuth::SessionsController#create as */*
  Parameters: {"name"=>"Test", "email"=>"test@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
[31mUnpermitted parameters: :name, :password_confirmation[0m
[31mUnpermitted parameters: :name, :password_confirmation[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameters: :name, :password_confirmation[0m
[31mUnpermitted parameters: :name, :password_confirmation[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"expiry\":1716201081}}"], ["updated_at", "2024-05-06 10:31:21.373526"], ["id", 3]]
  [1m[35m (9.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"expiry\":1716201081,\"previous_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:21Z\"}}"], ["updated_at", "2024-05-06 10:31:21.513767"], ["id", 3]]
  [1m[35m (11.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 797ms (Views: 0.2ms | ActiveRecord: 22.8ms | Allocations: 19049)


Started GET "/messages?access-token=BJLJwxFrykf98VLw5j5bCw&client=YLSDN0A1O1iSL4TftMGGMw&uid=test@test.com" for ::1 at 2024-05-06 19:31:38 +0900
Processing by MessagesController#index as */*
  Parameters: {"access-token"=>"BJLJwxFrykf98VLw5j5bCw", "client"=>"YLSDN0A1O1iSL4TftMGGMw", "uid"=>"test@test.com"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"A7FmV6d9hAEOe9UBupLjMg\":{\"token\":\"$2a$10$8r9XtMlxAxMmo0hUf4L3zeCK7XIlnGnIRjXZ4GjaXLquDllE7i3JO\",\"expiry\":1715966960,\"previous_token\":\"$2a$10$GR6kZ4fnyJM5.mh1N9tY5OVEsxVHlLDM6JSbxJoef4UuAm8ZkJwVO\",\"last_token\":\"$2a$10$bdqoaIPzTlPBIdCrqVcUEubg8opC0.eWBxI4BDNreKuE842OW6T9K\",\"updated_at\":\"2024-05-03T17:29:20Z\"},\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"}}"], ["updated_at", "2024-05-06 10:31:38.362218"], ["id", 3]]
  [1m[35m (20.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 257ms (Views: 1.8ms | ActiveRecord: 21.6ms | Allocations: 15742)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-06 19:45:56 +0900
RoomChannel stopped streaming from room_channel
Finished "/cable/" [WebSocket] for ::1 at 2024-05-06 19:45:56 +0900
Started GET "/auth/validate_token" for ::1 at 2024-05-06 20:13:52 +0900
  [1m[35m (1.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (5.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 352ms (Views: 0.8ms | ActiveRecord: 8.3ms | Allocations: 13730)


Started GET "/auth/validate_token" for ::1 at 2024-05-06 20:13:52 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 260ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 1427)


Started POST "/auth/sign_in" for ::1 at 2024-05-06 20:15:13 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (11.8ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$y/guSDcsbprQ6.RxvzWymOn51tJoYIAi3k6zcCvnPfzXDo.VWZZIi\",\"expiry\":1716203714}}"], ["updated_at", "2024-05-06 11:15:14.252096"], ["id", 3]]
  [1m[35m (12.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"expiry\":1716203714,\"previous_token\":\"$2a$10$y/guSDcsbprQ6.RxvzWymOn51tJoYIAi3k6zcCvnPfzXDo.VWZZIi\",\"updated_at\":\"2024-05-06T11:15:14Z\"}}"], ["updated_at", "2024-05-06 11:15:14.440759"], ["id", 3]]
  [1m[35m (16.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 933ms (Views: 0.4ms | ActiveRecord: 44.9ms | Allocations: 20337)


Started GET "/auth/validate_token" for ::1 at 2024-05-06 20:15:14 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 115ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 7897)


Started GET "/cable" for ::1 at 2024-05-06 20:15:14 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-06 20:15:14 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-06 20:15:14 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 69ms (Views: 2.3ms | ActiveRecord: 3.9ms | Allocations: 23196)


Started POST "/messages/26/likes" for ::1 at 2024-05-06 20:15:58 +0900
Processing by LikesController#create as HTML
  Parameters: {"id"=>"26", "like"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mLike Create (1.4ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "message_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["message_id", 26], ["created_at", "2024-05-06 11:15:59.022812"], ["updated_at", "2024-05-06 11:15:59.022812"]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[35m (10.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"expiry\":1716203759,\"previous_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"last_token\":\"$2a$10$y/guSDcsbprQ6.RxvzWymOn51tJoYIAi3k6zcCvnPfzXDo.VWZZIi\",\"updated_at\":\"2024-05-06T11:15:59Z\"}}"], ["updated_at", "2024-05-06 11:15:59.181644"], ["id", 3]]
  [1m[35m (21.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 205ms (Views: 0.3ms | ActiveRecord: 34.5ms | Allocations: 17818)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-06 20:15:59 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 149ms (Views: 1.4ms | ActiveRecord: 1.5ms | Allocations: 13475)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-06 20:16:28 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-06 20:16:28 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (3.8ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:28Z\"}}"], ["updated_at", "2024-05-06 11:16:29.088057"], ["id", 3]]
  [1m[35m (51.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 286ms (Views: 0.3ms | ActiveRecord: 56.1ms | Allocations: 10230)


Started GET "/cable" for ::1 at 2024-05-06 20:16:29 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-06 20:16:29 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-06 20:16:29 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"gxIiigfByZzlPc8qzBg_7A\":{\"token\":\"$2a$10$gOQES8Xzy8NxjGp24DyFl.9CoLc/yEp0xQvGA8JSQmOYXgP.zP6US\",\"expiry\":1715967168,\"previous_token\":\"$2a$10$xAEKkyPnwa2KVKurVfkwVe2CDIF8.OAX17jYY/MEjRjVsNfJZJBK2\",\"last_token\":\"$2a$10$qo8i334rhb9vxa87zEv3FeUeohvBqFxa/cI8w4KcT0igY2Kq3bCtS\",\"updated_at\":\"2024-05-03T17:32:48Z\"},\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"}}"], ["updated_at", "2024-05-06 11:16:29.703313"], ["id", 3]]
  [1m[35m (12.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 373ms (Views: 16.5ms | ActiveRecord: 15.6ms | Allocations: 15769)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-06 20:17:04 +0900
RoomChannel stopped streaming from room_channel
Started POST "/auth/sign_in" for ::1 at 2024-05-06 20:17:52 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$BYXmz32A9uo5Ugwu7coKF.DfWhwWgbla4iOs2GsMXswCit4e9aEui\",\"expiry\":1716203872}}"], ["updated_at", "2024-05-06 11:17:52.575997"], ["id", 3]]
  [1m[35m (12.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"expiry\":1716203872,\"previous_token\":\"$2a$10$BYXmz32A9uo5Ugwu7coKF.DfWhwWgbla4iOs2GsMXswCit4e9aEui\",\"updated_at\":\"2024-05-06T11:17:52Z\"}}"], ["updated_at", "2024-05-06 11:17:52.728082"], ["id", 3]]
  [1m[35m (11.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 600ms (Views: 0.6ms | ActiveRecord: 26.3ms | Allocations: 19052)


Started GET "/auth/validate_token" for ::1 at 2024-05-06 20:17:52 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 123ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 7890)


Started GET "/cable" for ::1 at 2024-05-06 20:17:52 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-06 20:17:52 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-06 20:17:52 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 24ms (Views: 1.6ms | ActiveRecord: 1.3ms | Allocations: 13172)


Started DELETE "/messages/[object%20PointerEvent]" for ::1 at 2024-05-06 20:17:58 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"id"=>"[object PointerEvent]"}
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:23:in `destroy'
Completed 404 Not Found in 3ms (ActiveRecord: 0.1ms | Allocations: 726)


  
ActiveRecord::RecordNotFound (Couldn't find Message with 'id'=[object PointerEvent]):
  
app/controllers/messages_controller.rb:23:in `destroy'
Finished "/cable/" [WebSocket] for ::1 at 2024-05-06 20:18:21 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-06 20:18:22 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"expiry\":1716203902,\"previous_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"last_token\":\"$2a$10$BYXmz32A9uo5Ugwu7coKF.DfWhwWgbla4iOs2GsMXswCit4e9aEui\",\"updated_at\":\"2024-05-06T11:18:22Z\"}}"], ["updated_at", "2024-05-06 11:18:22.479609"], ["id", 3]]
  [1m[35m (20.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 297ms (Views: 0.5ms | ActiveRecord: 23.6ms | Allocations: 10262)


Started GET "/cable" for ::1 at 2024-05-06 20:18:22 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-06 20:18:22 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-06 20:18:22 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 125ms (Views: 1.7ms | ActiveRecord: 1.8ms | Allocations: 13214)


Started DELETE "/messages/[object%20PointerEvent]" for ::1 at 2024-05-06 20:18:27 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"id"=>"[object PointerEvent]"}
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:23:in `destroy'
Completed 404 Not Found in 3ms (ActiveRecord: 0.2ms | Allocations: 618)


  
ActiveRecord::RecordNotFound (Couldn't find Message with 'id'=[object PointerEvent]):
  
app/controllers/messages_controller.rb:23:in `destroy'
Finished "/cable/" [WebSocket] for ::1 at 2024-05-06 20:19:15 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-06 20:19:16 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"0Besq7U7J0rWcgi2ixC7Og\":{\"token\":\"$2a$10$OObjO17PtTMDZbkYZu/ksO.QJ8c3nH1.VyAY5I3zL4aWnf2PopcO6\",\"expiry\":1715967403,\"previous_token\":\"$2a$10$iA7pxM5d.MmfsoNDDnI4deHkz2JGl/plGnTbQmMOK01GdC5./gs8S\",\"last_token\":\"$2a$10$t2hJHUVpG0kanmvsXUyf9e.17Yywh1iYZNMQl0rFXqlyhoowmk5gO\",\"updated_at\":\"2024-05-03T17:36:43Z\"},\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"}}"], ["updated_at", "2024-05-06 11:19:16.437637"], ["id", 3]]
  [1m[35m (11.9ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 340ms (Views: 0.4ms | ActiveRecord: 14.2ms | Allocations: 10204)


Started GET "/cable" for ::1 at 2024-05-06 20:19:16 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-06 20:19:16 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-06 20:19:16 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 360ms (Views: 2.2ms | ActiveRecord: 1.7ms | Allocations: 13580)


Started DELETE "/messages/[object%20PointerEvent]" for ::1 at 2024-05-06 20:19:19 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"id"=>"[object PointerEvent]"}
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:23:in `destroy'
Completed 404 Not Found in 2ms (ActiveRecord: 0.3ms | Allocations: 615)


  
ActiveRecord::RecordNotFound (Couldn't find Message with 'id'=[object PointerEvent]):
  
app/controllers/messages_controller.rb:23:in `destroy'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" LIMIT ?[0m  [["LIMIT", 11]]
RoomChannel#receive({"message"=>"こんにちは", "email"=>"test@test.com"})
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mMessage Create (0.9ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["content", "こんにちは"], ["created_at", "2024-05-06 11:19:56.335645"], ["updated_at", "2024-05-06 11:19:56.335645"]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (10.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>"こんにちは", :name=>"test001", :created_at=>Mon, 06 May 2024 11:19:56 UTC +00:00}
RoomChannel transmitting {"message"=>"こんにちは", "name"=>"test001", "created_at"=>"2024-05-06T11:19:56.335Z"} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-06 20:19:56 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 254ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1733)


RoomChannel#receive({"message"=>"こんにちは", "email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["content", "こんにちは"], ["created_at", "2024-05-06 11:20:11.471003"], ["updated_at", "2024-05-06 11:20:11.471003"]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (9.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>"こんにちは", :name=>"test001", :created_at=>Mon, 06 May 2024 11:20:11 UTC +00:00}
RoomChannel transmitting {"message"=>"こんにちは", "name"=>"test001", "created_at"=>"2024-05-06T11:20:11.471Z"} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-06 20:20:11 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 237ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 1714)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-06 20:20:26 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-06 20:20:27 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 271ms (Views: 1.1ms | ActiveRecord: 0.2ms | Allocations: 1431)


Started GET "/cable" for ::1 at 2024-05-06 20:20:27 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-06 20:20:27 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-06 20:20:27 +0900
Processing by MessagesController#index as HTML
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 164)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-06 20:20:29 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 11ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1397)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-06 20:20:32 +0900
RoomChannel stopped streaming from room_channel
Started POST "/auth/sign_in" for ::1 at 2024-05-06 20:20:38 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$8hVPgRw3fzRjUPz3DR4nkekhBBjmCU1gtsFxasI/sJfbSdpuJID1m\",\"expiry\":1716204038}}"], ["updated_at", "2024-05-06 11:20:38.610690"], ["id", 3]]
  [1m[35m (10.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"expiry\":1716204038,\"previous_token\":\"$2a$10$8hVPgRw3fzRjUPz3DR4nkekhBBjmCU1gtsFxasI/sJfbSdpuJID1m\",\"updated_at\":\"2024-05-06T11:20:38Z\"}}"], ["updated_at", "2024-05-06 11:20:38.756124"], ["id", 3]]
  [1m[35m (12.3ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 632ms (Views: 0.3ms | ActiveRecord: 25.1ms | Allocations: 19070)


Started GET "/auth/validate_token" for ::1 at 2024-05-06 20:20:38 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 154ms (Views: 7.3ms | ActiveRecord: 0.7ms | Allocations: 7977)


Started GET "/cable" for ::1 at 2024-05-06 20:20:38 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-06 20:20:38 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-06 20:20:39 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (2.8ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"expiry\":1716204038,\"previous_token\":\"$2a$10$8hVPgRw3fzRjUPz3DR4nkekhBBjmCU1gtsFxasI/sJfbSdpuJID1m\",\"updated_at\":\"2024-05-06T11:20:39Z\"}}"], ["updated_at", "2024-05-06 11:20:39.060573"], ["id", 3]]
  [1m[35m (11.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 54ms (Views: 3.2ms | ActiveRecord: 15.5ms | Allocations: 15993)


Started POST "/messages/28/likes" for ::1 at 2024-05-06 20:20:42 +0900
Processing by LikesController#create as HTML
  Parameters: {"id"=>"28", "like"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mLike Create (0.6ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "message_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["message_id", 28], ["created_at", "2024-05-06 11:20:42.525448"], ["updated_at", "2024-05-06 11:20:42.525448"]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[35m (13.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"expiry\":1716204038,\"previous_token\":\"$2a$10$8hVPgRw3fzRjUPz3DR4nkekhBBjmCU1gtsFxasI/sJfbSdpuJID1m\",\"updated_at\":\"2024-05-06T11:20:42Z\"}}"], ["updated_at", "2024-05-06 11:20:42.574357"], ["id", 3]]
  [1m[35m (14.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 91ms (Views: 0.6ms | ActiveRecord: 32.0ms | Allocations: 16600)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-06 20:20:42 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (2.2ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 56ms (Views: 4.4ms | ActiveRecord: 3.7ms | Allocations: 13542)


  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" LIMIT ?[0m  [["LIMIT", 11]]
Finished "/cable/" [WebSocket] for ::1 at 2024-05-06 20:21:45 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-06 20:21:45 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"expiry\":1716204105,\"previous_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"last_token\":\"$2a$10$8hVPgRw3fzRjUPz3DR4nkekhBBjmCU1gtsFxasI/sJfbSdpuJID1m\",\"updated_at\":\"2024-05-06T11:21:45Z\"}}"], ["updated_at", "2024-05-06 11:21:45.663113"], ["id", 3]]
  [1m[35m (9.3ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 127ms (Views: 0.7ms | ActiveRecord: 12.5ms | Allocations: 9809)


Started GET "/cable" for ::1 at 2024-05-06 20:21:45 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-06 20:21:45 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-06 20:21:45 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 125ms (Views: 2.8ms | ActiveRecord: 1.5ms | Allocations: 13865)


Started DELETE "/messages/5" for ::1 at 2024-05-06 20:21:53 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"id"=>"5"}
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:23:in `destroy'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 1197)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/messages_controller.rb:25:in `destroy'
Finished "/cable/" [WebSocket] for ::1 at 2024-05-06 20:23:45 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-06 20:23:45 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (9.1ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:46Z\"}}"], ["updated_at", "2024-05-06 11:23:46.400141"], ["id", 3]]
  [1m[35m (10.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 473ms (Views: 0.5ms | ActiveRecord: 22.5ms | Allocations: 16434)


Started GET "/auth/validate_token" for ::1 at 2024-05-06 20:23:46 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 317ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 7987)


Started GET "/cable" for ::1 at 2024-05-06 20:23:46 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-06 20:23:46 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-06 20:23:46 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"Y4k7royNOs0L2NVjnUA3oA\":{\"token\":\"$2a$10$r2VH23bE.TZz2VMnFy7alOjNYD2qUw/EeMlWapTv8GAtkAfX8JfZm\",\"expiry\":1716002683,\"previous_token\":\"$2a$10$4VA4/MwUFVcOxCJs4cBNlOL0Vcv/ixb8/WDQkPvN3yuF6/AybENcu\",\"last_token\":\"$2a$10$t1k.F0btU1gfNDoFpiKPUu4bL.YC5JRaj96BRg2ZaImmmHs9TJbbm\",\"updated_at\":\"2024-05-04T03:24:53Z\"},\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"}}"], ["updated_at", "2024-05-06 11:23:47.274589"], ["id", 3]]
  [1m[35m (11.9ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 452ms (Views: 2.4ms | ActiveRecord: 16.2ms | Allocations: 23356)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-06 20:24:46 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-06 20:24:46 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 215ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 6871)


Started GET "/cable" for ::1 at 2024-05-06 20:24:47 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-06 20:24:47 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-06 20:24:47 +0900
Processing by MessagesController#index as HTML
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 207)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-06 20:24:48 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 261)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-06 20:24:55 +0900
RoomChannel stopped streaming from room_channel
Started POST "/auth/sign_in" for ::1 at 2024-05-06 20:25:02 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$zVSYu34WxnOQ48iqljCCD.ZMeb3fzwgOxB8tnqYe97rbdUnp8hYQK\",\"expiry\":1716204302}}"], ["updated_at", "2024-05-06 11:25:02.537857"], ["id", 3]]
  [1m[35m (10.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"expiry\":1716204302,\"previous_token\":\"$2a$10$zVSYu34WxnOQ48iqljCCD.ZMeb3fzwgOxB8tnqYe97rbdUnp8hYQK\",\"updated_at\":\"2024-05-06T11:25:02Z\"}}"], ["updated_at", "2024-05-06 11:25:02.682611"], ["id", 3]]
  [1m[35m (10.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 672ms (Views: 0.4ms | ActiveRecord: 23.4ms | Allocations: 20067)


Started GET "/auth/validate_token" for ::1 at 2024-05-06 20:25:02 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 115ms (Views: 0.3ms | ActiveRecord: 0.6ms | Allocations: 7893)


Started GET "/cable" for ::1 at 2024-05-06 20:25:02 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-06 20:25:02 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-06 20:25:02 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 57ms (Views: 3.1ms | ActiveRecord: 2.8ms | Allocations: 20658)


Started DELETE "/messages/5" for ::1 at 2024-05-06 20:25:24 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"id"=>"5"}
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:25:in `destroy'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 1320)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/messages_controller.rb:27:in `destroy'
Started DELETE "/messages/5" for ::1 at 2024-05-06 20:25:25 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"id"=>"5"}
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:25:in `destroy'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 1187)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/messages_controller.rb:27:in `destroy'
Finished "/cable/" [WebSocket] for ::1 at 2024-05-06 20:25:58 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-06 20:25:58 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (11.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"expiry\":1716204358,\"previous_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"last_token\":\"$2a$10$zVSYu34WxnOQ48iqljCCD.ZMeb3fzwgOxB8tnqYe97rbdUnp8hYQK\",\"updated_at\":\"2024-05-06T11:25:58Z\"}}"], ["updated_at", "2024-05-06 11:25:58.812301"], ["id", 3]]
  [1m[35m (12.3ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 301ms (Views: 0.7ms | ActiveRecord: 25.3ms | Allocations: 10506)


Started GET "/cable" for ::1 at 2024-05-06 20:25:58 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-06 20:25:58 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-06 20:25:58 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"expiry\":1716204358,\"previous_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"last_token\":\"$2a$10$zVSYu34WxnOQ48iqljCCD.ZMeb3fzwgOxB8tnqYe97rbdUnp8hYQK\",\"updated_at\":\"2024-05-06T11:25:59Z\"}}"], ["updated_at", "2024-05-06 11:25:59.015779"], ["id", 3]]
  [1m[35m (8.9ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 137ms (Views: 1.7ms | ActiveRecord: 10.3ms | Allocations: 16404)


Started DELETE "/messages/5" for ::1 at 2024-05-06 20:26:05 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"id"=>"5"}
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:25:in `destroy'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:27:in `destroy'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/messages_controller.rb:28:in `destroy'
  [1m[36mMessage Destroy (9.5ms)[0m  [1m[31mDELETE FROM "messages" WHERE "messages"."id" = ?[0m  [["id", 5]]
  ↳ app/controllers/messages_controller.rb:28:in `destroy'
  [1m[35m (10.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/messages_controller.rb:28:in `destroy'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:05Z\"}}"], ["updated_at", "2024-05-06 11:26:05.768308"], ["id", 3]]
  [1m[35m (9.9ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 310ms (ActiveRecord: 31.5ms | Allocations: 13979)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-06 20:26:05 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"yxGnTyRQ1yAnM18JEyRKIA\":{\"token\":\"$2a$10$t6ve7L4xiXxkK9Qc1l3dXOMSnZBxHlfe4tIk7/nFq8Ss4VdWR50/y\",\"expiry\":1716003240,\"previous_token\":\"$2a$10$vJjvmbrFvr.dLwbvXPvHwewbwOazpMtl6o97BQ2y2SQ/5XJAXC8uu\",\"last_token\":\"$2a$10$cdTlU1BCHvtb/zb2./6EqedbSf.W5sNDofTBljgd5fprxArNSawDq\",\"updated_at\":\"2024-05-04T03:34:00Z\"},\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"}}"], ["updated_at", "2024-05-06 11:26:06.096780"], ["id", 3]]
  [1m[35m (17.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 317ms (Views: 3.1ms | ActiveRecord: 19.5ms | Allocations: 16441)


Started DELETE "/messages/[object%20PointerEvent]" for ::1 at 2024-05-06 20:26:37 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"id"=>"[object PointerEvent]"}
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:25:in `destroy'
Completed 404 Not Found in 2ms (ActiveRecord: 0.1ms | Allocations: 615)


  
ActiveRecord::RecordNotFound (Couldn't find Message with 'id'=[object PointerEvent]):
  
app/controllers/messages_controller.rb:25:in `destroy'
Started DELETE "/messages/[object%20PointerEvent]" for ::1 at 2024-05-06 20:26:47 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"id"=>"[object PointerEvent]"}
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:25:in `destroy'
Completed 404 Not Found in 2ms (ActiveRecord: 0.2ms | Allocations: 615)


  
ActiveRecord::RecordNotFound (Couldn't find Message with 'id'=[object PointerEvent]):
  
app/controllers/messages_controller.rb:25:in `destroy'
Started DELETE "/messages/[object%20PointerEvent]" for ::1 at 2024-05-06 20:26:51 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"id"=>"[object PointerEvent]"}
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:25:in `destroy'
Completed 404 Not Found in 2ms (ActiveRecord: 0.1ms | Allocations: 615)


  
ActiveRecord::RecordNotFound (Couldn't find Message with 'id'=[object PointerEvent]):
  
app/controllers/messages_controller.rb:25:in `destroy'
Started DELETE "/messages/undefined" for ::1 at 2024-05-06 20:30:19 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"id"=>"undefined"}
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:25:in `destroy'
Completed 404 Not Found in 3ms (ActiveRecord: 0.2ms | Allocations: 615)


  
ActiveRecord::RecordNotFound (Couldn't find Message with 'id'=undefined):
  
app/controllers/messages_controller.rb:25:in `destroy'
Started DELETE "/messages/undefined" for ::1 at 2024-05-06 20:32:05 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"id"=>"undefined"}
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:25:in `destroy'
Completed 404 Not Found in 4ms (ActiveRecord: 0.3ms | Allocations: 615)


  
ActiveRecord::RecordNotFound (Couldn't find Message with 'id'=undefined):
  
app/controllers/messages_controller.rb:25:in `destroy'
Finished "/cable/" [WebSocket] for ::1 at 2024-05-06 20:32:42 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-06 20:32:43 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 211ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 1427)


Started GET "/cable" for ::1 at 2024-05-06 20:32:44 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-06 20:32:44 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-06 20:32:44 +0900
Processing by MessagesController#index as HTML
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 163)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-06 20:32:48 +0900
RoomChannel stopped streaming from room_channel
Started POST "/auth/sign_in" for ::1 at 2024-05-06 20:32:56 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
Completed 401 Unauthorized in 366ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 1609)


Started POST "/auth/sign_in" for ::1 at 2024-05-06 20:33:02 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$UjrAQ71piv9RX8gOU95v1.pVKUENVxEXbaPr7xXwkBrCELI6s/QV2\",\"expiry\":1716204782}}"], ["updated_at", "2024-05-06 11:33:02.497238"], ["id", 3]]
  [1m[35m (9.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"expiry\":1716204782,\"previous_token\":\"$2a$10$UjrAQ71piv9RX8gOU95v1.pVKUENVxEXbaPr7xXwkBrCELI6s/QV2\",\"updated_at\":\"2024-05-06T11:33:02Z\"}}"], ["updated_at", "2024-05-06 11:33:02.652001"], ["id", 3]]
  [1m[35m (9.3ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 621ms (Views: 0.2ms | ActiveRecord: 21.2ms | Allocations: 19055)


Started GET "/auth/validate_token" for ::1 at 2024-05-06 20:33:02 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 97ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 7892)


Started GET "/cable" for ::1 at 2024-05-06 20:33:02 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-06 20:33:02 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-06 20:33:02 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 24ms (Views: 1.9ms | ActiveRecord: 1.4ms | Allocations: 13405)


Started DELETE "/messages/undefined" for ::1 at 2024-05-06 20:33:14 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"id"=>"undefined"}
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:25:in `destroy'
Completed 404 Not Found in 2ms (ActiveRecord: 0.1ms | Allocations: 615)


  
ActiveRecord::RecordNotFound (Couldn't find Message with 'id'=undefined):
  
app/controllers/messages_controller.rb:25:in `destroy'
Finished "/cable/" [WebSocket] for ::1 at 2024-05-06 20:34:38 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-06 20:34:39 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"expiry\":1716204879,\"previous_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"last_token\":\"$2a$10$UjrAQ71piv9RX8gOU95v1.pVKUENVxEXbaPr7xXwkBrCELI6s/QV2\",\"updated_at\":\"2024-05-06T11:34:39Z\"}}"], ["updated_at", "2024-05-06 11:34:39.504524"], ["id", 3]]
  [1m[35m (23.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 278ms (Views: 0.7ms | ActiveRecord: 25.9ms | Allocations: 10181)


Started GET "/cable" for ::1 at 2024-05-06 20:34:39 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-06 20:34:39 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-06 20:34:39 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.9ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 279ms (Views: 14.7ms | ActiveRecord: 3.4ms | Allocations: 13436)


Started DELETE "/messages/27" for ::1 at 2024-05-06 20:34:42 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"id"=>"27"}
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 27], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:25:in `destroy'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:27:in `destroy'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/messages_controller.rb:28:in `destroy'
  [1m[36mMessage Destroy (0.4ms)[0m  [1m[31mDELETE FROM "messages" WHERE "messages"."id" = ?[0m  [["id", 27]]
  ↳ app/controllers/messages_controller.rb:28:in `destroy'
  [1m[35m (16.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/messages_controller.rb:28:in `destroy'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"expiry\":1716204879,\"previous_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"last_token\":\"$2a$10$UjrAQ71piv9RX8gOU95v1.pVKUENVxEXbaPr7xXwkBrCELI6s/QV2\",\"updated_at\":\"2024-05-06T11:34:42Z\"}}"], ["updated_at", "2024-05-06 11:34:42.564992"], ["id", 3]]
  [1m[35m (8.9ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 164ms (ActiveRecord: 26.9ms | Allocations: 13917)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-06 20:34:42 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 156ms (Views: 3.3ms | ActiveRecord: 1.9ms | Allocations: 13765)


Started GET "/auth/validate_token" for ::1 at 2024-05-07 02:27:35 +0900
  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:35Z\"}}"], ["updated_at", "2024-05-06 17:27:35.407130"], ["id", 3]]
  [1m[35m (7.9ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 191ms (Views: 0.3ms | ActiveRecord: 11.0ms | Allocations: 17034)


Started GET "/auth/validate_token" for ::1 at 2024-05-07 02:27:35 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 166ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 7992)


Started GET "/cable" for ::1 at 2024-05-07 02:27:35 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-07 02:27:35 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-07 02:27:35 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"X5b-89et2hmHMS6YzKdFwQ\":{\"token\":\"$2a$10$5lTQHsjgzOxIUfTUpT4d1O3RJ3CXr3IGT1xY4f0H/u35aM5vVAfdm\",\"expiry\":1716003565,\"previous_token\":\"$2a$10$5m2QNcwrbM1pA.4cbCaQ0e8UZXZaPQZF95aqaqATzztNZEeNSHhNS\",\"last_token\":\"$2a$10$EfKSK2SJDkUHxal2srgIGej7pVu.3O.vSBiV5Y4QeHQdqminngtlS\",\"updated_at\":\"2024-05-04T03:39:25Z\"},\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"}}"], ["updated_at", "2024-05-06 17:27:36.017198"], ["id", 3]]
  [1m[35m (7.9ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 202ms (Views: 1.0ms | ActiveRecord: 9.8ms | Allocations: 26397)


Started DELETE "/messages/25" for ::1 at 2024-05-07 02:27:42 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"id"=>"25"}
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:25:in `destroy'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:27:in `destroy'
Completed 500 Internal Server Error in 120ms (ActiveRecord: 0.8ms | Allocations: 2105)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/messages_controller.rb:27:in `destroy'
Started DELETE "/messages/26" for ::1 at 2024-05-07 02:28:19 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"id"=>"26"}
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:25:in `destroy'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:27:in `destroy'
Completed 500 Internal Server Error in 105ms (ActiveRecord: 0.2ms | Allocations: 2017)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/messages_controller.rb:27:in `destroy'
Started DELETE "/auth/sign_out" for ::1 at 2024-05-07 02:28:31 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 115ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 8027)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-07 02:28:36 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-07 02:28:36 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 99ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 1433)


Started POST "/auth/sign_in" for ::1 at 2024-05-07 02:28:54 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
Completed 401 Unauthorized in 204ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 2017)


Started POST "/auth/sign_in" for ::1 at 2024-05-07 02:28:56 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
Completed 401 Unauthorized in 196ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1603)


Started POST "/auth/sign_in" for ::1 at 2024-05-07 02:29:00 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$LpGIg5vYXGBf2P2a/LzgG.9EJ5KEyjqGODmuzHBVZYhLQ61sLwi6K\",\"expiry\":1716226140}}"], ["updated_at", "2024-05-06 17:29:00.821968"], ["id", 3]]
  [1m[35m (9.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"expiry\":1716226140,\"previous_token\":\"$2a$10$LpGIg5vYXGBf2P2a/LzgG.9EJ5KEyjqGODmuzHBVZYhLQ61sLwi6K\",\"updated_at\":\"2024-05-06T17:29:00Z\"}}"], ["updated_at", "2024-05-06 17:29:00.891643"], ["id", 3]]
  [1m[35m (8.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 339ms (Views: 0.1ms | ActiveRecord: 20.2ms | Allocations: 18841)


Started GET "/auth/validate_token" for ::1 at 2024-05-07 02:29:00 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 54ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 8094)


Started GET "/cable" for ::1 at 2024-05-07 02:29:01 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-07 02:29:01 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-07 02:29:01 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"expiry\":1716226140,\"previous_token\":\"$2a$10$LpGIg5vYXGBf2P2a/LzgG.9EJ5KEyjqGODmuzHBVZYhLQ61sLwi6K\",\"updated_at\":\"2024-05-06T17:29:01Z\"}}"], ["updated_at", "2024-05-06 17:29:01.061863"], ["id", 3]]
  [1m[35m (8.3ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 31ms (Views: 0.9ms | ActiveRecord: 9.6ms | Allocations: 15775)


Started DELETE "/messages/25" for ::1 at 2024-05-07 02:29:04 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"id"=>"25"}
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:25:in `destroy'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:27:in `destroy'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/messages_controller.rb:28:in `destroy'
  [1m[36mMessage Destroy (1.4ms)[0m  [1m[31mDELETE FROM "messages" WHERE "messages"."id" = ?[0m  [["id", 25]]
  ↳ app/controllers/messages_controller.rb:28:in `destroy'
  [1m[35m (6.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/messages_controller.rb:28:in `destroy'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"expiry\":1716226140,\"previous_token\":\"$2a$10$LpGIg5vYXGBf2P2a/LzgG.9EJ5KEyjqGODmuzHBVZYhLQ61sLwi6K\",\"updated_at\":\"2024-05-06T17:29:04Z\"}}"], ["updated_at", "2024-05-06 17:29:04.873706"], ["id", 3]]
  [1m[35m (7.9ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 32ms (ActiveRecord: 17.0ms | Allocations: 13905)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-07 02:29:04 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 12ms (Views: 1.1ms | ActiveRecord: 0.7ms | Allocations: 13045)


Started DELETE "/messages/15" for ::1 at 2024-05-07 02:29:09 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"id"=>"15"}
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:25:in `destroy'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:27:in `destroy'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/messages_controller.rb:28:in `destroy'
  [1m[36mMessage Destroy (0.7ms)[0m  [1m[31mDELETE FROM "messages" WHERE "messages"."id" = ?[0m  [["id", 15]]
  ↳ app/controllers/messages_controller.rb:28:in `destroy'
  [1m[35m (13.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/messages_controller.rb:28:in `destroy'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"expiry\":1716226149,\"previous_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"last_token\":\"$2a$10$LpGIg5vYXGBf2P2a/LzgG.9EJ5KEyjqGODmuzHBVZYhLQ61sLwi6K\",\"updated_at\":\"2024-05-06T17:29:09Z\"}}"], ["updated_at", "2024-05-06 17:29:09.458403"], ["id", 3]]
  [1m[35m (8.1ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 97ms (ActiveRecord: 23.3ms | Allocations: 14000)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-07 02:29:09 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 63ms (Views: 0.9ms | ActiveRecord: 0.8ms | Allocations: 12900)


Started DELETE "/messages/26" for ::1 at 2024-05-07 02:29:13 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"id"=>"26"}
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:25:in `destroy'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:27:in `destroy'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/messages_controller.rb:28:in `destroy'
  [1m[36mMessage Destroy (0.3ms)[0m  [1m[31mDELETE FROM "messages" WHERE "messages"."id" = ?[0m  [["id", 26]]
  ↳ app/controllers/messages_controller.rb:28:in `destroy'
  [1m[35m (8.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/messages_controller.rb:28:in `destroy'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"expiry\":1716226149,\"previous_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"last_token\":\"$2a$10$LpGIg5vYXGBf2P2a/LzgG.9EJ5KEyjqGODmuzHBVZYhLQ61sLwi6K\",\"updated_at\":\"2024-05-06T17:29:13Z\"}}"], ["updated_at", "2024-05-06 17:29:13.557928"], ["id", 3]]
  [1m[35m (7.1ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 104ms (ActiveRecord: 17.0ms | Allocations: 13600)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-07 02:29:13 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 63ms (Views: 0.8ms | ActiveRecord: 0.7ms | Allocations: 12704)


Started DELETE "/messages/11" for ::1 at 2024-05-07 02:30:47 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"id"=>"11"}
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:25:in `destroy'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:27:in `destroy'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/messages_controller.rb:28:in `destroy'
  [1m[36mMessage Destroy (0.3ms)[0m  [1m[31mDELETE FROM "messages" WHERE "messages"."id" = ?[0m  [["id", 11]]
  ↳ app/controllers/messages_controller.rb:28:in `destroy'
  [1m[35m (7.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/messages_controller.rb:28:in `destroy'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:47Z\"}}"], ["updated_at", "2024-05-06 17:30:47.966740"], ["id", 3]]
  [1m[35m (7.4ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 145ms (ActiveRecord: 16.3ms | Allocations: 13813)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-07 02:30:47 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"zP0bDzbY5JtFInhlHgL4lQ\":{\"token\":\"$2a$10$Y8FW/5E.J76WFoiEafyMt.h5saj8.uMH47Fm6zRgHGI1aeTd0d692\",\"expiry\":1716182862,\"previous_token\":\"$2a$10$/zZ7j6EN2/yzUmBxbDhbCu7hvgnNwgTqArs106iXJGWl9itOs7s7q\",\"last_token\":\"$2a$10$s.fIjX90gY4asx.SBpfLBOXLGsoUR3Wh0ihcZt/lx4rdRVumB2Tb2\",\"updated_at\":\"2024-05-06T05:27:42Z\"},\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"}}"], ["updated_at", "2024-05-06 17:30:48.160030"], ["id", 3]]
  [1m[35m (8.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 174ms (Views: 0.8ms | ActiveRecord: 8.8ms | Allocations: 15612)


Started DELETE "/messages/22" for ::1 at 2024-05-07 02:30:56 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"id"=>"22"}
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:25:in `destroy'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:27:in `destroy'
Completed 500 Internal Server Error in 108ms (ActiveRecord: 0.3ms | Allocations: 1959)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/messages_controller.rb:27:in `destroy'
Finished "/cable/" [WebSocket] for ::1 at 2024-05-07 02:31:03 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-07 02:31:03 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 100ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1427)


Started GET "/cable" for ::1 at 2024-05-07 02:31:03 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-07 02:31:03 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-07 02:31:03 +0900
Processing by MessagesController#index as HTML
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 173)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-07 02:31:05 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 184)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-07 02:31:06 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 184)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-07 02:31:07 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 184)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-07 02:31:07 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 184)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-07 02:31:07 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 184)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-07 02:31:07 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 184)


RoomChannel#receive({"message"=>"opp", "email"=>nil})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"RoomChannel\"}", "data"=>"{\"message\":\"opp\",\"email\":null,\"action\":\"receive\"}"}) [NoMethodError - undefined method `id' for nil:NilClass]: /home/toryoto/chat/backend/app/channels/room_channel.rb:13:in `receive' | /home/toryoto/chat/backend/vendor/bundle/ruby/2.7.0/gems/actioncable-6.0.6.1/lib/action_cable/channel/base.rb:268:in `public_send' | /home/toryoto/chat/backend/vendor/bundle/ruby/2.7.0/gems/actioncable-6.0.6.1/lib/action_cable/channel/base.rb:268:in `dispatch_action' | /home/toryoto/chat/backend/vendor/bundle/ruby/2.7.0/gems/actioncable-6.0.6.1/lib/action_cable/channel/base.rb:170:in `block in perform_action' | /home/toryoto/chat/backend/vendor/bundle/ruby/2.7.0/gems/activesupport-6.0.6.1/lib/active_support/notifications.rb:182:in `instrument'
Finished "/cable/" [WebSocket] for ::1 at 2024-05-07 02:31:15 +0900
RoomChannel stopped streaming from room_channel
Started POST "/auth/sign_in" for ::1 at 2024-05-07 02:31:28 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$DIYqtTiw3QBX8Bi/uUQhHOGA46WadsC2qe2AUjTbiw7vn8BmmXUOK\",\"expiry\":1716226288}}"], ["updated_at", "2024-05-06 17:31:28.571748"], ["id", 3]]
  [1m[35m (7.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"expiry\":1716226288,\"previous_token\":\"$2a$10$DIYqtTiw3QBX8Bi/uUQhHOGA46WadsC2qe2AUjTbiw7vn8BmmXUOK\",\"updated_at\":\"2024-05-06T17:31:28Z\"}}"], ["updated_at", "2024-05-06 17:31:28.638747"], ["id", 3]]
  [1m[35m (8.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 342ms (Views: 0.2ms | ActiveRecord: 18.1ms | Allocations: 18768)


Started GET "/auth/validate_token" for ::1 at 2024-05-07 02:31:28 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 55ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 8094)


Started GET "/cable" for ::1 at 2024-05-07 02:31:28 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-07 02:31:28 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-07 02:31:28 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 12ms (Views: 0.8ms | ActiveRecord: 1.0ms | Allocations: 12497)


Started DELETE "/messages/3" for ::1 at 2024-05-07 02:34:37 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"id"=>"3"}
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:25:in `destroy'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:27:in `destroy'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"expiry\":1716226477,\"previous_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"last_token\":\"$2a$10$DIYqtTiw3QBX8Bi/uUQhHOGA46WadsC2qe2AUjTbiw7vn8BmmXUOK\",\"updated_at\":\"2024-05-06T17:34:37Z\"}}"], ["updated_at", "2024-05-06 17:34:37.828095"], ["id", 3]]
  [1m[35m (8.5ms)[0m  [1m[36mcommit transaction[0m
Completed 401 Unauthorized in 81ms (Views: 0.4ms | ActiveRecord: 10.0ms | Allocations: 9951)


Started DELETE "/messages/7" for ::1 at 2024-05-07 02:34:43 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"id"=>"7"}
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:25:in `destroy'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:27:in `destroy'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/messages_controller.rb:28:in `destroy'
  [1m[36mMessage Destroy (0.2ms)[0m  [1m[31mDELETE FROM "messages" WHERE "messages"."id" = ?[0m  [["id", 7]]
  ↳ app/controllers/messages_controller.rb:28:in `destroy'
  [1m[35m (8.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/messages_controller.rb:28:in `destroy'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2veH4e253kgaFQG3iENiZA\":{\"token\":\"$2a$10$gcylIH8.HfHs9n50A8Hl7O/r0jNHLh1xHpW2DWd7aDPRNl4fA.qFG\",\"expiry\":1716198377,\"previous_token\":\"$2a$10$CtvClKbhI26ZjSiW5gPlSeKiPCvfAzqenMNWN3lQiVnVmAVcp7kCi\",\"last_token\":\"$2a$10$.xlezBnrldVpidCDGVNxMeRqqxPHyRikFlVxocyv65oOONhewduQm\",\"updated_at\":\"2024-05-06T09:46:16Z\"},\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"}}"], ["updated_at", "2024-05-06 17:34:43.267001"], ["id", 3]]
  [1m[35m (8.0ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 143ms (ActiveRecord: 17.3ms | Allocations: 13700)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-07 02:34:43 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 153ms (Views: 0.9ms | ActiveRecord: 0.8ms | Allocations: 12919)


Started DELETE "/messages/22" for ::1 at 2024-05-07 02:34:53 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"id"=>"22"}
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:25:in `destroy'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:27:in `destroy'
Completed 500 Internal Server Error in 111ms (ActiveRecord: 0.4ms | Allocations: 1960)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/messages_controller.rb:27:in `destroy'
Finished "/cable/" [WebSocket] for ::1 at 2024-05-07 02:34:59 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-07 02:34:59 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 109ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 1428)


Started GET "/cable" for ::1 at 2024-05-07 02:34:59 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-07 02:34:59 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-07 02:34:59 +0900
Processing by MessagesController#index as HTML
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 163)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-07 02:35:00 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 184)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-07 02:35:03 +0900
RoomChannel stopped streaming from room_channel
Started POST "/auth/sign_in" for ::1 at 2024-05-07 02:35:12 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$8.acu.AnWC05kDn7IF6dVuq9d7U/7JiHjPD.n2VdKZdytSw/1MIB6\",\"expiry\":1716226512}}"], ["updated_at", "2024-05-06 17:35:12.508986"], ["id", 3]]
  [1m[35m (7.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"expiry\":1716226512,\"previous_token\":\"$2a$10$8.acu.AnWC05kDn7IF6dVuq9d7U/7JiHjPD.n2VdKZdytSw/1MIB6\",\"updated_at\":\"2024-05-06T17:35:12Z\"}}"], ["updated_at", "2024-05-06 17:35:12.573207"], ["id", 3]]
  [1m[35m (8.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 326ms (Views: 0.1ms | ActiveRecord: 16.7ms | Allocations: 18768)


Started GET "/auth/validate_token" for ::1 at 2024-05-07 02:35:12 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 54ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 8092)


Started GET "/cable" for ::1 at 2024-05-07 02:35:12 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-07 02:35:12 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-07 02:35:12 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 17ms (Views: 1.0ms | ActiveRecord: 1.1ms | Allocations: 12328)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-07 02:44:49 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-07 02:44:49 +0900
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"expiry\":1716227089,\"previous_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"last_token\":\"$2a$10$8.acu.AnWC05kDn7IF6dVuq9d7U/7JiHjPD.n2VdKZdytSw/1MIB6\",\"updated_at\":\"2024-05-06T17:44:49Z\"}}"], ["updated_at", "2024-05-06 17:44:49.628987"], ["id", 3]]
  [1m[35m (9.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 72ms (Views: 0.2ms | ActiveRecord: 9.8ms | Allocations: 9895)


Started GET "/cable" for ::1 at 2024-05-07 02:44:49 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-07 02:44:49 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-07 02:44:49 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 70ms (Views: 0.8ms | ActiveRecord: 1.2ms | Allocations: 12331)


Started GET "/auth/validate_token" for ::1 at 2024-05-07 02:46:44 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:44Z\"}}"], ["updated_at", "2024-05-06 17:46:44.651598"], ["id", 3]]
  [1m[35m (7.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 118ms (Views: 0.1ms | ActiveRecord: 9.5ms | Allocations: 10208)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-07 02:46:47 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-07 02:46:47 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"lsb8haRarFFROHaPSZ1xYw\":{\"token\":\"$2a$10$LGJjv.ekskYyrPGz3zeF8OKIp/2fqb2/GNLXhfVcWrIZJpeiomYNq\",\"expiry\":1716201039,\"previous_token\":\"$2a$10$/mgmUQHHpwwPRFIArpnalejUwKjEr2n7x//AwcPdLs26de9k9uhiq\",\"last_token\":\"$2a$10$wJLB3XKHjaVjxTjyNh.ZOuikk.l4Ezqxmdd2CPzSYfWGfwU8BZFZ6\",\"updated_at\":\"2024-05-06T10:30:39Z\"},\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"}}"], ["updated_at", "2024-05-06 17:46:48.141067"], ["id", 3]]
  [1m[35m (7.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 178ms (Views: 0.1ms | ActiveRecord: 9.0ms | Allocations: 10213)


Started GET "/auth/validate_token" for ::1 at 2024-05-07 02:46:48 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 154ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 8068)


Started GET "/cable" for ::1 at 2024-05-07 02:46:48 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-07 02:46:48 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-07 02:46:48 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 159ms (Views: 0.8ms | ActiveRecord: 0.7ms | Allocations: 12446)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-07 02:57:58 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-07 02:57:58 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 103ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1470)


Started GET "/cable" for ::1 at 2024-05-07 02:57:58 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-07 02:57:58 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-07 02:57:58 +0900
Processing by MessagesController#index as HTML
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 163)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-07 03:04:08 +0900
RoomChannel stopped streaming from room_channel
Started POST "/auth/sign_in" for ::1 at 2024-05-07 03:04:15 +0900
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$wQQCmLXb7giZQF.f/iO2oeZXcVE.cUErlyYbZVhqbB7u6eroZDccC\",\"expiry\":1716228255}}"], ["updated_at", "2024-05-06 18:04:15.907632"], ["id", 3]]
  [1m[35m (8.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"expiry\":1716228255,\"previous_token\":\"$2a$10$wQQCmLXb7giZQF.f/iO2oeZXcVE.cUErlyYbZVhqbB7u6eroZDccC\",\"updated_at\":\"2024-05-06T18:04:15Z\"}}"], ["updated_at", "2024-05-06 18:04:15.998290"], ["id", 3]]
  [1m[35m (8.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 390ms (Views: 0.9ms | ActiveRecord: 22.5ms | Allocations: 18896)


Started GET "/auth/validate_token" for ::1 at 2024-05-07 03:04:16 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"expiry\":1716228255,\"previous_token\":\"$2a$10$wQQCmLXb7giZQF.f/iO2oeZXcVE.cUErlyYbZVhqbB7u6eroZDccC\",\"updated_at\":\"2024-05-06T18:04:16Z\"}}"], ["updated_at", "2024-05-06 18:04:16.085966"], ["id", 3]]
  [1m[35m (12.7ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 80ms (Views: 0.2ms | ActiveRecord: 14.2ms | Allocations: 10208)


Started GET "/cable" for ::1 at 2024-05-07 03:04:16 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-07 03:04:16 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-07 03:04:16 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 31ms (Views: 3.1ms | ActiveRecord: 1.4ms | Allocations: 12329)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-07 03:05:09 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-07 03:05:09 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"expiry\":1716228309,\"previous_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"last_token\":\"$2a$10$wQQCmLXb7giZQF.f/iO2oeZXcVE.cUErlyYbZVhqbB7u6eroZDccC\",\"updated_at\":\"2024-05-06T18:05:09Z\"}}"], ["updated_at", "2024-05-06 18:05:09.388420"], ["id", 3]]
  [1m[35m (10.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 85ms (Views: 0.4ms | ActiveRecord: 11.7ms | Allocations: 9812)


Started GET "/cable" for ::1 at 2024-05-07 03:05:09 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-07 03:05:09 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-07 03:05:09 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 80ms (Views: 3.6ms | ActiveRecord: 2.2ms | Allocations: 12625)


RoomChannel#receive({"message"=>"ffff", "email"=>"test@test.com"})
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mMessage Create (2.0ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["content", "ffff"], ["created_at", "2024-05-06 18:05:12.352780"], ["updated_at", "2024-05-06 18:05:12.352780"]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (8.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>"ffff", :name=>"test001", :created_at=>Mon, 06 May 2024 18:05:12 UTC +00:00}
RoomChannel transmitting {"message"=>"ffff", "name"=>"test001", "created_at"=>"2024-05-06T18:05:12.352Z"} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-07 03:05:12 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (2.5ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"expiry\":1716228309,\"previous_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"last_token\":\"$2a$10$wQQCmLXb7giZQF.f/iO2oeZXcVE.cUErlyYbZVhqbB7u6eroZDccC\",\"updated_at\":\"2024-05-06T18:05:12Z\"}}"], ["updated_at", "2024-05-06 18:05:12.444404"], ["id", 3]]
  [1m[35m (8.7ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 88ms (Views: 1.5ms | ActiveRecord: 12.4ms | Allocations: 15367)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-07 03:07:53 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-07 03:07:54 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"YLSDN0A1O1iSL4TftMGGMw\":{\"token\":\"$2a$10$aFpA5sj.fdf4zoWO3P0LXuGnHRVGi3JqCAlPW3nyHBfcba8HeYaEO\",\"expiry\":1716201098,\"previous_token\":\"$2a$10$k4FvAWbii9r.vz3bOB2T1ev0BZkt46h3xmdoqo7Qu9rAFKwaM/AIC\",\"last_token\":\"$2a$10$ZTdVrYnZIbHneHvqMMazs.8R9drXD.vS3GOGVoTXbZB4HPLuioCL2\",\"updated_at\":\"2024-05-06T10:31:38Z\"},\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"}}"], ["updated_at", "2024-05-06 18:07:54.351327"], ["id", 3]]
  [1m[35m (10.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 143ms (Views: 0.2ms | ActiveRecord: 11.9ms | Allocations: 10215)


Started GET "/cable" for ::1 at 2024-05-07 03:07:54 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-07 03:07:54 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-07 03:07:54 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 169ms (Views: 1.7ms | ActiveRecord: 1.6ms | Allocations: 12912)


Started POST "/messages/29/likes" for ::1 at 2024-05-07 03:08:02 +0900
Processing by LikesController#create as HTML
  Parameters: {"id"=>"29", "like"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 98ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1461)


Started POST "/messages/29/likes" for ::1 at 2024-05-07 03:08:06 +0900
Processing by LikesController#create as HTML
  Parameters: {"id"=>"29", "like"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 98ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 1421)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-07 03:08:17 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 103ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 1437)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-07 03:08:19 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-07 03:08:19 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 99ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1427)


Started GET "/cable" for ::1 at 2024-05-07 03:08:19 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-07 03:08:19 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-07 03:08:19 +0900
Processing by MessagesController#index as HTML
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 163)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-07 03:08:22 +0900
RoomChannel stopped streaming from room_channel
Started POST "/auth/sign_in" for ::1 at 2024-05-07 03:08:31 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"H-h1UfwWs3b_KXyHgQp9Lg\":{\"token\":\"$2a$10$rN/1MTpExH5.Y7SuGdwUkuknZRf8BLZhA.53uHruQNzWPgKJmC1Ea\",\"expiry\":1716228511}}"], ["updated_at", "2024-05-06 18:08:31.880653"], ["id", 3]]
  [1m[35m (9.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"H-h1UfwWs3b_KXyHgQp9Lg\":{\"token\":\"$2a$10$W51JICrO7/NPMRxqJetgLeWcFSMAMnkEpY7imzcJt5hn0z22WChQK\",\"expiry\":1716228511,\"previous_token\":\"$2a$10$rN/1MTpExH5.Y7SuGdwUkuknZRf8BLZhA.53uHruQNzWPgKJmC1Ea\",\"updated_at\":\"2024-05-06T18:08:31Z\"}}"], ["updated_at", "2024-05-06 18:08:31.951430"], ["id", 3]]
  [1m[35m (8.7ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 325ms (Views: 0.3ms | ActiveRecord: 20.1ms | Allocations: 18411)


Started GET "/auth/validate_token" for ::1 at 2024-05-07 03:08:31 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"H-h1UfwWs3b_KXyHgQp9Lg\":{\"token\":\"$2a$10$W51JICrO7/NPMRxqJetgLeWcFSMAMnkEpY7imzcJt5hn0z22WChQK\",\"expiry\":1716228511,\"previous_token\":\"$2a$10$rN/1MTpExH5.Y7SuGdwUkuknZRf8BLZhA.53uHruQNzWPgKJmC1Ea\",\"updated_at\":\"2024-05-06T18:08:32Z\"}}"], ["updated_at", "2024-05-06 18:08:32.026880"], ["id", 3]]
  [1m[35m (8.3ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 68ms (Views: 0.2ms | ActiveRecord: 8.9ms | Allocations: 10615)


Started GET "/cable" for ::1 at 2024-05-07 03:08:32 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-07 03:08:32 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-07 03:08:32 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 25ms (Views: 1.1ms | ActiveRecord: 1.5ms | Allocations: 12731)


Started POST "/messages/29/likes" for ::1 at 2024-05-07 03:08:34 +0900
Processing by LikesController#create as HTML
  Parameters: {"id"=>"29", "like"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mLike Create (1.8ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "message_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["message_id", 29], ["created_at", "2024-05-06 18:08:34.886992"], ["updated_at", "2024-05-06 18:08:34.886992"]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[35m (9.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"H-h1UfwWs3b_KXyHgQp9Lg\":{\"token\":\"$2a$10$W51JICrO7/NPMRxqJetgLeWcFSMAMnkEpY7imzcJt5hn0z22WChQK\",\"expiry\":1716228511,\"previous_token\":\"$2a$10$rN/1MTpExH5.Y7SuGdwUkuknZRf8BLZhA.53uHruQNzWPgKJmC1Ea\",\"updated_at\":\"2024-05-06T18:08:34Z\"}}"], ["updated_at", "2024-05-06 18:08:34.910098"], ["id", 3]]
  [1m[35m (8.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 50ms (Views: 0.2ms | ActiveRecord: 20.6ms | Allocations: 16345)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-07 03:08:34 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 14ms (Views: 0.9ms | ActiveRecord: 1.4ms | Allocations: 12562)


Started DELETE "/messages/29" for ::1 at 2024-05-07 03:10:29 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"id"=>"29"}
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:25:in `destroy'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:27:in `destroy'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/messages_controller.rb:28:in `destroy'
  [1m[36mMessage Destroy (1.7ms)[0m  [1m[31mDELETE FROM "messages" WHERE "messages"."id" = ?[0m  [["id", 29]]
  ↳ app/controllers/messages_controller.rb:28:in `destroy'
  [1m[35m (7.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/messages_controller.rb:28:in `destroy'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"H-h1UfwWs3b_KXyHgQp9Lg\":{\"token\":\"$2a$10$ipn1cMX8Dfqs3P6lQEet1.icuIv8RdUoGVzQkEp3TWU7cP09PIpa.\",\"expiry\":1716228630,\"previous_token\":\"$2a$10$W51JICrO7/NPMRxqJetgLeWcFSMAMnkEpY7imzcJt5hn0z22WChQK\",\"last_token\":\"$2a$10$rN/1MTpExH5.Y7SuGdwUkuknZRf8BLZhA.53uHruQNzWPgKJmC1Ea\",\"updated_at\":\"2024-05-06T18:10:29Z\"}}"], ["updated_at", "2024-05-06 18:10:30.025498"], ["id", 3]]
  [1m[35m (7.2ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 88ms (ActiveRecord: 17.5ms | Allocations: 13650)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-07 03:10:30 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.5ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"H-h1UfwWs3b_KXyHgQp9Lg\":{\"token\":\"$2a$10$ipn1cMX8Dfqs3P6lQEet1.icuIv8RdUoGVzQkEp3TWU7cP09PIpa.\",\"expiry\":1716228630,\"previous_token\":\"$2a$10$W51JICrO7/NPMRxqJetgLeWcFSMAMnkEpY7imzcJt5hn0z22WChQK\",\"last_token\":\"$2a$10$rN/1MTpExH5.Y7SuGdwUkuknZRf8BLZhA.53uHruQNzWPgKJmC1Ea\",\"updated_at\":\"2024-05-06T18:10:30Z\"}}"], ["updated_at", "2024-05-06 18:10:30.149175"], ["id", 3]]
  [1m[35m (7.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 87ms (Views: 1.3ms | ActiveRecord: 10.0ms | Allocations: 14870)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-07 03:12:41 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"}}"], ["updated_at", "2024-05-06 18:12:41.811158"], ["id", 3]]
  [1m[35m (6.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 73ms (Views: 0.2ms | ActiveRecord: 8.0ms | Allocations: 6381)


Unsubscribing from channel: {"channel":"RoomChannel"}
RoomChannel stopped streaming from room_channel
Started GET "/cable" for ::1 at 2024-05-07 03:15:00 +0900
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-07 03:15:00 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started POST "/auth/sign_in" for ::1 at 2024-05-07 03:23:20 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$npm017SLWRGCnODWnfQ4x.XzsH4ryCNz6iKZ6Sy67jLAWM2totvEe\",\"expiry\":1716229400}}"], ["updated_at", "2024-05-06 18:23:20.421892"], ["id", 3]]
  [1m[35m (8.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"expiry\":1716229400,\"previous_token\":\"$2a$10$npm017SLWRGCnODWnfQ4x.XzsH4ryCNz6iKZ6Sy67jLAWM2totvEe\",\"updated_at\":\"2024-05-06T18:23:20Z\"}}"], ["updated_at", "2024-05-06 18:23:20.508744"], ["id", 3]]
  [1m[35m (7.7ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 419ms (Views: 0.2ms | ActiveRecord: 18.7ms | Allocations: 25592)


Started GET "/auth/validate_token" for ::1 at 2024-05-07 03:23:20 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 73ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 7866)


Started GET "/cable" for ::1 at 2024-05-07 03:23:20 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-07 03:23:20 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-07 03:23:20 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 46ms (Views: 1.4ms | ActiveRecord: 2.0ms | Allocations: 22414)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-07 03:23:51 +0900
Finished "/cable/" [WebSocket] for ::1 at 2024-05-07 03:23:51 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-07 03:23:51 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"expiry\":1716229431,\"previous_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"last_token\":\"$2a$10$npm017SLWRGCnODWnfQ4x.XzsH4ryCNz6iKZ6Sy67jLAWM2totvEe\",\"updated_at\":\"2024-05-06T18:23:51Z\"}}"], ["updated_at", "2024-05-06 18:23:51.495385"], ["id", 3]]
  [1m[35m (7.7ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 92ms (Views: 0.2ms | ActiveRecord: 8.8ms | Allocations: 10298)


Started GET "/cable" for ::1 at 2024-05-07 03:23:51 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-07 03:23:51 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-07 03:23:51 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 83ms (Views: 1.0ms | ActiveRecord: 0.9ms | Allocations: 12631)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-07 03:26:05 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-07 03:26:06 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.9ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"3MjDXwoOGd6H29aNzYi27Q\":{\"token\":\"$2a$10$mcfFGY.Pvp60cYcMTK9NFeLyAeET5bHX/FkzH5vD8YK3.h90WkPNe\",\"expiry\":1716203789,\"previous_token\":\"$2a$10$dFMOkHxChwKVwV0sHEBKhe3srbpOLKlUxYee6BLeIhONoi6I4XnLK\",\"last_token\":\"$2a$10$.cLJoyFvcD/OGXkFQ9U/5uhiViNhyP.0cT4sborYCt1ctSOjoa7MC\",\"updated_at\":\"2024-05-06T11:16:29Z\"},\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"}}"], ["updated_at", "2024-05-06 18:26:06.389180"], ["id", 3]]
  [1m[35m (10.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 127ms (Views: 0.2ms | ActiveRecord: 12.5ms | Allocations: 10211)


Started GET "/cable" for ::1 at 2024-05-07 03:26:06 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-07 03:26:06 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-07 03:26:06 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 168ms (Views: 0.8ms | ActiveRecord: 0.7ms | Allocations: 12878)


RoomChannel#receive({"message"=>"v", "email"=>"test@test.com"})
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mMessage Create (2.5ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["content", "v"], ["created_at", "2024-05-06 18:27:40.261789"], ["updated_at", "2024-05-06 18:27:40.261789"]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (7.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>"v", :name=>"test001", :created_at=>Mon, 06 May 2024 18:27:40 UTC +00:00}
RoomChannel transmitting {"message"=>"v", "name"=>"test001", "created_at"=>"2024-05-06T18:27:40.261Z"} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-07 03:27:40 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 111ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 7971)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-07 03:27:44 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-07 03:27:44 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 98ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 1451)


Started GET "/cable" for ::1 at 2024-05-07 03:27:44 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-07 03:27:44 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-07 03:27:44 +0900
Processing by MessagesController#index as HTML
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 163)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-07 03:27:47 +0900
RoomChannel stopped streaming from room_channel
Started POST "/auth/sign_in" for ::1 at 2024-05-07 03:27:57 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
Completed 401 Unauthorized in 202ms (Views: 0.1ms | ActiveRecord: 2.4ms | Allocations: 1626)


Started POST "/auth/sign_in" for ::1 at 2024-05-07 03:28:02 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$KcU6Ohm8REFfRxxIkzDj9efy2Z3vrRCC3WpUHRxL8//.DYM89H4jC\",\"expiry\":1716229682}}"], ["updated_at", "2024-05-06 18:28:02.526177"], ["id", 3]]
  [1m[35m (7.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"expiry\":1716229682,\"previous_token\":\"$2a$10$KcU6Ohm8REFfRxxIkzDj9efy2Z3vrRCC3WpUHRxL8//.DYM89H4jC\",\"updated_at\":\"2024-05-06T18:28:02Z\"}}"], ["updated_at", "2024-05-06 18:28:02.595933"], ["id", 3]]
  [1m[35m (8.7ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 329ms (Views: 0.1ms | ActiveRecord: 17.8ms | Allocations: 18768)


Started GET "/auth/validate_token" for ::1 at 2024-05-07 03:28:02 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 53ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 8092)


Started GET "/cable" for ::1 at 2024-05-07 03:28:02 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-07 03:28:02 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-07 03:28:02 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 14ms (Views: 0.9ms | ActiveRecord: 0.9ms | Allocations: 12498)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-07 03:33:15 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-07 03:33:15 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"expiry\":1716229995,\"previous_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"last_token\":\"$2a$10$KcU6Ohm8REFfRxxIkzDj9efy2Z3vrRCC3WpUHRxL8//.DYM89H4jC\",\"updated_at\":\"2024-05-06T18:33:15Z\"}}"], ["updated_at", "2024-05-06 18:33:15.875410"], ["id", 3]]
  [1m[35m (6.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 90ms (Views: 0.3ms | ActiveRecord: 7.4ms | Allocations: 10175)


Started GET "/cable" for ::1 at 2024-05-07 03:33:15 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-07 03:33:15 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-07 03:33:15 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 63ms (Views: 0.8ms | ActiveRecord: 0.8ms | Allocations: 12528)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-07 03:36:59 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-07 03:36:59 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:36:59Z\"}}"], ["updated_at", "2024-05-06 18:36:59.682421"], ["id", 3]]
  [1m[35m (7.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 118ms (Views: 0.1ms | ActiveRecord: 8.4ms | Allocations: 10212)


Started GET "/auth/validate_token" for ::1 at 2024-05-07 03:36:59 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 149ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 7987)


Started GET "/cable" for ::1 at 2024-05-07 03:36:59 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-07 03:36:59 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-07 03:36:59 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"0QsPTOch7g3d0euQJ--t4Q\":{\"token\":\"$2a$10$UwSLx12HYFh53aiXZ5MHQuqRkqHx95RaCgqGCdrQv782QCDBQ1956\",\"expiry\":1716203956,\"previous_token\":\"$2a$10$.v52f0br2IsC2PTkxwumiudSnnJvzuss9Ykyh6ncAE9vb9qjWMAty\",\"last_token\":\"$2a$10$han4o014U6AIo6.mbtkc3O2qu.C5ASgfZGwQOQef.yBitH8hv9E2i\",\"updated_at\":\"2024-05-06T11:19:16Z\"},\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"}}"], ["updated_at", "2024-05-06 18:37:00.046291"], ["id", 3]]
  [1m[35m (8.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 164ms (Views: 0.9ms | ActiveRecord: 9.0ms | Allocations: 14707)


Started DELETE "/messages/30" for ::1 at 2024-05-07 03:37:13 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"id"=>"30"}
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:25:in `destroy'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:27:in `destroy'
Completed 500 Internal Server Error in 108ms (ActiveRecord: 0.3ms | Allocations: 2086)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/messages_controller.rb:27:in `destroy'
Started DELETE "/messages/30" for ::1 at 2024-05-07 03:37:14 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"id"=>"30"}
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:25:in `destroy'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:27:in `destroy'
Completed 500 Internal Server Error in 103ms (ActiveRecord: 0.2ms | Allocations: 2002)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/messages_controller.rb:27:in `destroy'
Started DELETE "/messages/30" for ::1 at 2024-05-07 03:37:14 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"id"=>"30"}
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:25:in `destroy'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:27:in `destroy'
Completed 500 Internal Server Error in 107ms (ActiveRecord: 0.2ms | Allocations: 1958)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/messages_controller.rb:27:in `destroy'
Started DELETE "/auth/sign_out" for ::1 at 2024-05-07 03:37:16 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 99ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1687)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-07 03:37:19 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-07 03:37:19 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 97ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 1427)


Started POST "/auth/sign_in" for ::1 at 2024-05-07 03:39:49 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$Z3ZcjaZQhPIqFEGh2UPQc.WPxSrdAkVKfeL6fVEPx0klADNkf3V2W\",\"expiry\":1716230389}}"], ["updated_at", "2024-05-06 18:39:49.481624"], ["id", 3]]
  [1m[35m (8.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"expiry\":1716230389,\"previous_token\":\"$2a$10$Z3ZcjaZQhPIqFEGh2UPQc.WPxSrdAkVKfeL6fVEPx0klADNkf3V2W\",\"updated_at\":\"2024-05-06T18:39:49Z\"}}"], ["updated_at", "2024-05-06 18:39:49.547388"], ["id", 3]]
  [1m[35m (8.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 334ms (Views: 0.2ms | ActiveRecord: 18.3ms | Allocations: 18801)


Started GET "/auth/validate_token" for ::1 at 2024-05-07 03:39:49 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 54ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 8094)


Started GET "/cable" for ::1 at 2024-05-07 03:39:49 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-07 03:39:49 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-07 03:39:49 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 11ms (Views: 0.7ms | ActiveRecord: 0.6ms | Allocations: 12511)


Started DELETE "/likes/12" for ::1 at 2024-05-07 03:40:22 +0900
Processing by LikesController#destroy as HTML
  Parameters: {"id"=>"12"}
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:16:in `destroy'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/likes_controller.rb:18:in `destroy'
  [1m[36mLike Destroy (1.2ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = ?[0m  [["id", 12]]
  ↳ app/controllers/likes_controller.rb:18:in `destroy'
  [1m[35m (9.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/likes_controller.rb:18:in `destroy'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:19:in `destroy'
Completed 200 OK in 23ms (Views: 0.2ms | ActiveRecord: 11.0ms | Allocations: 5460)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-07 03:40:22 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"expiry\":1716230422,\"previous_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"last_token\":\"$2a$10$Z3ZcjaZQhPIqFEGh2UPQc.WPxSrdAkVKfeL6fVEPx0klADNkf3V2W\",\"updated_at\":\"2024-05-06T18:40:22Z\"}}"], ["updated_at", "2024-05-06 18:40:22.450691"], ["id", 3]]
  [1m[35m (8.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 71ms (Views: 0.9ms | ActiveRecord: 9.6ms | Allocations: 15326)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-07 03:40:52 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-07 03:40:53 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:53Z\"}}"], ["updated_at", "2024-05-06 18:40:53.255723"], ["id", 3]]
  [1m[35m (8.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 120ms (Views: 0.2ms | ActiveRecord: 9.9ms | Allocations: 9798)


Started GET "/cable" for ::1 at 2024-05-07 03:40:53 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-07 03:40:53 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-07 03:40:53 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 156ms (Views: 0.9ms | ActiveRecord: 0.6ms | Allocations: 12872)


Started POST "/messages/28/likes" for ::1 at 2024-05-07 03:40:56 +0900
Processing by LikesController#create as HTML
  Parameters: {"id"=>"28", "like"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mLike Create (0.5ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "message_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["message_id", 28], ["created_at", "2024-05-06 18:40:56.531750"], ["updated_at", "2024-05-06 18:40:56.531750"]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[35m (9.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"AK_yhyry_tZ0lCRMQmJl4w\":{\"token\":\"$2a$10$7nEftufTXM/PKeeBAoT8AO4a.dd34YuQCv7VXkcVU2Z15BVe5vkcK\",\"expiry\":1716204226,\"previous_token\":\"$2a$10$vM6n6eUC.8jyS/n19mGxWu07oBtdLOvKjmn0EOX.0ODeOtV.BDBtu\",\"last_token\":\"$2a$10$7QU35iSOZHI/clP2QSVuj.lfMG/THf1vUbzv2IRs6rZkMEmtxJaLe\",\"updated_at\":\"2024-05-06T11:23:47Z\"},\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"}}"], ["updated_at", "2024-05-06 18:40:56.550464"], ["id", 3]]
  [1m[35m (7.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 175ms (Views: 0.1ms | ActiveRecord: 18.6ms | Allocations: 16260)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-07 03:40:56 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 156ms (Views: 1.0ms | ActiveRecord: 0.7ms | Allocations: 13085)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-07 03:41:14 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-07 03:41:14 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 103ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 1427)


Started GET "/cable" for ::1 at 2024-05-07 03:41:14 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-07 03:41:14 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-07 03:41:14 +0900
Processing by MessagesController#index as HTML
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 163)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-07 03:41:15 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 184)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-07 03:41:16 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 184)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-07 03:41:16 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 184)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-07 03:41:16 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 184)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-07 03:41:16 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 184)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-07 03:41:16 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 184)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-07 03:41:16 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 184)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-07 03:41:19 +0900
RoomChannel stopped streaming from room_channel
Started POST "/auth/sign_in" for ::1 at 2024-05-07 03:49:40 +0900
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"dEwEUUfLGqW9ALyR9PKfew\":{\"token\":\"$2a$10$epZVVU.4Yx5K7eYBenav.O4fDEMS7JDxy7j3RI3OtPU9XPn5s.m8G\",\"expiry\":1716230981}}"], ["updated_at", "2024-05-06 18:49:41.307832"], ["id", 3]]
  [1m[35m (8.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"dEwEUUfLGqW9ALyR9PKfew\":{\"token\":\"$2a$10$OvyJAgDiNUGFV56xTrWPuuIUWdlyaxPrZIJVsGtvptt2cmBHDIydO\",\"expiry\":1716230981,\"previous_token\":\"$2a$10$epZVVU.4Yx5K7eYBenav.O4fDEMS7JDxy7j3RI3OtPU9XPn5s.m8G\",\"updated_at\":\"2024-05-06T18:49:41Z\"}}"], ["updated_at", "2024-05-06 18:49:41.393408"], ["id", 3]]
  [1m[35m (7.7ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 474ms (Views: 0.8ms | ActiveRecord: 19.0ms | Allocations: 18891)


Started GET "/auth/validate_token" for ::1 at 2024-05-07 03:49:41 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 63ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 8134)


Started GET "/cable" for ::1 at 2024-05-07 03:49:41 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-07 03:49:41 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-07 03:49:41 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 31ms (Views: 3.2ms | ActiveRecord: 1.1ms | Allocations: 12499)


Started DELETE "/messages/30" for ::1 at 2024-05-07 03:50:42 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"id"=>"30"}
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:25:in `destroy'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:27:in `destroy'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/messages_controller.rb:28:in `destroy'
  [1m[36mMessage Destroy (1.5ms)[0m  [1m[31mDELETE FROM "messages" WHERE "messages"."id" = ?[0m  [["id", 30]]
  ↳ app/controllers/messages_controller.rb:28:in `destroy'
  [1m[35m (7.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/messages_controller.rb:28:in `destroy'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"dEwEUUfLGqW9ALyR9PKfew\":{\"token\":\"$2a$10$B9HJv3CHIDsNYacg.s9c1.lSGACx9gsbYT.E8CUacO/jH.8FnNyOG\",\"expiry\":1716231043,\"previous_token\":\"$2a$10$OvyJAgDiNUGFV56xTrWPuuIUWdlyaxPrZIJVsGtvptt2cmBHDIydO\",\"last_token\":\"$2a$10$epZVVU.4Yx5K7eYBenav.O4fDEMS7JDxy7j3RI3OtPU9XPn5s.m8G\",\"updated_at\":\"2024-05-06T18:50:42Z\"}}"], ["updated_at", "2024-05-06 18:50:43.043923"], ["id", 3]]
  [1m[35m (7.3ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 109ms (ActiveRecord: 19.0ms | Allocations: 13421)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-07 03:50:43 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"dEwEUUfLGqW9ALyR9PKfew\":{\"token\":\"$2a$10$B9HJv3CHIDsNYacg.s9c1.lSGACx9gsbYT.E8CUacO/jH.8FnNyOG\",\"expiry\":1716231043,\"previous_token\":\"$2a$10$OvyJAgDiNUGFV56xTrWPuuIUWdlyaxPrZIJVsGtvptt2cmBHDIydO\",\"last_token\":\"$2a$10$epZVVU.4Yx5K7eYBenav.O4fDEMS7JDxy7j3RI3OtPU9XPn5s.m8G\",\"updated_at\":\"2024-05-06T18:50:43Z\"}}"], ["updated_at", "2024-05-06 18:50:43.149043"], ["id", 3]]
  [1m[35m (8.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 84ms (Views: 1.6ms | ActiveRecord: 9.6ms | Allocations: 14979)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-07 03:51:28 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"}}"], ["updated_at", "2024-05-06 18:51:29.038254"], ["id", 3]]
  [1m[35m (7.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 79ms (Views: 0.3ms | ActiveRecord: 8.1ms | Allocations: 6757)


Unsubscribing from channel: {"channel":"RoomChannel"}
RoomChannel stopped streaming from room_channel
Started POST "/auth/sign_in" for ::1 at 2024-05-07 03:51:35 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"_KGmFqPkwIv8z_g-5qiWag\":{\"token\":\"$2a$10$htQZEDEnyBoS8zIKIQxH8.jtrAoys.qAShT0hE5SkKMODAcfSFzy2\",\"expiry\":1716231095}}"], ["updated_at", "2024-05-06 18:51:35.855058"], ["id", 3]]
  [1m[35m (7.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"_KGmFqPkwIv8z_g-5qiWag\":{\"token\":\"$2a$10$CuYYm7DAuSEeo0xk1jYo1eHYqMVEA9/sNefbKV5KGvJbWCytn7hce\",\"expiry\":1716231095,\"previous_token\":\"$2a$10$htQZEDEnyBoS8zIKIQxH8.jtrAoys.qAShT0hE5SkKMODAcfSFzy2\",\"updated_at\":\"2024-05-06T18:51:35Z\"}}"], ["updated_at", "2024-05-06 18:51:35.927490"], ["id", 3]]
  [1m[35m (8.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 334ms (Views: 0.2ms | ActiveRecord: 17.8ms | Allocations: 18020)


Started GET "/auth/validate_token" for ::1 at 2024-05-07 03:51:35 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 54ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 8127)


Started GET "/cable" for ::1 at 2024-05-07 03:51:36 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-07 03:51:36 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-07 03:51:36 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.7ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"_KGmFqPkwIv8z_g-5qiWag\":{\"token\":\"$2a$10$CuYYm7DAuSEeo0xk1jYo1eHYqMVEA9/sNefbKV5KGvJbWCytn7hce\",\"expiry\":1716231095,\"previous_token\":\"$2a$10$htQZEDEnyBoS8zIKIQxH8.jtrAoys.qAShT0hE5SkKMODAcfSFzy2\",\"updated_at\":\"2024-05-06T18:51:36Z\"}}"], ["updated_at", "2024-05-06 18:51:36.122077"], ["id", 3]]
  [1m[35m (7.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 31ms (Views: 1.7ms | ActiveRecord: 9.8ms | Allocations: 14851)


Started DELETE "/messages/1" for ::1 at 2024-05-07 03:56:00 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:25:in `destroy'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:27:in `destroy'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"_KGmFqPkwIv8z_g-5qiWag\":{\"token\":\"$2a$10$z7LCLagVmfedounphXleLOT32lDQMC4uiReLYS/z0EkU9LGsVRWs2\",\"expiry\":1716231360,\"previous_token\":\"$2a$10$CuYYm7DAuSEeo0xk1jYo1eHYqMVEA9/sNefbKV5KGvJbWCytn7hce\",\"last_token\":\"$2a$10$htQZEDEnyBoS8zIKIQxH8.jtrAoys.qAShT0hE5SkKMODAcfSFzy2\",\"updated_at\":\"2024-05-06T18:56:00Z\"}}"], ["updated_at", "2024-05-06 18:56:00.747830"], ["id", 3]]
  [1m[35m (8.1ms)[0m  [1m[36mcommit transaction[0m
Completed 401 Unauthorized in 74ms (Views: 0.3ms | ActiveRecord: 9.3ms | Allocations: 9564)


Started DELETE "/messages/8" for ::1 at 2024-05-07 03:56:03 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"id"=>"8"}
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:25:in `destroy'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:27:in `destroy'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/messages_controller.rb:28:in `destroy'
  [1m[36mMessage Destroy (0.3ms)[0m  [1m[31mDELETE FROM "messages" WHERE "messages"."id" = ?[0m  [["id", 8]]
  ↳ app/controllers/messages_controller.rb:28:in `destroy'
  [1m[35m (9.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/messages_controller.rb:28:in `destroy'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"_KGmFqPkwIv8z_g-5qiWag\":{\"token\":\"$2a$10$z7LCLagVmfedounphXleLOT32lDQMC4uiReLYS/z0EkU9LGsVRWs2\",\"expiry\":1716231360,\"previous_token\":\"$2a$10$CuYYm7DAuSEeo0xk1jYo1eHYqMVEA9/sNefbKV5KGvJbWCytn7hce\",\"last_token\":\"$2a$10$htQZEDEnyBoS8zIKIQxH8.jtrAoys.qAShT0hE5SkKMODAcfSFzy2\",\"updated_at\":\"2024-05-06T18:56:03Z\"}}"], ["updated_at", "2024-05-06 18:56:03.315778"], ["id", 3]]
  [1m[35m (7.5ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 94ms (ActiveRecord: 18.3ms | Allocations: 13610)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-07 03:56:03 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 67ms (Views: 0.9ms | ActiveRecord: 0.7ms | Allocations: 12657)


Started GET "/auth/validate_token" for ::1 at 2024-05-07 10:50:55 +0900
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.1ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"_KGmFqPkwIv8z_g-5qiWag\":{\"token\":\"$2a$10$2t8bdDDlnyrOuj8olsylx.0vzp/S.lSmOaaiNnteMLkilRCpqpZaO\",\"expiry\":1716256255,\"previous_token\":\"$2a$10$z7LCLagVmfedounphXleLOT32lDQMC4uiReLYS/z0EkU9LGsVRWs2\",\"last_token\":\"$2a$10$CuYYm7DAuSEeo0xk1jYo1eHYqMVEA9/sNefbKV5KGvJbWCytn7hce\",\"updated_at\":\"2024-05-07T01:50:55Z\"}}"], ["updated_at", "2024-05-07 01:50:55.805671"], ["id", 3]]
  [1m[35m (7.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 204ms (Views: 0.5ms | ActiveRecord: 9.8ms | Allocations: 17033)


Started GET "/auth/validate_token" for ::1 at 2024-05-07 10:50:55 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"_KGmFqPkwIv8z_g-5qiWag\":{\"token\":\"$2a$10$2t8bdDDlnyrOuj8olsylx.0vzp/S.lSmOaaiNnteMLkilRCpqpZaO\",\"expiry\":1716256255,\"previous_token\":\"$2a$10$z7LCLagVmfedounphXleLOT32lDQMC4uiReLYS/z0EkU9LGsVRWs2\",\"last_token\":\"$2a$10$CuYYm7DAuSEeo0xk1jYo1eHYqMVEA9/sNefbKV5KGvJbWCytn7hce\",\"updated_at\":\"2024-05-07T01:50:56Z\"}}"], ["updated_at", "2024-05-07 01:50:56.019361"], ["id", 3]]
  [1m[35m (7.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 198ms (Views: 0.2ms | ActiveRecord: 9.6ms | Allocations: 10847)


Started GET "/cable" for ::1 at 2024-05-07 10:50:56 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-07 10:50:56 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-07 10:50:56 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 210ms (Views: 1.3ms | ActiveRecord: 2.1ms | Allocations: 22411)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-07 10:50:59 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"}}"], ["updated_at", "2024-05-07 01:50:59.698513"], ["id", 3]]
  [1m[35m (10.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 164ms (Views: 0.2ms | ActiveRecord: 11.0ms | Allocations: 6810)


Unsubscribing from channel: {"channel":"RoomChannel"}
RoomChannel stopped streaming from room_channel
Started POST "/auth/sign_in" for ::1 at 2024-05-07 10:51:07 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"expiry\":1716256267}}"], ["updated_at", "2024-05-07 01:51:07.328062"], ["id", 3]]
  [1m[35m (7.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"22Bzg5EoQo2M9NcfzMF36A\":{\"token\":\"$2a$10$8bBQaXlxctn91cgLURivlu4Rv5BRnKblhpqveYSzY44dbgROo52lW\",\"expiry\":1716204365,\"previous_token\":\"$2a$10$skTKRfjSX8RH7VC6TYSSB.DlSGL9mX/DA0Qcnupeehp62QX4/t0Lq\",\"last_token\":\"$2a$10$el2OrZ/JWg9Xsl04qB4qtOQu147g1K5v9qqqvDewbFVBjQ7jnLdRa\",\"updated_at\":\"2024-05-06T11:26:06Z\"},\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"}}"], ["updated_at", "2024-05-07 01:51:07.393439"], ["id", 3]]
  [1m[35m (7.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 337ms (Views: 0.2ms | ActiveRecord: 16.8ms | Allocations: 18900)


Started GET "/auth/validate_token" for ::1 at 2024-05-07 10:51:07 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 55ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 8093)


Started GET "/cable" for ::1 at 2024-05-07 10:51:07 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-07 10:51:07 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-07 10:51:07 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:8:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 15ms (Views: 0.8ms | ActiveRecord: 1.2ms | Allocations: 12137)


  [1m[35m (2.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mMessage Load (1.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages" ORDER BY "messages"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started POST "/auth/sign_in" for ::1 at 2024-05-08 01:37:58 +0900
  [1m[35m (2.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DeviseTokenAuth::SessionsController#create as */*
  Parameters: {"name"=>"Test", "email"=>"test@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
[31mUnpermitted parameters: :name, :password_confirmation[0m
[31mUnpermitted parameters: :name, :password_confirmation[0m
  [1m[36mUser Load (4.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameters: :name, :password_confirmation[0m
[31mUnpermitted parameters: :name, :password_confirmation[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (4.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"expiry\":1716309479}}"], ["updated_at", "2024-05-07 16:38:00.005522"], ["id", 3]]
  [1m[35m (14.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"expiry\":1716309480,\"previous_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:00Z\"}}"], ["updated_at", "2024-05-07 16:38:00.147360"], ["id", 3]]
  [1m[35m (10.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 1008ms (Views: 0.3ms | ActiveRecord: 41.7ms | Allocations: 26102)


Started GET "/messages?access-token=QVtKLeJc8Sz-nthdxp0RfQ&client=jEdeoEAtKgAQJh4E5gnuqw&uid=test@test.com" for ::1 at 2024-05-08 01:38:48 +0900
Processing by MessagesController#index as */*
  Parameters: {"access-token"=>"QVtKLeJc8Sz-nthdxp0RfQ", "client"=>"jEdeoEAtKgAQJh4E5gnuqw", "uid"=>"test@test.com"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"LeWI8yDB3-wiaORYzCdlFg\":{\"token\":\"$2a$10$HKwXzsGl9/M7yZBYwLo.iedFm9F754Qj2HKZXGVeJ/QqLx.RGrnGG\",\"expiry\":1716226055,\"previous_token\":\"$2a$10$AV5ZaAQwXnyvi0ZtwvoaUu.BmM/GtlJ8o8Hjb1UEREqbG51SBU5ZG\",\"last_token\":\"$2a$10$yNw55mEQMyY7jMGD0OU5GesngnUh2VAVDmlPs5n20nGdiEpQ/nGTS\",\"updated_at\":\"2024-05-06T17:27:36Z\"},\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"}}"], ["updated_at", "2024-05-07 16:38:48.594493"], ["id", 3]]
  [1m[35m (12.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 345ms (Views: 2.3ms | ActiveRecord: 17.1ms | Allocations: 25463)


Started PUT "/messages/28" for ::1 at 2024-05-08 01:39:03 +0900
Processing by MessagesController#update as */*
  Parameters: {"id"=>"28"}
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:23:in `update'
Completed 400 Bad Request in 4ms (ActiveRecord: 0.5ms | Allocations: 792)


  
ActionController::ParameterMissing (param is missing or the value is empty: message):
  
app/controllers/messages_controller.rb:44:in `message_params'
app/controllers/messages_controller.rb:24:in `update'
Started PUT "/messages/28?content=Hello!!!!" for ::1 at 2024-05-08 01:42:33 +0900
Processing by MessagesController#update as */*
  Parameters: {"content"=>"Hello!!!!", "id"=>"28"}
  [1m[36mMessage Load (1.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:23:in `update'
Completed 400 Bad Request in 12ms (ActiveRecord: 1.5ms | Allocations: 638)


  
ActionController::ParameterMissing (param is missing or the value is empty: message):
  
app/controllers/messages_controller.rb:44:in `message_params'
app/controllers/messages_controller.rb:24:in `update'
Started PUT "/messages/28" for ::1 at 2024-05-08 01:48:38 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by MessagesController#update as */*
  Parameters: {"message"=>{"content"=>"こんにちは（編集済み）"}, "id"=>"28"}
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:23:in `update'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/messages_controller.rb:24:in `update'
  [1m[36mUser Load (15.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:24:in `update'
  [1m[36mMessage Update (1.0ms)[0m  [1m[33mUPDATE "messages" SET "content" = ?, "updated_at" = ? WHERE "messages"."id" = ?[0m  [["content", "こんにちは（編集済み）"], ["updated_at", "2024-05-07 16:48:38.609525"], ["id", 28]]
  ↳ app/controllers/messages_controller.rb:24:in `update'
  [1m[35m (9.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/messages_controller.rb:24:in `update'
Completed 200 OK in 75ms (Views: 0.7ms | ActiveRecord: 26.2ms | Allocations: 7362)


Started POST "/auth/sign_in" for ::1 at 2024-05-08 15:05:03 +0900
  [1m[35m (5.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (2.1ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"expiry\":1716357904}}"], ["updated_at", "2024-05-08 06:05:04.402797"], ["id", 3]]
  [1m[35m (13.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
Started POST "/auth/sign_in" for ::1 at 2024-05-08 15:05:04 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"M07kxaaRAw_K1A-b-8-KPQ\":{\"token\":\"$2a$10$889Z1TJB./8JotPcBPrQeezRVTv5.44/iI0wr/Ql/8E.UNFo.frq2\",\"expiry\":1716226247,\"previous_token\":\"$2a$10$htoQcx1BzFaFgIfMA99iTet4fmFBii2QfGc5LAhKUM8UT7s2coQze\",\"last_token\":\"$2a$10$fuxhBQTrv00Oj2dez9sviOHFV1qCCPxd.KyiCAKJ5yr0.oonrxwxO\",\"updated_at\":\"2024-05-06T17:30:48Z\"},\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"}}"], ["updated_at", "2024-05-08 06:05:04.647706"], ["id", 3]]
  [1m[35m (10.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 1030ms (Views: 0.6ms | ActiveRecord: 29.8ms | Allocations: 30163)


Started GET "/auth/validate_token" for ::1 at 2024-05-08 15:05:04 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 93ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 8159)


Started GET "/cable" for ::1 at 2024-05-08 15:05:04 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-08 15:05:04 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-08 15:05:04 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 100ms (Views: 3.2ms | ActiveRecord: 3.8ms | Allocations: 24968)


  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$ojv8gkgq6OuInXw08pXNFOtGWkNRFNipB7qgO7KvoG5s6wSfT63.2\",\"expiry\":1716357905}}"], ["updated_at", "2024-05-08 06:05:05.092755"], ["id", 3]]
  [1m[35m (13.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"expiry\":1716357905,\"previous_token\":\"$2a$10$ojv8gkgq6OuInXw08pXNFOtGWkNRFNipB7qgO7KvoG5s6wSfT63.2\",\"updated_at\":\"2024-05-08T06:05:05Z\"}}"], ["updated_at", "2024-05-08 06:05:05.293298"], ["id", 3]]
  [1m[35m (14.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 785ms (Views: 0.5ms | ActiveRecord: 29.8ms | Allocations: 65925)


RoomChannel#receive({"message"=>"from starbucks", "email"=>"test@test.com"})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["content", "from starbucks"], ["created_at", "2024-05-08 06:05:26.529240"], ["updated_at", "2024-05-08 06:05:26.529240"]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (11.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>"from starbucks", :name=>"test001", :created_at=>Wed, 08 May 2024 06:05:26 UTC +00:00}
RoomChannel transmitting {"message"=>"from starbucks", "name"=>"test001", "created_at"=>"2024-05-08T06:05:26.529Z"} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-08 15:05:26 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"expiry\":1716357926,\"previous_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"last_token\":\"$2a$10$ojv8gkgq6OuInXw08pXNFOtGWkNRFNipB7qgO7KvoG5s6wSfT63.2\",\"updated_at\":\"2024-05-08T06:05:26Z\"}}"], ["updated_at", "2024-05-08 06:05:26.915667"], ["id", 3]]
  [1m[35m (18.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 367ms (Views: 3.3ms | ActiveRecord: 21.3ms | Allocations: 15628)


Started POST "/messages/21/likes" for ::1 at 2024-05-08 15:05:46 +0900
Processing by LikesController#create as HTML
  Parameters: {"id"=>"21", "like"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mLike Create (1.4ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "message_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["message_id", 21], ["created_at", "2024-05-08 06:05:46.803194"], ["updated_at", "2024-05-08 06:05:46.803194"]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[35m (14.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:46Z\"}}"], ["updated_at", "2024-05-08 06:05:47.024221"], ["id", 3]]
  [1m[35m (18.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 519ms (Views: 0.5ms | ActiveRecord: 36.5ms | Allocations: 17694)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-08 15:05:47 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"gCzWNgS9i54ehuHIHpFFAQ\":{\"token\":\"$2a$10$RTGw0cSo/WVRNyGgxPVbnedYgNumYpWg04dDTz8R/aUixEa/Bi9H.\",\"expiry\":1716226483,\"previous_token\":\"$2a$10$wvNEllf0pY7rKVJEqcEuXujvBPec/M1pMjEQVFGI/XmEp/fhYtK3e\",\"last_token\":\"$2a$10$NVTn5HqX7bdkJV/ADglff.eOKI.iK43Wf7l.v4kXRnNG/i7GbwxXC\",\"updated_at\":\"2024-05-06T17:34:43Z\"},\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"}}"], ["updated_at", "2024-05-08 06:05:47.484128"], ["id", 3]]
  [1m[35m (19.7ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 390ms (Views: 1.5ms | ActiveRecord: 21.5ms | Allocations: 14951)


Started POST "/messages/22/likes" for ::1 at 2024-05-08 15:05:51 +0900
Processing by LikesController#create as HTML
  Parameters: {"id"=>"22", "like"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 269ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 1445)


Started POST "/messages/22/likes" for ::1 at 2024-05-08 15:05:55 +0900
Processing by LikesController#create as HTML
  Parameters: {"id"=>"22", "like"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 269ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1418)


Started POST "/messages/23/likes" for ::1 at 2024-05-08 15:06:09 +0900
Processing by LikesController#create as HTML
  Parameters: {"id"=>"23", "like"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 236ms (Views: 0.3ms | ActiveRecord: 0.6ms | Allocations: 1417)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-08 15:06:26 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 219ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 2645)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-08 15:06:47 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-08 15:06:47 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 217ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1429)


Started GET "/cable" for ::1 at 2024-05-08 15:06:48 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-08 15:06:48 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-08 15:06:48 +0900
Processing by MessagesController#index as HTML
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 163)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-08 15:06:52 +0900
RoomChannel stopped streaming from room_channel
Started POST "/auth/sign_in" for ::1 at 2024-05-08 15:20:23 +0900
  [1m[35m (1.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$vYYy93rDxfX5vI7Fh2mlU.F2ITBkXdL19Zl/.eJfGQt4mkYvVDFSG\",\"expiry\":1716358824}}"], ["updated_at", "2024-05-08 06:20:24.501000"], ["id", 3]]
  [1m[35m (12.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"expiry\":1716358824,\"previous_token\":\"$2a$10$vYYy93rDxfX5vI7Fh2mlU.F2ITBkXdL19Zl/.eJfGQt4mkYvVDFSG\",\"updated_at\":\"2024-05-08T06:20:24Z\"}}"], ["updated_at", "2024-05-08 06:20:24.685489"], ["id", 3]]
  [1m[35m (14.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 839ms (Views: 2.3ms | ActiveRecord: 30.7ms | Allocations: 19151)


Started GET "/auth/validate_token" for ::1 at 2024-05-08 15:20:24 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 178ms (Views: 0.7ms | ActiveRecord: 1.1ms | Allocations: 7923)


Started GET "/cable" for ::1 at 2024-05-08 15:20:24 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-08 15:20:24 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-08 15:20:24 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.8ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"expiry\":1716358824,\"previous_token\":\"$2a$10$vYYy93rDxfX5vI7Fh2mlU.F2ITBkXdL19Zl/.eJfGQt4mkYvVDFSG\",\"updated_at\":\"2024-05-08T06:20:25Z\"}}"], ["updated_at", "2024-05-08 06:20:25.132575"], ["id", 3]]
  [1m[35m (10.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 152ms (Views: 80.8ms | ActiveRecord: 13.2ms | Allocations: 14888)


Started POST "/messages/31/likes" for ::1 at 2024-05-08 15:20:27 +0900
Processing by LikesController#create as HTML
  Parameters: {"id"=>"31", "like"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mLike Create (1.1ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "message_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["message_id", 31], ["created_at", "2024-05-08 06:20:27.673926"], ["updated_at", "2024-05-08 06:20:27.673926"]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[35m (19.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"expiry\":1716358824,\"previous_token\":\"$2a$10$vYYy93rDxfX5vI7Fh2mlU.F2ITBkXdL19Zl/.eJfGQt4mkYvVDFSG\",\"updated_at\":\"2024-05-08T06:20:27Z\"}}"], ["updated_at", "2024-05-08 06:20:27.744598"], ["id", 3]]
  [1m[35m (16.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 146ms (Views: 0.4ms | ActiveRecord: 40.2ms | Allocations: 16645)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-08 15:20:27 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.8ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 53ms (Views: 5.2ms | ActiveRecord: 3.0ms | Allocations: 12442)


Started DELETE "/likes/16" for ::1 at 2024-05-08 15:20:29 +0900
Processing by LikesController#destroy as HTML
  Parameters: {"id"=>"16"}
  [1m[36mLike Load (0.4ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:16:in `destroy'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/likes_controller.rb:18:in `destroy'
  [1m[36mLike Destroy (1.1ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = ?[0m  [["id", 16]]
  ↳ app/controllers/likes_controller.rb:18:in `destroy'
  [1m[35m (15.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/likes_controller.rb:18:in `destroy'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:19:in `destroy'
Completed 200 OK in 53ms (Views: 0.4ms | ActiveRecord: 18.7ms | Allocations: 5242)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-08 15:20:29 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.5ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"expiry\":1716358824,\"previous_token\":\"$2a$10$vYYy93rDxfX5vI7Fh2mlU.F2ITBkXdL19Zl/.eJfGQt4mkYvVDFSG\",\"updated_at\":\"2024-05-08T06:20:29Z\"}}"], ["updated_at", "2024-05-08 06:20:29.470770"], ["id", 3]]
  [1m[35m (14.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 83ms (Views: 4.6ms | ActiveRecord: 18.4ms | Allocations: 15175)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-08 15:20:31 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-08 15:20:31 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"expiry\":1716358824,\"previous_token\":\"$2a$10$vYYy93rDxfX5vI7Fh2mlU.F2ITBkXdL19Zl/.eJfGQt4mkYvVDFSG\",\"updated_at\":\"2024-05-08T06:20:31Z\"}}"], ["updated_at", "2024-05-08 06:20:31.651114"], ["id", 3]]
  [1m[35m (14.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 71ms (Views: 0.5ms | ActiveRecord: 17.3ms | Allocations: 10454)


Started GET "/cable" for ::1 at 2024-05-08 15:20:31 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-08 15:20:31 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-08 15:20:31 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (3.3ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 69ms (Views: 4.8ms | ActiveRecord: 5.6ms | Allocations: 12647)


RoomChannel#receive({"message"=>"aaa", "email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["content", "aaa"], ["created_at", "2024-05-08 06:20:35.516668"], ["updated_at", "2024-05-08 06:20:35.516668"]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (13.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>"aaa", :name=>"test001", :created_at=>Wed, 08 May 2024 06:20:35 UTC +00:00}
RoomChannel transmitting {"message"=>"aaa", "name"=>"test001", "created_at"=>"2024-05-08T06:20:35.516Z"} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-08 15:20:35 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"expiry\":1716358824,\"previous_token\":\"$2a$10$vYYy93rDxfX5vI7Fh2mlU.F2ITBkXdL19Zl/.eJfGQt4mkYvVDFSG\",\"updated_at\":\"2024-05-08T06:20:35Z\"}}"], ["updated_at", "2024-05-08 06:20:35.588992"], ["id", 3]]
  [1m[35m (14.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 63ms (Views: 2.9ms | ActiveRecord: 17.4ms | Allocations: 14685)


RoomChannel#receive({"message"=>"aaaa", "email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["content", "aaaa"], ["created_at", "2024-05-08 06:20:36.535448"], ["updated_at", "2024-05-08 06:20:36.535448"]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (12.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>"aaaa", :name=>"test001", :created_at=>Wed, 08 May 2024 06:20:36 UTC +00:00}
RoomChannel transmitting {"message"=>"aaaa", "name"=>"test001", "created_at"=>"2024-05-08T06:20:36.535Z"} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-08 15:20:36 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"expiry\":1716358824,\"previous_token\":\"$2a$10$vYYy93rDxfX5vI7Fh2mlU.F2ITBkXdL19Zl/.eJfGQt4mkYvVDFSG\",\"updated_at\":\"2024-05-08T06:20:36Z\"}}"], ["updated_at", "2024-05-08 06:20:36.592343"], ["id", 3]]
  [1m[35m (13.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 54ms (Views: 2.7ms | ActiveRecord: 15.4ms | Allocations: 15197)


RoomChannel#receive({"message"=>"aaa", "email"=>"test@test.com"})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mMessage Create (1.0ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["content", "aaa"], ["created_at", "2024-05-08 06:20:37.355207"], ["updated_at", "2024-05-08 06:20:37.355207"]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (10.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>"aaa", :name=>"test001", :created_at=>Wed, 08 May 2024 06:20:37 UTC +00:00}
RoomChannel transmitting {"message"=>"aaa", "name"=>"test001", "created_at"=>"2024-05-08T06:20:37.355Z"} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-08 15:20:37 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"expiry\":1716358824,\"previous_token\":\"$2a$10$vYYy93rDxfX5vI7Fh2mlU.F2ITBkXdL19Zl/.eJfGQt4mkYvVDFSG\",\"updated_at\":\"2024-05-08T06:20:37Z\"}}"], ["updated_at", "2024-05-08 06:20:37.412217"], ["id", 3]]
  [1m[35m (10.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 47ms (Views: 1.9ms | ActiveRecord: 11.8ms | Allocations: 15724)


RoomChannel#receive({"message"=>"aa", "email"=>"test@test.com"})
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["content", "aa"], ["created_at", "2024-05-08 06:20:38.048894"], ["updated_at", "2024-05-08 06:20:38.048894"]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (13.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>"aa", :name=>"test001", :created_at=>Wed, 08 May 2024 06:20:38 UTC +00:00}
RoomChannel transmitting {"message"=>"aa", "name"=>"test001", "created_at"=>"2024-05-08T06:20:38.048Z"} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-08 15:20:38 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.5ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"expiry\":1716358824,\"previous_token\":\"$2a$10$vYYy93rDxfX5vI7Fh2mlU.F2ITBkXdL19Zl/.eJfGQt4mkYvVDFSG\",\"updated_at\":\"2024-05-08T06:20:38Z\"}}"], ["updated_at", "2024-05-08 06:20:38.149853"], ["id", 3]]
  [1m[35m (14.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 85ms (Views: 4.7ms | ActiveRecord: 18.2ms | Allocations: 15905)


RoomChannel#receive({"message"=>"a", "email"=>"test@test.com"})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["content", "a"], ["created_at", "2024-05-08 06:20:38.580639"], ["updated_at", "2024-05-08 06:20:38.580639"]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (10.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>"a", :name=>"test001", :created_at=>Wed, 08 May 2024 06:20:38 UTC +00:00}
RoomChannel transmitting {"message"=>"a", "name"=>"test001", "created_at"=>"2024-05-08T06:20:38.580Z"} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-08 15:20:38 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.8ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 69ms (Views: 4.1ms | ActiveRecord: 2.9ms | Allocations: 13197)


RoomChannel#receive({"message"=>"", "email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>"", :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>"", "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-08 15:20:38 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 24ms (Views: 2.6ms | ActiveRecord: 1.2ms | Allocations: 13225)


RoomChannel#receive({"message"=>"aaaaa", "email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["content", "aaaaa"], ["created_at", "2024-05-08 06:20:40.149152"], ["updated_at", "2024-05-08 06:20:40.149152"]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (12.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>"aaaaa", :name=>"test001", :created_at=>Wed, 08 May 2024 06:20:40 UTC +00:00}
RoomChannel transmitting {"message"=>"aaaaa", "name"=>"test001", "created_at"=>"2024-05-08T06:20:40.149Z"} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-08 15:20:40 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"expiry\":1716358824,\"previous_token\":\"$2a$10$vYYy93rDxfX5vI7Fh2mlU.F2ITBkXdL19Zl/.eJfGQt4mkYvVDFSG\",\"updated_at\":\"2024-05-08T06:20:40Z\"}}"], ["updated_at", "2024-05-08 06:20:40.198983"], ["id", 3]]
  [1m[35m (10.3ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 40ms (Views: 2.7ms | ActiveRecord: 12.1ms | Allocations: 15880)


Started DELETE "/messages/37" for ::1 at 2024-05-08 15:20:44 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"id"=>"37"}
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:32:in `destroy'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:34:in `destroy'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/messages_controller.rb:35:in `destroy'
  [1m[36mLike Load (0.6ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 37]]
  ↳ app/controllers/messages_controller.rb:35:in `destroy'
  [1m[36mMessage Destroy (0.9ms)[0m  [1m[31mDELETE FROM "messages" WHERE "messages"."id" = ?[0m  [["id", 37]]
  ↳ app/controllers/messages_controller.rb:35:in `destroy'
  [1m[35m (13.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/messages_controller.rb:35:in `destroy'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"expiry\":1716358824,\"previous_token\":\"$2a$10$vYYy93rDxfX5vI7Fh2mlU.F2ITBkXdL19Zl/.eJfGQt4mkYvVDFSG\",\"updated_at\":\"2024-05-08T06:20:44Z\"}}"], ["updated_at", "2024-05-08 06:20:44.617510"], ["id", 3]]
  [1m[35m (14.4ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 97ms (ActiveRecord: 32.1ms | Allocations: 14921)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-08 15:20:44 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 48ms (Views: 3.9ms | ActiveRecord: 2.7ms | Allocations: 13195)


Started DELETE "/messages/33" for ::1 at 2024-05-08 15:20:47 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"id"=>"33"}
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:32:in `destroy'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:34:in `destroy'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/messages_controller.rb:35:in `destroy'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 33]]
  ↳ app/controllers/messages_controller.rb:35:in `destroy'
  [1m[36mMessage Destroy (0.8ms)[0m  [1m[31mDELETE FROM "messages" WHERE "messages"."id" = ?[0m  [["id", 33]]
  ↳ app/controllers/messages_controller.rb:35:in `destroy'
  [1m[35m (16.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/messages_controller.rb:35:in `destroy'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"expiry\":1716358824,\"previous_token\":\"$2a$10$vYYy93rDxfX5vI7Fh2mlU.F2ITBkXdL19Zl/.eJfGQt4mkYvVDFSG\",\"updated_at\":\"2024-05-08T06:20:47Z\"}}"], ["updated_at", "2024-05-08 06:20:47.687731"], ["id", 3]]
  [1m[35m (14.5ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 93ms (ActiveRecord: 33.8ms | Allocations: 14612)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-08 15:20:47 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.9ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 44ms (Views: 4.5ms | ActiveRecord: 3.2ms | Allocations: 13056)


Started POST "/messages/32/likes" for ::1 at 2024-05-08 15:20:49 +0900
Processing by LikesController#create as HTML
  Parameters: {"id"=>"32", "like"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mLike Create (0.8ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "message_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["message_id", 32], ["created_at", "2024-05-08 06:20:49.959406"], ["updated_at", "2024-05-08 06:20:49.959406"]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[35m (24.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"expiry\":1716358824,\"previous_token\":\"$2a$10$vYYy93rDxfX5vI7Fh2mlU.F2ITBkXdL19Zl/.eJfGQt4mkYvVDFSG\",\"updated_at\":\"2024-05-08T06:20:50Z\"}}"], ["updated_at", "2024-05-08 06:20:50.015191"], ["id", 3]]
  [1m[35m (13.7ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 101ms (Views: 0.5ms | ActiveRecord: 41.6ms | Allocations: 16590)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-08 15:20:50 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 42ms (Views: 3.4ms | ActiveRecord: 2.2ms | Allocations: 13118)


Started DELETE "/messages/32" for ::1 at 2024-05-08 15:20:53 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"id"=>"32"}
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:32:in `destroy'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:34:in `destroy'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/messages_controller.rb:35:in `destroy'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 32]]
  ↳ app/controllers/messages_controller.rb:35:in `destroy'
  [1m[36mLike Destroy (0.8ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = ?[0m  [["id", 17]]
  ↳ app/controllers/messages_controller.rb:35:in `destroy'
  [1m[36mMessage Destroy (0.9ms)[0m  [1m[31mDELETE FROM "messages" WHERE "messages"."id" = ?[0m  [["id", 32]]
  ↳ app/controllers/messages_controller.rb:35:in `destroy'
  [1m[35m (23.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/messages_controller.rb:35:in `destroy'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"expiry\":1716358824,\"previous_token\":\"$2a$10$vYYy93rDxfX5vI7Fh2mlU.F2ITBkXdL19Zl/.eJfGQt4mkYvVDFSG\",\"updated_at\":\"2024-05-08T06:20:53Z\"}}"], ["updated_at", "2024-05-08 06:20:53.442763"], ["id", 3]]
  [1m[35m (15.6ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 103ms (ActiveRecord: 43.1ms | Allocations: 16283)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-08 15:20:53 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 45ms (Views: 3.3ms | ActiveRecord: 2.5ms | Allocations: 12885)


Started DELETE "/messages/34" for ::1 at 2024-05-08 15:20:57 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"id"=>"34"}
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 34], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:32:in `destroy'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:34:in `destroy'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/messages_controller.rb:35:in `destroy'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 34]]
  ↳ app/controllers/messages_controller.rb:35:in `destroy'
  [1m[36mMessage Destroy (1.3ms)[0m  [1m[31mDELETE FROM "messages" WHERE "messages"."id" = ?[0m  [["id", 34]]
  ↳ app/controllers/messages_controller.rb:35:in `destroy'
  [1m[35m (24.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/messages_controller.rb:35:in `destroy'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"expiry\":1716358824,\"previous_token\":\"$2a$10$vYYy93rDxfX5vI7Fh2mlU.F2ITBkXdL19Zl/.eJfGQt4mkYvVDFSG\",\"updated_at\":\"2024-05-08T06:20:57Z\"}}"], ["updated_at", "2024-05-08 06:20:57.088328"], ["id", 3]]
  [1m[35m (15.3ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 101ms (ActiveRecord: 43.8ms | Allocations: 14630)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-08 15:20:57 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 41ms (Views: 3.0ms | ActiveRecord: 2.1ms | Allocations: 12718)


Started DELETE "/messages/36" for ::1 at 2024-05-08 15:21:03 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"id"=>"36"}
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 36], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:32:in `destroy'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:34:in `destroy'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/messages_controller.rb:35:in `destroy'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 36]]
  ↳ app/controllers/messages_controller.rb:35:in `destroy'
  [1m[36mMessage Destroy (0.7ms)[0m  [1m[31mDELETE FROM "messages" WHERE "messages"."id" = ?[0m  [["id", 36]]
  ↳ app/controllers/messages_controller.rb:35:in `destroy'
  [1m[35m (22.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/messages_controller.rb:35:in `destroy'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"expiry\":1716358863,\"previous_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"last_token\":\"$2a$10$vYYy93rDxfX5vI7Fh2mlU.F2ITBkXdL19Zl/.eJfGQt4mkYvVDFSG\",\"updated_at\":\"2024-05-08T06:21:03Z\"}}"], ["updated_at", "2024-05-08 06:21:03.895616"], ["id", 3]]
  [1m[35m (18.4ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 204ms (ActiveRecord: 43.9ms | Allocations: 14637)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-08 15:21:03 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"expiry\":1716358863,\"previous_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"last_token\":\"$2a$10$vYYy93rDxfX5vI7Fh2mlU.F2ITBkXdL19Zl/.eJfGQt4mkYvVDFSG\",\"updated_at\":\"2024-05-08T06:21:04Z\"}}"], ["updated_at", "2024-05-08 06:21:04.088952"], ["id", 3]]
  [1m[35m (21.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 180ms (Views: 2.3ms | ActiveRecord: 22.9ms | Allocations: 15396)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-08 15:21:07 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-08 15:21:07 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"expiry\":1716358863,\"previous_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"last_token\":\"$2a$10$vYYy93rDxfX5vI7Fh2mlU.F2ITBkXdL19Zl/.eJfGQt4mkYvVDFSG\",\"updated_at\":\"2024-05-08T06:21:07Z\"}}"], ["updated_at", "2024-05-08 06:21:07.976375"], ["id", 3]]
  [1m[35m (27.3ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 280ms (Views: 0.6ms | ActiveRecord: 29.8ms | Allocations: 10115)


Started GET "/cable" for ::1 at 2024-05-08 15:21:08 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-08 15:21:08 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-08 15:21:08 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"expiry\":1716358863,\"previous_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"last_token\":\"$2a$10$vYYy93rDxfX5vI7Fh2mlU.F2ITBkXdL19Zl/.eJfGQt4mkYvVDFSG\",\"updated_at\":\"2024-05-08T06:21:08Z\"}}"], ["updated_at", "2024-05-08 06:21:08.201178"], ["id", 3]]
  [1m[35m (9.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 157ms (Views: 1.6ms | ActiveRecord: 12.4ms | Allocations: 14980)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-08 15:21:10 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-08 15:21:10 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.1ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"expiry\":1716358863,\"previous_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"last_token\":\"$2a$10$vYYy93rDxfX5vI7Fh2mlU.F2ITBkXdL19Zl/.eJfGQt4mkYvVDFSG\",\"updated_at\":\"2024-05-08T06:21:10Z\"}}"], ["updated_at", "2024-05-08 06:21:10.787959"], ["id", 3]]
  [1m[35m (14.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 290ms (Views: 0.4ms | ActiveRecord: 16.9ms | Allocations: 10118)


Started GET "/cable" for ::1 at 2024-05-08 15:21:10 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-08 15:21:10 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-08 15:21:10 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 111ms (Views: 2.2ms | ActiveRecord: 1.3ms | Allocations: 12873)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-08 15:21:13 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-08 15:21:13 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"expiry\":1716358863,\"previous_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"last_token\":\"$2a$10$vYYy93rDxfX5vI7Fh2mlU.F2ITBkXdL19Zl/.eJfGQt4mkYvVDFSG\",\"updated_at\":\"2024-05-08T06:21:13Z\"}}"], ["updated_at", "2024-05-08 06:21:13.888728"], ["id", 3]]
  [1m[35m (8.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 179ms (Views: 0.3ms | ActiveRecord: 10.0ms | Allocations: 10116)


Started GET "/cable" for ::1 at 2024-05-08 15:21:13 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-08 15:21:13 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-08 15:21:13 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"expiry\":1716358863,\"previous_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"last_token\":\"$2a$10$vYYy93rDxfX5vI7Fh2mlU.F2ITBkXdL19Zl/.eJfGQt4mkYvVDFSG\",\"updated_at\":\"2024-05-08T06:21:14Z\"}}"], ["updated_at", "2024-05-08 06:21:14.058452"], ["id", 3]]
  [1m[35m (8.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 135ms (Views: 2.4ms | ActiveRecord: 10.4ms | Allocations: 15718)


Started POST "/messages/31/likes" for ::1 at 2024-05-08 15:21:25 +0900
Processing by LikesController#create as HTML
  Parameters: {"id"=>"31", "like"=>{}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mLike Create (0.5ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "message_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["message_id", 31], ["created_at", "2024-05-08 06:21:26.069233"], ["updated_at", "2024-05-08 06:21:26.069233"]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[35m (12.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"a_Nezz0wlFaUkGBMbaGV_g\":{\"token\":\"$2a$10$cRE.i47BwYRvwjskOwsBler6Eh4NNXQ9w3yCpMZsQ8o8sOQ5W2FSS\",\"expiry\":1716227204,\"previous_token\":\"$2a$10$qCBF2Jv9CoWXfrCgBWfb/.ObnP3wZm5XAgCG1JzKp9YDeqdW94lGy\",\"last_token\":\"$2a$10$hRnNLElWKCE6IeSSAK02qOaBUw9kUZdrojYY/ppi1KP50FJG.P6.a\",\"updated_at\":\"2024-05-06T17:46:48Z\"},\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"}}"], ["updated_at", "2024-05-08 06:21:26.214726"], ["id", 3]]
  [1m[35m (11.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 353ms (Views: 0.3ms | ActiveRecord: 26.3ms | Allocations: 16671)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-08 15:21:26 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 354ms (Views: 1.2ms | ActiveRecord: 1.0ms | Allocations: 13024)


Started GET "/auth/validate_token" for ::1 at 2024-05-09 20:54:55 +0900
  [1m[35m (2.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 284ms (Views: 2.0ms | ActiveRecord: 3.5ms | Allocations: 13725)


Started POST "/auth/sign_in" for ::1 at 2024-05-09 20:55:02 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
Completed 401 Unauthorized in 326ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 2105)


Started POST "/auth/sign_in" for ::1 at 2024-05-09 20:55:06 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$ZazPyfNfBUQACE1kW7dfyuJBJu0JPvefW..dfo8pK5.jnF9xpKGZy\",\"expiry\":1716465307}}"], ["updated_at", "2024-05-09 11:55:07.504578"], ["id", 3]]
  [1m[35m (14.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"expiry\":1716465307,\"previous_token\":\"$2a$10$ZazPyfNfBUQACE1kW7dfyuJBJu0JPvefW..dfo8pK5.jnF9xpKGZy\",\"updated_at\":\"2024-05-09T11:55:07Z\"}}"], ["updated_at", "2024-05-09 11:55:07.694921"], ["id", 3]]
  [1m[35m (9.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 794ms (Views: 0.2ms | ActiveRecord: 27.0ms | Allocations: 19854)


Started GET "/auth/validate_token" for ::1 at 2024-05-09 20:55:07 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 138ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 7890)


Started GET "/cable" for ::1 at 2024-05-09 20:55:07 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-09 20:55:07 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-09 20:55:07 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"expiry\":1716465307,\"previous_token\":\"$2a$10$ZazPyfNfBUQACE1kW7dfyuJBJu0JPvefW..dfo8pK5.jnF9xpKGZy\",\"updated_at\":\"2024-05-09T11:55:08Z\"}}"], ["updated_at", "2024-05-09 11:55:08.052985"], ["id", 3]]
  [1m[35m (12.9ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 99ms (Views: 2.4ms | ActiveRecord: 17.2ms | Allocations: 25274)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-09 21:11:18 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-09 21:11:18 +0900
  [1m[35m (8.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (4.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (4.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"expiry\":1716466279,\"previous_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"last_token\":\"$2a$10$ZazPyfNfBUQACE1kW7dfyuJBJu0JPvefW..dfo8pK5.jnF9xpKGZy\",\"updated_at\":\"2024-05-09T12:11:19Z\"}}"], ["updated_at", "2024-05-09 12:11:20.001497"], ["id", 3]]
  [1m[35m (19.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 701ms (Views: 23.9ms | ActiveRecord: 31.1ms | Allocations: 9962)


Started GET "/cable" for ::1 at 2024-05-09 21:11:20 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-09 21:11:20 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-09 21:11:20 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"expiry\":1716466279,\"previous_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"last_token\":\"$2a$10$ZazPyfNfBUQACE1kW7dfyuJBJu0JPvefW..dfo8pK5.jnF9xpKGZy\",\"updated_at\":\"2024-05-09T12:11:21Z\"}}"], ["updated_at", "2024-05-09 12:11:21.110041"], ["id", 3]]
  [1m[35m (15.7ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 301ms (Views: 8.3ms | ActiveRecord: 18.6ms | Allocations: 15152)


Started POST "/messages/35/likes" for ::1 at 2024-05-09 21:11:24 +0900
Processing by LikesController#create as HTML
  Parameters: {"id"=>"35", "like"=>{}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 35], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mLike Create (3.5ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "message_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["message_id", 35], ["created_at", "2024-05-09 12:11:24.692189"], ["updated_at", "2024-05-09 12:11:24.692189"]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[35m (15.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"expiry\":1716466279,\"previous_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"last_token\":\"$2a$10$ZazPyfNfBUQACE1kW7dfyuJBJu0JPvefW..dfo8pK5.jnF9xpKGZy\",\"updated_at\":\"2024-05-09T12:11:24Z\"}}"], ["updated_at", "2024-05-09 12:11:24.745874"], ["id", 3]]
  [1m[35m (14.9ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 320ms (Views: 1.2ms | ActiveRecord: 37.5ms | Allocations: 17094)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-09 21:11:24 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (2.1ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"expiry\":1716466279,\"previous_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"last_token\":\"$2a$10$ZazPyfNfBUQACE1kW7dfyuJBJu0JPvefW..dfo8pK5.jnF9xpKGZy\",\"updated_at\":\"2024-05-09T12:11:25Z\"}}"], ["updated_at", "2024-05-09 12:11:25.029934"], ["id", 3]]
  [1m[35m (13.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 217ms (Views: 11.4ms | ActiveRecord: 17.1ms | Allocations: 15191)


Started DELETE "/likes/19" for ::1 at 2024-05-09 21:11:26 +0900
Processing by LikesController#destroy as HTML
  Parameters: {"id"=>"19"}
  [1m[36mLike Load (0.7ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:16:in `destroy'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/likes_controller.rb:18:in `destroy'
  [1m[36mLike Destroy (1.9ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = ?[0m  [["id", 19]]
  ↳ app/controllers/likes_controller.rb:18:in `destroy'
  [1m[35m (12.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/likes_controller.rb:18:in `destroy'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:19:in `destroy'
Completed 200 OK in 42ms (Views: 0.5ms | ActiveRecord: 15.2ms | Allocations: 5385)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-09 21:11:26 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (4.6ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"expiry\":1716466279,\"previous_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"last_token\":\"$2a$10$ZazPyfNfBUQACE1kW7dfyuJBJu0JPvefW..dfo8pK5.jnF9xpKGZy\",\"updated_at\":\"2024-05-09T12:11:26Z\"}}"], ["updated_at", "2024-05-09 12:11:26.549846"], ["id", 3]]
  [1m[35m (11.7ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 211ms (Views: 8.5ms | ActiveRecord: 17.6ms | Allocations: 15468)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-09 21:35:01 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-09 21:35:02 +0900
  [1m[35m (3.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (2.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.9ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"eRdYwQpRu-c7EDnbltQJcw\":{\"token\":\"$2a$10$mRkzKs06Y18dmihmYnfJJ.VMpZ3t147LNzhn0nPkISenVaYUTsDl2\",\"expiry\":1716228474,\"previous_token\":\"$2a$10$EC9Oy/7OuABV.jL6Uw.j.ezf6OdnHa9QHpsQ3eTfToI62/n0P6Hs6\",\"last_token\":\"$2a$10$yehIqmuCCp9BEVTCoVrxT.Zl0icMCIJp7ZPO/jNWI2kVqvOlFyDS6\",\"updated_at\":\"2024-05-06T18:07:54Z\"},\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"}}"], ["updated_at", "2024-05-09 12:35:03.748448"], ["id", 3]]
  [1m[35m (11.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 714ms (Views: 19.2ms | ActiveRecord: 19.0ms | Allocations: 9951)


Started GET "/auth/validate_token" for ::1 at 2024-05-09 21:39:40 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 487ms (Views: 3.6ms | ActiveRecord: 2.6ms | Allocations: 1424)


Started POST "/auth/sign_in" for ::1 at 2024-05-09 21:42:20 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.1ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$pszocO6CmZyJIe4hIuoeAufqP4RH95iJVKwPmsrph3iw6AgsPJoem\",\"expiry\":1716468140}}"], ["updated_at", "2024-05-09 12:42:20.896002"], ["id", 3]]
  [1m[35m (9.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"expiry\":1716468141,\"previous_token\":\"$2a$10$pszocO6CmZyJIe4hIuoeAufqP4RH95iJVKwPmsrph3iw6AgsPJoem\",\"updated_at\":\"2024-05-09T12:42:20Z\"}}"], ["updated_at", "2024-05-09 12:42:21.057599"], ["id", 3]]
  [1m[35m (12.9ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 848ms (Views: 0.4ms | ActiveRecord: 26.5ms | Allocations: 19083)


Started GET "/auth/validate_token" for ::1 at 2024-05-09 21:42:21 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"expiry\":1716468141,\"previous_token\":\"$2a$10$pszocO6CmZyJIe4hIuoeAufqP4RH95iJVKwPmsrph3iw6AgsPJoem\",\"updated_at\":\"2024-05-09T12:42:21Z\"}}"], ["updated_at", "2024-05-09 12:42:21.298108"], ["id", 3]]
  [1m[35m (17.3ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 226ms (Views: 0.6ms | ActiveRecord: 19.5ms | Allocations: 10419)


Started GET "/auth/validate_token" for ::1 at 2024-05-09 21:44:16 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"expiry\":1716468256,\"previous_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"last_token\":\"$2a$10$pszocO6CmZyJIe4hIuoeAufqP4RH95iJVKwPmsrph3iw6AgsPJoem\",\"updated_at\":\"2024-05-09T12:44:16Z\"}}"], ["updated_at", "2024-05-09 12:44:16.692799"], ["id", 3]]
  [1m[35m (75.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 471ms (Views: 1.8ms | ActiveRecord: 78.5ms | Allocations: 10173)


Started GET "/cable" for ::1 at 2024-05-09 21:44:54 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-09 21:44:54 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-09 21:44:54 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (2.9ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"UXAyt3DR2xx4pgkrgifl0g\":{\"token\":\"$2a$10$o.8sqnU3hJzVC.W4LqNNRenGQHtWPMrtgzmIIClgzfizUKO/9Hc62\",\"expiry\":1716229566,\"previous_token\":\"$2a$10$qjarEKIPU0nIkhIpMmHncuxttV1//vJXkcB0HPY2VCTIU.73b0lSK\",\"last_token\":\"$2a$10$OzzFanD/37Xv0K1.oR0BkOuFH9x4GH0flBI/iO3QEGkIc3vHNf.oS\",\"updated_at\":\"2024-05-06T18:26:06Z\"},\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"}}"], ["updated_at", "2024-05-09 12:44:55.249635"], ["id", 3]]
  [1m[35m (12.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 293ms (Views: 6.2ms | ActiveRecord: 16.7ms | Allocations: 15540)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-09 21:45:00 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-09 21:45:01 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 203ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 1423)


Started GET "/cable" for ::1 at 2024-05-09 21:45:01 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-09 21:45:01 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-09 21:45:01 +0900
Processing by MessagesController#index as HTML
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 7ms (Views: 0.8ms | ActiveRecord: 0.0ms | Allocations: 173)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-09 21:45:04 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 151ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1395)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-09 21:45:07 +0900
RoomChannel stopped streaming from room_channel
Started POST "/auth/sign_in" for ::1 at 2024-05-09 21:45:14 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (2.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$CD2wsqLnjBCiXXohlcNml.JgT006ruOcFah0a9CsaXNoWp7rHRkdK\",\"expiry\":1716468315}}"], ["updated_at", "2024-05-09 12:45:15.391716"], ["id", 3]]
  [1m[35m (11.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"expiry\":1716468315,\"previous_token\":\"$2a$10$CD2wsqLnjBCiXXohlcNml.JgT006ruOcFah0a9CsaXNoWp7rHRkdK\",\"updated_at\":\"2024-05-09T12:45:15Z\"}}"], ["updated_at", "2024-05-09 12:45:15.561238"], ["id", 3]]
  [1m[35m (13.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 832ms (Views: 0.4ms | ActiveRecord: 29.3ms | Allocations: 19105)


Started GET "/auth/validate_token" for ::1 at 2024-05-09 21:45:15 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 132ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 7882)


Started GET "/cable" for ::1 at 2024-05-09 21:45:15 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-09 21:45:15 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-09 21:45:15 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 25ms (Views: 1.8ms | ActiveRecord: 1.7ms | Allocations: 12581)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-09 21:50:37 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-09 21:50:38 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"expiry\":1716468638,\"previous_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"last_token\":\"$2a$10$CD2wsqLnjBCiXXohlcNml.JgT006ruOcFah0a9CsaXNoWp7rHRkdK\",\"updated_at\":\"2024-05-09T12:50:38Z\"}}"], ["updated_at", "2024-05-09 12:50:38.680881"], ["id", 3]]
  [1m[35m (12.3ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 184ms (Views: 0.6ms | ActiveRecord: 15.1ms | Allocations: 10173)


Started GET "/cable" for ::1 at 2024-05-09 21:50:38 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-09 21:50:38 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-09 21:50:38 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.8ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"expiry\":1716468638,\"previous_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"last_token\":\"$2a$10$CD2wsqLnjBCiXXohlcNml.JgT006ruOcFah0a9CsaXNoWp7rHRkdK\",\"updated_at\":\"2024-05-09T12:50:39Z\"}}"], ["updated_at", "2024-05-09 12:50:39.021995"], ["id", 3]]
  [1m[35m (17.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 243ms (Views: 4.0ms | ActiveRecord: 20.9ms | Allocations: 14806)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-09 21:54:18 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-09 21:54:19 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:19Z\"}}"], ["updated_at", "2024-05-09 12:54:19.580571"], ["id", 3]]
  [1m[35m (13.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 325ms (Views: 0.5ms | ActiveRecord: 16.3ms | Allocations: 10200)


Started GET "/cable" for ::1 at 2024-05-09 21:54:19 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-09 21:54:19 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-09 21:54:19 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (12.1ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"_JA2p5flXtFMxcX0TvrX9Q\":{\"token\":\"$2a$10$Caj0lPYPUSuwuv.8oK1L9.h721rfS3..fsSHDuHmnJ48oB8BGvhPC\",\"expiry\":1716230219,\"previous_token\":\"$2a$10$nR4q9fdnefiCBOuxPWK6/.j0nGHhxQ6mP3pSrC9LfPwrB2qvDeKFq\",\"last_token\":\"$2a$10$UffdyL.T0HeO25LrEWEVOuFXHbEyMcFLreJNStiv2ft8fVSwAdQVi\",\"updated_at\":\"2024-05-06T18:37:00Z\"},\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"}}"], ["updated_at", "2024-05-09 12:54:20.302727"], ["id", 3]]
  [1m[35m (15.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 667ms (Views: 4.1ms | ActiveRecord: 31.1ms | Allocations: 15160)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-09 22:02:01 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-09 22:02:02 +0900
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 300ms (Views: 0.8ms | ActiveRecord: 0.5ms | Allocations: 1466)


Started GET "/cable" for ::1 at 2024-05-09 22:02:03 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-09 22:02:03 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-09 22:02:03 +0900
Processing by MessagesController#index as HTML
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 163)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-09 22:02:05 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 184)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-09 22:02:07 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 184)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-09 22:02:07 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 184)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-09 22:02:07 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 184)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-09 22:02:07 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 184)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-09 22:02:07 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 184)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-09 22:02:12 +0900
RoomChannel stopped streaming from room_channel
Started POST "/auth/sign_in" for ::1 at 2024-05-09 22:02:21 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$.0xrcnzM8uC/27otbWPx6evDu5lZVqk8aftSHkOr3.oMrWBX6ibwq\",\"expiry\":1716469342}}"], ["updated_at", "2024-05-09 13:02:22.067348"], ["id", 3]]
  [1m[35m (12.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"expiry\":1716469342,\"previous_token\":\"$2a$10$.0xrcnzM8uC/27otbWPx6evDu5lZVqk8aftSHkOr3.oMrWBX6ibwq\",\"updated_at\":\"2024-05-09T13:02:22Z\"}}"], ["updated_at", "2024-05-09 13:02:22.255350"], ["id", 3]]
  [1m[35m (9.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 789ms (Views: 0.5ms | ActiveRecord: 24.7ms | Allocations: 19245)


Started GET "/auth/validate_token" for ::1 at 2024-05-09 22:02:22 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 123ms (Views: 0.4ms | ActiveRecord: 0.9ms | Allocations: 7883)


Started GET "/cable" for ::1 at 2024-05-09 22:02:22 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-09 22:02:22 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-09 22:02:22 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 32ms (Views: 2.0ms | ActiveRecord: 2.0ms | Allocations: 12610)


Started DELETE "/messages/23" for ::1 at 2024-05-09 22:02:40 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"id"=>"23"}
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:32:in `destroy'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:34:in `destroy'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/messages_controller.rb:35:in `destroy'
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 23]]
  ↳ app/controllers/messages_controller.rb:35:in `destroy'
  [1m[36mMessage Destroy (1.7ms)[0m  [1m[31mDELETE FROM "messages" WHERE "messages"."id" = ?[0m  [["id", 23]]
  ↳ app/controllers/messages_controller.rb:35:in `destroy'
  [1m[35m (10.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/messages_controller.rb:35:in `destroy'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"expiry\":1716469360,\"previous_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"last_token\":\"$2a$10$.0xrcnzM8uC/27otbWPx6evDu5lZVqk8aftSHkOr3.oMrWBX6ibwq\",\"updated_at\":\"2024-05-09T13:02:40Z\"}}"], ["updated_at", "2024-05-09 13:02:40.987555"], ["id", 3]]
  [1m[35m (12.5ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 196ms (ActiveRecord: 26.4ms | Allocations: 15343)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-09 22:02:41 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"expiry\":1716469360,\"previous_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"last_token\":\"$2a$10$.0xrcnzM8uC/27otbWPx6evDu5lZVqk8aftSHkOr3.oMrWBX6ibwq\",\"updated_at\":\"2024-05-09T13:02:41Z\"}}"], ["updated_at", "2024-05-09 13:02:41.228784"], ["id", 3]]
  [1m[35m (12.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 185ms (Views: 1.9ms | ActiveRecord: 14.3ms | Allocations: 15630)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-09 22:03:48 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-09 22:03:49 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (2.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:49Z\"}}"], ["updated_at", "2024-05-09 13:03:49.766052"], ["id", 3]]
  [1m[35m (16.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 484ms (Views: 0.5ms | ActiveRecord: 20.2ms | Allocations: 10212)


Started GET "/cable" for ::1 at 2024-05-09 22:03:49 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-09 22:03:49 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-09 22:03:49 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.1ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"F2OptDqbosF-wdgEuGhoIg\":{\"token\":\"$2a$10$TmsrMkp9aP.0.SosOw8AX.CGlUxwuBepbzJMOL6cvR4vyc6WDUqxK\",\"expiry\":1716230453,\"previous_token\":\"$2a$10$MnEdbjcam09hPeEIjIWXKuXeFUPU5n6mJndlCiuIakXsTTiytt3rS\",\"last_token\":\"$2a$10$jXUhJK9v9EZQVCjo173qSOxObCYWbDlVruh3WlZpyFeTLl7lI1We.\",\"updated_at\":\"2024-05-06T18:40:56Z\"},\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"}}"], ["updated_at", "2024-05-09 13:03:50.429620"], ["id", 3]]
  [1m[35m (15.3ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 581ms (Views: 2.6ms | ActiveRecord: 18.5ms | Allocations: 15659)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-09 22:04:42 +0900
RoomChannel stopped streaming from room_channel
Started GET "/cable" for ::1 at 2024-05-10 00:03:16 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-10 00:03:16 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-10 00:03:16 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 243ms (Views: 1.3ms | ActiveRecord: 0.8ms | Allocations: 1414)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-10 00:12:20 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-10 00:12:21 +0900
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 258ms (Views: 1.3ms | ActiveRecord: 1.0ms | Allocations: 1468)


Started GET "/cable" for ::1 at 2024-05-10 00:12:22 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-10 00:12:22 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-10 00:12:22 +0900
Processing by MessagesController#index as HTML
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 6ms (Views: 0.6ms | ActiveRecord: 0.0ms | Allocations: 163)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-10 00:12:26 +0900
RoomChannel stopped streaming from room_channel
Started POST "/auth/sign_in" for ::1 at 2024-05-10 00:12:47 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$hjCbDnpCZiS9LBzouMhiueZailjXmwajjIujjgzmNLiXVyDcqT4i.\",\"expiry\":1716477168}}"], ["updated_at", "2024-05-09 15:12:48.261086"], ["id", 3]]
  [1m[35m (11.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"expiry\":1716477168,\"previous_token\":\"$2a$10$hjCbDnpCZiS9LBzouMhiueZailjXmwajjIujjgzmNLiXVyDcqT4i.\",\"updated_at\":\"2024-05-09T15:12:48Z\"}}"], ["updated_at", "2024-05-09 15:12:48.425090"], ["id", 3]]
  [1m[35m (11.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 869ms (Views: 0.6ms | ActiveRecord: 27.5ms | Allocations: 18845)


Started GET "/auth/validate_token" for ::1 at 2024-05-10 00:12:48 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 159ms (Views: 0.3ms | ActiveRecord: 0.9ms | Allocations: 7913)


Started GET "/cable" for ::1 at 2024-05-10 00:12:48 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-10 00:12:48 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-10 00:12:48 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 82ms (Views: 9.9ms | ActiveRecord: 3.3ms | Allocations: 12442)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-10 00:18:32 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-10 00:18:32 +0900
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (4.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.9ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"expiry\":1716477513,\"previous_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"last_token\":\"$2a$10$hjCbDnpCZiS9LBzouMhiueZailjXmwajjIujjgzmNLiXVyDcqT4i.\",\"updated_at\":\"2024-05-09T15:18:32Z\"}}"], ["updated_at", "2024-05-09 15:18:33.069558"], ["id", 3]]
  [1m[35m (17.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 876ms (Views: 8.0ms | ActiveRecord: 25.7ms | Allocations: 10298)


Started GET "/cable" for ::1 at 2024-05-10 00:18:33 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-10 00:18:33 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-10 00:18:33 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (3.9ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"expiry\":1716477513,\"previous_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"last_token\":\"$2a$10$hjCbDnpCZiS9LBzouMhiueZailjXmwajjIujjgzmNLiXVyDcqT4i.\",\"updated_at\":\"2024-05-09T15:18:33Z\"}}"], ["updated_at", "2024-05-09 15:18:33.919442"], ["id", 3]]
  [1m[35m (16.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 349ms (Views: 13.6ms | ActiveRecord: 24.1ms | Allocations: 14981)


Started DELETE "/messages/31" for ::1 at 2024-05-10 00:23:16 +0900
Processing by MessagesController#destroy as HTML
  Parameters: {"id"=>"31"}
  [1m[36mMessage Load (1.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:32:in `destroy'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:34:in `destroy'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/messages_controller.rb:35:in `destroy'
  [1m[36mLike Load (0.7ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."message_id" = ?[0m  [["message_id", 31]]
  ↳ app/controllers/messages_controller.rb:35:in `destroy'
  [1m[36mLike Destroy (1.2ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = ?[0m  [["id", 18]]
  ↳ app/controllers/messages_controller.rb:35:in `destroy'
  [1m[36mMessage Destroy (0.4ms)[0m  [1m[31mDELETE FROM "messages" WHERE "messages"."id" = ?[0m  [["id", 31]]
  ↳ app/controllers/messages_controller.rb:35:in `destroy'
  [1m[35m (11.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/messages_controller.rb:35:in `destroy'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"6AsxqZZbXCDb9vvr_7HxJw\":{\"token\":\"$2a$10$5dGshAAmBkgJEafjjfP1keCE3FKAj3EO3eaYKAqa6zvzVG0awFi0i\",\"expiry\":1716256267,\"previous_token\":\"$2a$10$LvlDV3cQHwS6678Ly0XFxenMMKhu28EdxgROD1XFMfzFcG1voz1SW\",\"updated_at\":\"2024-05-07T01:51:07Z\"},\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"}}"], ["updated_at", "2024-05-09 15:23:16.331028"], ["id", 3]]
  [1m[35m (9.1ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 284ms (ActiveRecord: 25.0ms | Allocations: 16441)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-10 00:23:16 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 303ms (Views: 4.0ms | ActiveRecord: 2.4ms | Allocations: 12301)


Started DELETE "/likes/14" for ::1 at 2024-05-10 00:24:11 +0900
Processing by LikesController#destroy as HTML
  Parameters: {"id"=>"14"}
  [1m[36mLike Load (1.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:16:in `destroy'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/likes_controller.rb:18:in `destroy'
  [1m[36mLike Destroy (2.2ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = ?[0m  [["id", 14]]
  ↳ app/controllers/likes_controller.rb:18:in `destroy'
  [1m[35m (13.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/likes_controller.rb:18:in `destroy'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:19:in `destroy'
Completed 200 OK in 57ms (Views: 0.6ms | ActiveRecord: 17.5ms | Allocations: 5117)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-10 00:24:13 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 323ms (Views: 0.7ms | ActiveRecord: 0.6ms | Allocations: 1414)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-10 00:24:56 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 218ms (Views: 2.8ms | ActiveRecord: 2.4ms | Allocations: 1433)


Started DELETE "/likes/14" for ::1 at 2024-05-10 00:25:00 +0900
Processing by LikesController#destroy as HTML
  Parameters: {"id"=>"14"}
  [1m[36mLike Load (0.5ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:16:in `destroy'
Completed 404 Not Found in 11ms (ActiveRecord: 0.5ms | Allocations: 619)


  
ActiveRecord::RecordNotFound (Couldn't find Like with 'id'=14):
  
app/controllers/likes_controller.rb:16:in `destroy'
Finished "/cable/" [WebSocket] for ::1 at 2024-05-10 00:25:23 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-10 00:25:25 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 220ms (Views: 0.6ms | ActiveRecord: 0.9ms | Allocations: 1553)


Started GET "/cable" for ::1 at 2024-05-10 00:25:25 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-10 00:25:25 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-10 00:25:26 +0900
Processing by MessagesController#index as HTML
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.6ms | ActiveRecord: 0.0ms | Allocations: 163)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-10 00:25:31 +0900
RoomChannel stopped streaming from room_channel
Started POST "/auth/sign_in" for ::1 at 2024-05-10 00:26:38 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (2.1ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"m0Utxseq5pdFswPeb5CtVQ\":{\"token\":\"$2a$10$bcuBGoTmHRkEkI3ck1bl.OflNBqA/VnNaTff9CgmNz9PyUVUVm0xa\",\"expiry\":1716477998}}"], ["updated_at", "2024-05-09 15:26:39.007591"], ["id", 3]]
  [1m[35m (15.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"m0Utxseq5pdFswPeb5CtVQ\":{\"token\":\"$2a$10$QFR..5NzsQloygKcMwE/b.4hPiY0RBIA4sYIoK919LYMTf34fLdFu\",\"expiry\":1716477999,\"previous_token\":\"$2a$10$bcuBGoTmHRkEkI3ck1bl.OflNBqA/VnNaTff9CgmNz9PyUVUVm0xa\",\"updated_at\":\"2024-05-09T15:26:39Z\"}}"], ["updated_at", "2024-05-09 15:26:39.201356"], ["id", 3]]
  [1m[35m (11.7ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 748ms (Views: 0.6ms | ActiveRecord: 34.4ms | Allocations: 18736)


Started GET "/auth/validate_token" for ::1 at 2024-05-10 00:26:39 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 155ms (Views: 0.3ms | ActiveRecord: 0.9ms | Allocations: 7890)


Started GET "/cable" for ::1 at 2024-05-10 00:26:39 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-10 00:26:39 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-10 00:26:39 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (2.0ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 65ms (Views: 3.9ms | ActiveRecord: 2.9ms | Allocations: 12163)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-10 00:28:10 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"}}"], ["updated_at", "2024-05-09 15:28:10.061299"], ["id", 3]]
  [1m[35m (11.7ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 26ms (Views: 0.2ms | ActiveRecord: 13.0ms | Allocations: 6358)


Unsubscribing from channel: {"channel":"RoomChannel"}
RoomChannel stopped streaming from room_channel
Started POST "/auth/sign_in" for ::1 at 2024-05-10 00:28:16 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$UHxGQUPY4rPQ6snJ38CJKuMLRQteAQdPqvJEYpbaEv7RjQLACB8GO\",\"expiry\":1716478097}}"], ["updated_at", "2024-05-09 15:28:17.109304"], ["id", 3]]
  [1m[35m (11.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (2.8ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"expiry\":1716478097,\"previous_token\":\"$2a$10$UHxGQUPY4rPQ6snJ38CJKuMLRQteAQdPqvJEYpbaEv7RjQLACB8GO\",\"updated_at\":\"2024-05-09T15:28:17Z\"}}"], ["updated_at", "2024-05-09 15:28:17.301180"], ["id", 3]]
  [1m[35m (13.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 673ms (Views: 0.2ms | ActiveRecord: 30.0ms | Allocations: 18370)


Started GET "/auth/validate_token" for ::1 at 2024-05-10 00:28:17 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 125ms (Views: 0.3ms | ActiveRecord: 0.6ms | Allocations: 7886)


Started GET "/cable" for ::1 at 2024-05-10 00:28:17 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-10 00:28:17 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-10 00:28:17 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 37ms (Views: 3.0ms | ActiveRecord: 3.0ms | Allocations: 12151)


Started PUT "/messages/28" for ::1 at 2024-05-10 00:29:38 +0900
Processing by MessagesController#update as HTML
  Parameters: {"content"=>"こんにちは（編集済みfrom Modal)", "id"=>"28", "message"=>{"content"=>"こんにちは（編集済みfrom Modal)"}}
  [1m[36mMessage Load (1.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:23:in `update'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/messages_controller.rb:24:in `update'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:24:in `update'
  [1m[36mMessage Update (0.6ms)[0m  [1m[33mUPDATE "messages" SET "content" = ?, "updated_at" = ? WHERE "messages"."id" = ?[0m  [["content", "こんにちは（編集済みfrom Modal)"], ["updated_at", "2024-05-09 15:29:38.673793"], ["id", 28]]
  ↳ app/controllers/messages_controller.rb:24:in `update'
  [1m[35m (8.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/messages_controller.rb:24:in `update'
Completed 200 OK in 43ms (Views: 0.8ms | ActiveRecord: 10.9ms | Allocations: 5803)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-10 00:30:16 +0900
RoomChannel stopped streaming from room_channel
Finished "/cable/" [WebSocket] for ::1 at 2024-05-10 00:30:16 +0900
Started GET "/auth/validate_token" for ::1 at 2024-05-10 00:30:17 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (3.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$i8i4Xuwl/gO9n9ySLaZVA.naRL/PoVsFogSR6dla/0y0LtVRfUnPm\",\"expiry\":1716478217,\"previous_token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"last_token\":\"$2a$10$UHxGQUPY4rPQ6snJ38CJKuMLRQteAQdPqvJEYpbaEv7RjQLACB8GO\",\"updated_at\":\"2024-05-09T15:30:17Z\"}}"], ["updated_at", "2024-05-09 15:30:17.661416"], ["id", 3]]
  [1m[35m (13.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 381ms (Views: 1.8ms | ActiveRecord: 20.4ms | Allocations: 10498)


Started GET "/auth/validate_token" for ::1 at 2024-05-10 00:30:38 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (17.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (2.1ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"jEdeoEAtKgAQJh4E5gnuqw\":{\"token\":\"$2a$10$Cr3FzxmBSGc6zCly54nVzOCIT413wLUTtoxXplBbWWb/9qMmNjRN2\",\"expiry\":1716309528,\"previous_token\":\"$2a$10$moBGRrF4YLiD1iIQTKgtouHCvEgoiFr3dF0Czv33svk8GPO2CJDbe\",\"last_token\":\"$2a$10$nfgw3ZvW0e0UDKRx/nCjzOP3ICqklOFR/xWWny1vv.GIjtQ0X/QlS\",\"updated_at\":\"2024-05-07T16:38:48Z\"},\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$18gnC7W9EPc4IFlxqjQ2beusKf3SyEvotkxZXsPvfGcaEnErcDixi\",\"expiry\":1716478239,\"previous_token\":\"$2a$10$i8i4Xuwl/gO9n9ySLaZVA.naRL/PoVsFogSR6dla/0y0LtVRfUnPm\",\"last_token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"updated_at\":\"2024-05-09T15:30:38Z\"}}"], ["updated_at", "2024-05-09 15:30:39.055751"], ["id", 3]]
  [1m[35m (11.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 300ms (Views: 0.3ms | ActiveRecord: 33.5ms | Allocations: 10186)


Started GET "/cable" for ::1 at 2024-05-10 00:30:40 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-10 00:30:40 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-10 00:30:42 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 262ms (Views: 0.9ms | ActiveRecord: 0.8ms | Allocations: 1415)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-10 00:30:45 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-10 00:30:46 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 228ms (Views: 1.9ms | ActiveRecord: 0.5ms | Allocations: 1426)


Started POST "/auth/sign_in" for ::1 at 2024-05-10 00:30:57 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$18gnC7W9EPc4IFlxqjQ2beusKf3SyEvotkxZXsPvfGcaEnErcDixi\",\"expiry\":1716478239,\"previous_token\":\"$2a$10$i8i4Xuwl/gO9n9ySLaZVA.naRL/PoVsFogSR6dla/0y0LtVRfUnPm\",\"last_token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"updated_at\":\"2024-05-09T15:30:38Z\"},\"oO0Gw-rdlgcmvjO4UY6_mA\":{\"token\":\"$2a$10$rUO.18OGp4wvLJ9gzZ2sW.Q42hkUpNYl0bHyKVCWeBheeDztxUcIK\",\"expiry\":1716478258}}"], ["updated_at", "2024-05-09 15:30:58.240662"], ["id", 3]]
  [1m[35m (10.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$18gnC7W9EPc4IFlxqjQ2beusKf3SyEvotkxZXsPvfGcaEnErcDixi\",\"expiry\":1716478239,\"previous_token\":\"$2a$10$i8i4Xuwl/gO9n9ySLaZVA.naRL/PoVsFogSR6dla/0y0LtVRfUnPm\",\"last_token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"updated_at\":\"2024-05-09T15:30:38Z\"},\"oO0Gw-rdlgcmvjO4UY6_mA\":{\"token\":\"$2a$10$U3Hajk4k.0wDOXwaQK1D7eK6O32HkWZyPpL.Mqq0p2FhnQ7a7mN1O\",\"expiry\":1716478258,\"previous_token\":\"$2a$10$rUO.18OGp4wvLJ9gzZ2sW.Q42hkUpNYl0bHyKVCWeBheeDztxUcIK\",\"updated_at\":\"2024-05-09T15:30:58Z\"}}"], ["updated_at", "2024-05-09 15:30:58.379904"], ["id", 3]]
  [1m[35m (10.9ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 741ms (Views: 0.6ms | ActiveRecord: 23.6ms | Allocations: 19147)


Started GET "/auth/validate_token" for ::1 at 2024-05-10 00:30:58 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 143ms (Views: 0.3ms | ActiveRecord: 0.9ms | Allocations: 7887)


Started GET "/cable" for ::1 at 2024-05-10 00:30:58 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-10 00:30:58 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-10 00:30:58 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (6.3ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 229ms (Views: 14.7ms | ActiveRecord: 8.4ms | Allocations: 12151)


Started PUT "/messages/4" for ::1 at 2024-05-10 00:32:21 +0900
Processing by MessagesController#update as HTML
  Parameters: {"content"=>"edit", "id"=>"4", "message"=>{"content"=>"edit"}}
  [1m[36mMessage Load (0.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:23:in `update'
  [1m[35m (0.7ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/messages_controller.rb:24:in `update'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:24:in `update'
  [1m[36mMessage Update (1.6ms)[0m  [1m[33mUPDATE "messages" SET "content" = ?, "updated_at" = ? WHERE "messages"."id" = ?[0m  [["content", "edit"], ["updated_at", "2024-05-09 15:32:21.059561"], ["id", 4]]
  ↳ app/controllers/messages_controller.rb:24:in `update'
  [1m[35m (16.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/messages_controller.rb:24:in `update'
Completed 200 OK in 67ms (Views: 1.0ms | ActiveRecord: 20.3ms | Allocations: 6338)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-10 00:32:21 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (7.0ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$18gnC7W9EPc4IFlxqjQ2beusKf3SyEvotkxZXsPvfGcaEnErcDixi\",\"expiry\":1716478239,\"previous_token\":\"$2a$10$i8i4Xuwl/gO9n9ySLaZVA.naRL/PoVsFogSR6dla/0y0LtVRfUnPm\",\"last_token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"updated_at\":\"2024-05-09T15:30:38Z\"},\"oO0Gw-rdlgcmvjO4UY6_mA\":{\"token\":\"$2a$10$/bICJK4kLWWtVXKYuhd2v.inViN5qLG38OmL9KkWqnWAh.C5vXXjq\",\"expiry\":1716478341,\"previous_token\":\"$2a$10$U3Hajk4k.0wDOXwaQK1D7eK6O32HkWZyPpL.Mqq0p2FhnQ7a7mN1O\",\"last_token\":\"$2a$10$rUO.18OGp4wvLJ9gzZ2sW.Q42hkUpNYl0bHyKVCWeBheeDztxUcIK\",\"updated_at\":\"2024-05-09T15:32:21Z\"}}"], ["updated_at", "2024-05-09 15:32:21.464360"], ["id", 3]]
  [1m[35m (15.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 313ms (Views: 5.7ms | ActiveRecord: 25.8ms | Allocations: 14388)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-10 00:32:59 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$18gnC7W9EPc4IFlxqjQ2beusKf3SyEvotkxZXsPvfGcaEnErcDixi\",\"expiry\":1716478239,\"previous_token\":\"$2a$10$i8i4Xuwl/gO9n9ySLaZVA.naRL/PoVsFogSR6dla/0y0LtVRfUnPm\",\"last_token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"updated_at\":\"2024-05-09T15:30:38Z\"},\"oO0Gw-rdlgcmvjO4UY6_mA\":{\"token\":\"$2a$10$dblT2u5Fnss.cvmY.s2mXORje5y1xg3CL9gYAE3ll6ZvZDTxCCTEu\",\"expiry\":1716478379,\"previous_token\":\"$2a$10$/bICJK4kLWWtVXKYuhd2v.inViN5qLG38OmL9KkWqnWAh.C5vXXjq\",\"last_token\":\"$2a$10$U3Hajk4k.0wDOXwaQK1D7eK6O32HkWZyPpL.Mqq0p2FhnQ7a7mN1O\",\"updated_at\":\"2024-05-09T15:32:59Z\"}}"], ["updated_at", "2024-05-09 15:32:59.849625"], ["id", 3]]
  [1m[35m (10.3ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 279ms (Views: 2.3ms | ActiveRecord: 12.5ms | Allocations: 14741)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-10 00:33:01 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-10 00:33:01 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"Zi4mFxzFsEBnGtICZrdjiA\":{\"token\":\"$2a$10$1m1SetQwZSXnC5YDl3D/hu7o2GtB8DROPdPJuHtY8HFbJaT90ZOqa\",\"expiry\":1716357904,\"previous_token\":\"$2a$10$e1WznCuHu/BuXwWeaIZHguImM74a9x6s6ow33RahRJcZDuIDbK/fu\",\"updated_at\":\"2024-05-08T06:05:04Z\"},\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$18gnC7W9EPc4IFlxqjQ2beusKf3SyEvotkxZXsPvfGcaEnErcDixi\",\"expiry\":1716478239,\"previous_token\":\"$2a$10$i8i4Xuwl/gO9n9ySLaZVA.naRL/PoVsFogSR6dla/0y0LtVRfUnPm\",\"last_token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"updated_at\":\"2024-05-09T15:30:38Z\"},\"oO0Gw-rdlgcmvjO4UY6_mA\":{\"token\":\"$2a$10$dblT2u5Fnss.cvmY.s2mXORje5y1xg3CL9gYAE3ll6ZvZDTxCCTEu\",\"expiry\":1716478379,\"previous_token\":\"$2a$10$/bICJK4kLWWtVXKYuhd2v.inViN5qLG38OmL9KkWqnWAh.C5vXXjq\",\"last_token\":\"$2a$10$U3Hajk4k.0wDOXwaQK1D7eK6O32HkWZyPpL.Mqq0p2FhnQ7a7mN1O\",\"updated_at\":\"2024-05-09T15:33:02Z\"}}"], ["updated_at", "2024-05-09 15:33:02.127024"], ["id", 3]]
  [1m[35m (10.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 436ms (Views: 0.2ms | ActiveRecord: 11.6ms | Allocations: 10226)


Started GET "/auth/validate_token" for ::1 at 2024-05-10 00:33:13 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 418ms (Views: 0.6ms | ActiveRecord: 0.5ms | Allocations: 1513)


Started GET "/cable" for ::1 at 2024-05-10 00:33:13 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-10 00:33:13 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-10 00:33:13 +0900
Processing by MessagesController#index as HTML
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 163)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-10 00:33:18 +0900
RoomChannel stopped streaming from room_channel
Started POST "/auth/sign_in" for ::1 at 2024-05-10 00:33:25 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@teset.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@teset.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@teset.com"], ["provider", "email"], ["LIMIT", 1]]
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1381)


Started POST "/auth/sign_in" for ::1 at 2024-05-10 00:33:29 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$18gnC7W9EPc4IFlxqjQ2beusKf3SyEvotkxZXsPvfGcaEnErcDixi\",\"expiry\":1716478239,\"previous_token\":\"$2a$10$i8i4Xuwl/gO9n9ySLaZVA.naRL/PoVsFogSR6dla/0y0LtVRfUnPm\",\"last_token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"updated_at\":\"2024-05-09T15:30:38Z\"},\"oO0Gw-rdlgcmvjO4UY6_mA\":{\"token\":\"$2a$10$dblT2u5Fnss.cvmY.s2mXORje5y1xg3CL9gYAE3ll6ZvZDTxCCTEu\",\"expiry\":1716478379,\"previous_token\":\"$2a$10$/bICJK4kLWWtVXKYuhd2v.inViN5qLG38OmL9KkWqnWAh.C5vXXjq\",\"last_token\":\"$2a$10$U3Hajk4k.0wDOXwaQK1D7eK6O32HkWZyPpL.Mqq0p2FhnQ7a7mN1O\",\"updated_at\":\"2024-05-09T15:33:02Z\"},\"KMMzeCp4ZBBmMSmwa7TAdw\":{\"token\":\"$2a$10$pX95MbAxD1ZgR7x0EvcXN.icq5K7GDnZzemlxVaEHRzKgMzZ6Vg.6\",\"expiry\":1716478409}}"], ["updated_at", "2024-05-09 15:33:29.677415"], ["id", 3]]
  [1m[35m (10.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$18gnC7W9EPc4IFlxqjQ2beusKf3SyEvotkxZXsPvfGcaEnErcDixi\",\"expiry\":1716478239,\"previous_token\":\"$2a$10$i8i4Xuwl/gO9n9ySLaZVA.naRL/PoVsFogSR6dla/0y0LtVRfUnPm\",\"last_token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"updated_at\":\"2024-05-09T15:30:38Z\"},\"oO0Gw-rdlgcmvjO4UY6_mA\":{\"token\":\"$2a$10$dblT2u5Fnss.cvmY.s2mXORje5y1xg3CL9gYAE3ll6ZvZDTxCCTEu\",\"expiry\":1716478379,\"previous_token\":\"$2a$10$/bICJK4kLWWtVXKYuhd2v.inViN5qLG38OmL9KkWqnWAh.C5vXXjq\",\"last_token\":\"$2a$10$U3Hajk4k.0wDOXwaQK1D7eK6O32HkWZyPpL.Mqq0p2FhnQ7a7mN1O\",\"updated_at\":\"2024-05-09T15:33:02Z\"},\"KMMzeCp4ZBBmMSmwa7TAdw\":{\"token\":\"$2a$10$ewSWruJ3V4CFeoVS6og68ebtcBOo/gf4Hib4u7.D2byx8ni7gKuWu\",\"expiry\":1716478409,\"previous_token\":\"$2a$10$pX95MbAxD1ZgR7x0EvcXN.icq5K7GDnZzemlxVaEHRzKgMzZ6Vg.6\",\"updated_at\":\"2024-05-09T15:33:29Z\"}}"], ["updated_at", "2024-05-09 15:33:29.822796"], ["id", 3]]
  [1m[35m (11.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 746ms (Views: 0.2ms | ActiveRecord: 23.6ms | Allocations: 19026)


Started GET "/auth/validate_token" for ::1 at 2024-05-10 00:33:29 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 113ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 7893)


Started GET "/cable" for ::1 at 2024-05-10 00:33:30 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-10 00:33:30 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-10 00:33:30 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (2.8ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.1ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$18gnC7W9EPc4IFlxqjQ2beusKf3SyEvotkxZXsPvfGcaEnErcDixi\",\"expiry\":1716478239,\"previous_token\":\"$2a$10$i8i4Xuwl/gO9n9ySLaZVA.naRL/PoVsFogSR6dla/0y0LtVRfUnPm\",\"last_token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"updated_at\":\"2024-05-09T15:30:38Z\"},\"oO0Gw-rdlgcmvjO4UY6_mA\":{\"token\":\"$2a$10$dblT2u5Fnss.cvmY.s2mXORje5y1xg3CL9gYAE3ll6ZvZDTxCCTEu\",\"expiry\":1716478379,\"previous_token\":\"$2a$10$/bICJK4kLWWtVXKYuhd2v.inViN5qLG38OmL9KkWqnWAh.C5vXXjq\",\"last_token\":\"$2a$10$U3Hajk4k.0wDOXwaQK1D7eK6O32HkWZyPpL.Mqq0p2FhnQ7a7mN1O\",\"updated_at\":\"2024-05-09T15:33:02Z\"},\"KMMzeCp4ZBBmMSmwa7TAdw\":{\"token\":\"$2a$10$ewSWruJ3V4CFeoVS6og68ebtcBOo/gf4Hib4u7.D2byx8ni7gKuWu\",\"expiry\":1716478409,\"previous_token\":\"$2a$10$pX95MbAxD1ZgR7x0EvcXN.icq5K7GDnZzemlxVaEHRzKgMzZ6Vg.6\",\"updated_at\":\"2024-05-09T15:33:30Z\"}}"], ["updated_at", "2024-05-09 15:33:30.100569"], ["id", 3]]
  [1m[35m (10.3ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 58ms (Views: 1.4ms | ActiveRecord: 14.8ms | Allocations: 14985)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-10 00:40:17 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.5ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$18gnC7W9EPc4IFlxqjQ2beusKf3SyEvotkxZXsPvfGcaEnErcDixi\",\"expiry\":1716478239,\"previous_token\":\"$2a$10$i8i4Xuwl/gO9n9ySLaZVA.naRL/PoVsFogSR6dla/0y0LtVRfUnPm\",\"last_token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"updated_at\":\"2024-05-09T15:30:38Z\"},\"oO0Gw-rdlgcmvjO4UY6_mA\":{\"token\":\"$2a$10$dblT2u5Fnss.cvmY.s2mXORje5y1xg3CL9gYAE3ll6ZvZDTxCCTEu\",\"expiry\":1716478379,\"previous_token\":\"$2a$10$/bICJK4kLWWtVXKYuhd2v.inViN5qLG38OmL9KkWqnWAh.C5vXXjq\",\"last_token\":\"$2a$10$U3Hajk4k.0wDOXwaQK1D7eK6O32HkWZyPpL.Mqq0p2FhnQ7a7mN1O\",\"updated_at\":\"2024-05-09T15:33:02Z\"},\"KMMzeCp4ZBBmMSmwa7TAdw\":{\"token\":\"$2a$10$CDhYlwwtn/3IgnQ7Coc2lO3.LCPP8U69jATtwwscn8wYcRX8SlZiy\",\"expiry\":1716478817,\"previous_token\":\"$2a$10$ewSWruJ3V4CFeoVS6og68ebtcBOo/gf4Hib4u7.D2byx8ni7gKuWu\",\"last_token\":\"$2a$10$pX95MbAxD1ZgR7x0EvcXN.icq5K7GDnZzemlxVaEHRzKgMzZ6Vg.6\",\"updated_at\":\"2024-05-09T15:40:17Z\"}}"], ["updated_at", "2024-05-09 15:40:17.903382"], ["id", 3]]
  [1m[35m (9.7ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 162ms (Views: 3.9ms | ActiveRecord: 13.4ms | Allocations: 14433)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-10 00:40:50 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-10 00:42:02 +0900
  [1m[35m (2.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (2.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$18gnC7W9EPc4IFlxqjQ2beusKf3SyEvotkxZXsPvfGcaEnErcDixi\",\"expiry\":1716478239,\"previous_token\":\"$2a$10$i8i4Xuwl/gO9n9ySLaZVA.naRL/PoVsFogSR6dla/0y0LtVRfUnPm\",\"last_token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"updated_at\":\"2024-05-09T15:30:38Z\"},\"oO0Gw-rdlgcmvjO4UY6_mA\":{\"token\":\"$2a$10$dblT2u5Fnss.cvmY.s2mXORje5y1xg3CL9gYAE3ll6ZvZDTxCCTEu\",\"expiry\":1716478379,\"previous_token\":\"$2a$10$/bICJK4kLWWtVXKYuhd2v.inViN5qLG38OmL9KkWqnWAh.C5vXXjq\",\"last_token\":\"$2a$10$U3Hajk4k.0wDOXwaQK1D7eK6O32HkWZyPpL.Mqq0p2FhnQ7a7mN1O\",\"updated_at\":\"2024-05-09T15:33:02Z\"},\"KMMzeCp4ZBBmMSmwa7TAdw\":{\"token\":\"$2a$10$y4tOhWOcNUW7891xwDF.o.37kX.6iZeuJVy3aOibmqMoKwvLw.WEy\",\"expiry\":1716478922,\"previous_token\":\"$2a$10$CDhYlwwtn/3IgnQ7Coc2lO3.LCPP8U69jATtwwscn8wYcRX8SlZiy\",\"last_token\":\"$2a$10$ewSWruJ3V4CFeoVS6og68ebtcBOo/gf4Hib4u7.D2byx8ni7gKuWu\",\"updated_at\":\"2024-05-09T15:42:02Z\"}}"], ["updated_at", "2024-05-09 15:42:02.627577"], ["id", 3]]
  [1m[35m (10.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 425ms (Views: 0.3ms | ActiveRecord: 15.9ms | Allocations: 17054)


Started GET "/auth/validate_token" for ::1 at 2024-05-10 00:42:02 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"v-SOOFEHRv0BYIKZwM6NZw\":{\"token\":\"$2a$10$U3nG15lAWhTZ8/MFaj7i4eomjbtmno.ExTTsCX1wLxqX10n5OxlVO\",\"expiry\":1716357947,\"previous_token\":\"$2a$10$S7MUo/UWW3rdZM5rImr3h.wEC0C399K/HHSQ9trQpHWO8dmSMfSzK\",\"last_token\":\"$2a$10$KuFCN7OxFB5jFNR3crZB1OnUPzM3b8gtz7H2./VJmaSDh0IAqCWgq\",\"updated_at\":\"2024-05-08T06:05:47Z\"},\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$18gnC7W9EPc4IFlxqjQ2beusKf3SyEvotkxZXsPvfGcaEnErcDixi\",\"expiry\":1716478239,\"previous_token\":\"$2a$10$i8i4Xuwl/gO9n9ySLaZVA.naRL/PoVsFogSR6dla/0y0LtVRfUnPm\",\"last_token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"updated_at\":\"2024-05-09T15:30:38Z\"},\"oO0Gw-rdlgcmvjO4UY6_mA\":{\"token\":\"$2a$10$dblT2u5Fnss.cvmY.s2mXORje5y1xg3CL9gYAE3ll6ZvZDTxCCTEu\",\"expiry\":1716478379,\"previous_token\":\"$2a$10$/bICJK4kLWWtVXKYuhd2v.inViN5qLG38OmL9KkWqnWAh.C5vXXjq\",\"last_token\":\"$2a$10$U3Hajk4k.0wDOXwaQK1D7eK6O32HkWZyPpL.Mqq0p2FhnQ7a7mN1O\",\"updated_at\":\"2024-05-09T15:33:02Z\"},\"KMMzeCp4ZBBmMSmwa7TAdw\":{\"token\":\"$2a$10$y4tOhWOcNUW7891xwDF.o.37kX.6iZeuJVy3aOibmqMoKwvLw.WEy\",\"expiry\":1716478922,\"previous_token\":\"$2a$10$CDhYlwwtn/3IgnQ7Coc2lO3.LCPP8U69jATtwwscn8wYcRX8SlZiy\",\"last_token\":\"$2a$10$ewSWruJ3V4CFeoVS6og68ebtcBOo/gf4Hib4u7.D2byx8ni7gKuWu\",\"updated_at\":\"2024-05-09T15:42:03Z\"}}"], ["updated_at", "2024-05-09 15:42:03.142098"], ["id", 3]]
  [1m[35m (14.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 510ms (Views: 0.3ms | ActiveRecord: 16.1ms | Allocations: 10529)


Started GET "/cable" for ::1 at 2024-05-10 00:42:03 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-10 00:42:03 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-10 00:42:03 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 520ms (Views: 1.9ms | ActiveRecord: 2.7ms | Allocations: 22416)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-10 00:43:27 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 250ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 1452)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-10 00:43:28 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-10 00:43:29 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 218ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 1455)


Started GET "/cable" for ::1 at 2024-05-10 00:43:29 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-10 00:43:29 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-10 00:43:29 +0900
Processing by MessagesController#index as HTML
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 163)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-10 00:43:33 +0900
RoomChannel stopped streaming from room_channel
Started POST "/auth/sign_in" for ::1 at 2024-05-10 00:43:44 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (4.0ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$18gnC7W9EPc4IFlxqjQ2beusKf3SyEvotkxZXsPvfGcaEnErcDixi\",\"expiry\":1716478239,\"previous_token\":\"$2a$10$i8i4Xuwl/gO9n9ySLaZVA.naRL/PoVsFogSR6dla/0y0LtVRfUnPm\",\"last_token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"updated_at\":\"2024-05-09T15:30:38Z\"},\"oO0Gw-rdlgcmvjO4UY6_mA\":{\"token\":\"$2a$10$dblT2u5Fnss.cvmY.s2mXORje5y1xg3CL9gYAE3ll6ZvZDTxCCTEu\",\"expiry\":1716478379,\"previous_token\":\"$2a$10$/bICJK4kLWWtVXKYuhd2v.inViN5qLG38OmL9KkWqnWAh.C5vXXjq\",\"last_token\":\"$2a$10$U3Hajk4k.0wDOXwaQK1D7eK6O32HkWZyPpL.Mqq0p2FhnQ7a7mN1O\",\"updated_at\":\"2024-05-09T15:33:02Z\"},\"KMMzeCp4ZBBmMSmwa7TAdw\":{\"token\":\"$2a$10$y4tOhWOcNUW7891xwDF.o.37kX.6iZeuJVy3aOibmqMoKwvLw.WEy\",\"expiry\":1716478922,\"previous_token\":\"$2a$10$CDhYlwwtn/3IgnQ7Coc2lO3.LCPP8U69jATtwwscn8wYcRX8SlZiy\",\"last_token\":\"$2a$10$ewSWruJ3V4CFeoVS6og68ebtcBOo/gf4Hib4u7.D2byx8ni7gKuWu\",\"updated_at\":\"2024-05-09T15:42:03Z\"},\"CoVPTXb7xbNxSQSSsbVAcg\":{\"token\":\"$2a$10$4PbhNtz/vTAWO9.L7ka2Qu/T5Nwt7e3tVE3nMA8vdD2XxxsEGFLmy\",\"expiry\":1716479025}}"], ["updated_at", "2024-05-09 15:43:45.023920"], ["id", 3]]
  [1m[35m (13.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$18gnC7W9EPc4IFlxqjQ2beusKf3SyEvotkxZXsPvfGcaEnErcDixi\",\"expiry\":1716478239,\"previous_token\":\"$2a$10$i8i4Xuwl/gO9n9ySLaZVA.naRL/PoVsFogSR6dla/0y0LtVRfUnPm\",\"last_token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"updated_at\":\"2024-05-09T15:30:38Z\"},\"oO0Gw-rdlgcmvjO4UY6_mA\":{\"token\":\"$2a$10$dblT2u5Fnss.cvmY.s2mXORje5y1xg3CL9gYAE3ll6ZvZDTxCCTEu\",\"expiry\":1716478379,\"previous_token\":\"$2a$10$/bICJK4kLWWtVXKYuhd2v.inViN5qLG38OmL9KkWqnWAh.C5vXXjq\",\"last_token\":\"$2a$10$U3Hajk4k.0wDOXwaQK1D7eK6O32HkWZyPpL.Mqq0p2FhnQ7a7mN1O\",\"updated_at\":\"2024-05-09T15:33:02Z\"},\"KMMzeCp4ZBBmMSmwa7TAdw\":{\"token\":\"$2a$10$y4tOhWOcNUW7891xwDF.o.37kX.6iZeuJVy3aOibmqMoKwvLw.WEy\",\"expiry\":1716478922,\"previous_token\":\"$2a$10$CDhYlwwtn/3IgnQ7Coc2lO3.LCPP8U69jATtwwscn8wYcRX8SlZiy\",\"last_token\":\"$2a$10$ewSWruJ3V4CFeoVS6og68ebtcBOo/gf4Hib4u7.D2byx8ni7gKuWu\",\"updated_at\":\"2024-05-09T15:42:03Z\"},\"CoVPTXb7xbNxSQSSsbVAcg\":{\"token\":\"$2a$10$utYd5hbbL0bAyEn6ygjjy.yKsGtgfPYqoiyviwFDfB8oMNwpKSm6W\",\"expiry\":1716479025,\"previous_token\":\"$2a$10$4PbhNtz/vTAWO9.L7ka2Qu/T5Nwt7e3tVE3nMA8vdD2XxxsEGFLmy\",\"updated_at\":\"2024-05-09T15:43:45Z\"}}"], ["updated_at", "2024-05-09 15:43:45.224454"], ["id", 3]]
  [1m[35m (11.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 672ms (Views: 0.3ms | ActiveRecord: 31.0ms | Allocations: 19166)


Started GET "/auth/validate_token" for ::1 at 2024-05-10 00:43:45 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 146ms (Views: 0.3ms | ActiveRecord: 0.9ms | Allocations: 7974)


Started GET "/cable" for ::1 at 2024-05-10 00:43:45 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-10 00:43:45 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-10 00:43:45 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 27ms (Views: 1.4ms | ActiveRecord: 1.7ms | Allocations: 12132)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-10 00:45:07 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$18gnC7W9EPc4IFlxqjQ2beusKf3SyEvotkxZXsPvfGcaEnErcDixi\",\"expiry\":1716478239,\"previous_token\":\"$2a$10$i8i4Xuwl/gO9n9ySLaZVA.naRL/PoVsFogSR6dla/0y0LtVRfUnPm\",\"last_token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"updated_at\":\"2024-05-09T15:30:38Z\"},\"oO0Gw-rdlgcmvjO4UY6_mA\":{\"token\":\"$2a$10$dblT2u5Fnss.cvmY.s2mXORje5y1xg3CL9gYAE3ll6ZvZDTxCCTEu\",\"expiry\":1716478379,\"previous_token\":\"$2a$10$/bICJK4kLWWtVXKYuhd2v.inViN5qLG38OmL9KkWqnWAh.C5vXXjq\",\"last_token\":\"$2a$10$U3Hajk4k.0wDOXwaQK1D7eK6O32HkWZyPpL.Mqq0p2FhnQ7a7mN1O\",\"updated_at\":\"2024-05-09T15:33:02Z\"},\"KMMzeCp4ZBBmMSmwa7TAdw\":{\"token\":\"$2a$10$y4tOhWOcNUW7891xwDF.o.37kX.6iZeuJVy3aOibmqMoKwvLw.WEy\",\"expiry\":1716478922,\"previous_token\":\"$2a$10$CDhYlwwtn/3IgnQ7Coc2lO3.LCPP8U69jATtwwscn8wYcRX8SlZiy\",\"last_token\":\"$2a$10$ewSWruJ3V4CFeoVS6og68ebtcBOo/gf4Hib4u7.D2byx8ni7gKuWu\",\"updated_at\":\"2024-05-09T15:42:03Z\"},\"CoVPTXb7xbNxSQSSsbVAcg\":{\"token\":\"$2a$10$Cl1LxrnRQPDndmDsD4eey.4dGddA7hTv6FAYQ8jiP8ipIHbLJp24G\",\"expiry\":1716479107,\"previous_token\":\"$2a$10$utYd5hbbL0bAyEn6ygjjy.yKsGtgfPYqoiyviwFDfB8oMNwpKSm6W\",\"last_token\":\"$2a$10$4PbhNtz/vTAWO9.L7ka2Qu/T5Nwt7e3tVE3nMA8vdD2XxxsEGFLmy\",\"updated_at\":\"2024-05-09T15:45:07Z\"}}"], ["updated_at", "2024-05-09 15:45:07.451205"], ["id", 3]]
  [1m[35m (12.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 175ms (Views: 1.8ms | ActiveRecord: 15.2ms | Allocations: 14733)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-10 00:45:17 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"xQx0oDgqb9UnFh0EbdnTOg\":{\"token\":\"$2a$10$DFg5THwLcdPuGSCzaioZH.xvpTGCacFG4uwrHb7KFL8BiElFuGerW\",\"expiry\":1716358886,\"previous_token\":\"$2a$10$m4FNEnByWHcLQfevcxvR5OEWxAdsfEYrdN7G19UKLGPjB9QWhF.NC\",\"last_token\":\"$2a$10$1q2T61dTYnFGuST7PDE33eaa98oS7bpKChpCTcAPpHSpmszirlwLi\",\"updated_at\":\"2024-05-08T06:21:26Z\"},\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$18gnC7W9EPc4IFlxqjQ2beusKf3SyEvotkxZXsPvfGcaEnErcDixi\",\"expiry\":1716478239,\"previous_token\":\"$2a$10$i8i4Xuwl/gO9n9ySLaZVA.naRL/PoVsFogSR6dla/0y0LtVRfUnPm\",\"last_token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"updated_at\":\"2024-05-09T15:30:38Z\"},\"oO0Gw-rdlgcmvjO4UY6_mA\":{\"token\":\"$2a$10$dblT2u5Fnss.cvmY.s2mXORje5y1xg3CL9gYAE3ll6ZvZDTxCCTEu\",\"expiry\":1716478379,\"previous_token\":\"$2a$10$/bICJK4kLWWtVXKYuhd2v.inViN5qLG38OmL9KkWqnWAh.C5vXXjq\",\"last_token\":\"$2a$10$U3Hajk4k.0wDOXwaQK1D7eK6O32HkWZyPpL.Mqq0p2FhnQ7a7mN1O\",\"updated_at\":\"2024-05-09T15:33:02Z\"},\"KMMzeCp4ZBBmMSmwa7TAdw\":{\"token\":\"$2a$10$y4tOhWOcNUW7891xwDF.o.37kX.6iZeuJVy3aOibmqMoKwvLw.WEy\",\"expiry\":1716478922,\"previous_token\":\"$2a$10$CDhYlwwtn/3IgnQ7Coc2lO3.LCPP8U69jATtwwscn8wYcRX8SlZiy\",\"last_token\":\"$2a$10$ewSWruJ3V4CFeoVS6og68ebtcBOo/gf4Hib4u7.D2byx8ni7gKuWu\",\"updated_at\":\"2024-05-09T15:42:03Z\"},\"CoVPTXb7xbNxSQSSsbVAcg\":{\"token\":\"$2a$10$ClT8MwLA2rhCRmB3EkUnUebkgIpMYuDZLu0ol7lhggU0jN3Cuzsga\",\"expiry\":1716479117,\"previous_token\":\"$2a$10$Cl1LxrnRQPDndmDsD4eey.4dGddA7hTv6FAYQ8jiP8ipIHbLJp24G\",\"last_token\":\"$2a$10$utYd5hbbL0bAyEn6ygjjy.yKsGtgfPYqoiyviwFDfB8oMNwpKSm6W\",\"updated_at\":\"2024-05-09T15:45:17Z\"}}"], ["updated_at", "2024-05-09 15:45:17.986152"], ["id", 3]]
  [1m[35m (9.3ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 203ms (Views: 1.2ms | ActiveRecord: 11.4ms | Allocations: 14410)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-10 01:21:40 +0900
RoomChannel stopped streaming from room_channel
Started GET "/cable" for ::1 at 2024-05-10 01:51:17 +0900
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-10 01:51:17 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-10 01:51:17 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 196ms (Views: 2.1ms | ActiveRecord: 2.0ms | Allocations: 1460)


                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Started GET "/auth/validate_token" for ::1 at 2024-05-10 02:13:27 +0900
  [1m[35m (1.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 158ms (Views: 1.9ms | ActiveRecord: 0.9ms | Allocations: 13728)


Started POST "/auth/sign_in" for ::1 at 2024-05-10 02:13:36 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (1.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$18gnC7W9EPc4IFlxqjQ2beusKf3SyEvotkxZXsPvfGcaEnErcDixi\",\"expiry\":1716478239,\"previous_token\":\"$2a$10$i8i4Xuwl/gO9n9ySLaZVA.naRL/PoVsFogSR6dla/0y0LtVRfUnPm\",\"last_token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"updated_at\":\"2024-05-09T15:30:38Z\"},\"oO0Gw-rdlgcmvjO4UY6_mA\":{\"token\":\"$2a$10$dblT2u5Fnss.cvmY.s2mXORje5y1xg3CL9gYAE3ll6ZvZDTxCCTEu\",\"expiry\":1716478379,\"previous_token\":\"$2a$10$/bICJK4kLWWtVXKYuhd2v.inViN5qLG38OmL9KkWqnWAh.C5vXXjq\",\"last_token\":\"$2a$10$U3Hajk4k.0wDOXwaQK1D7eK6O32HkWZyPpL.Mqq0p2FhnQ7a7mN1O\",\"updated_at\":\"2024-05-09T15:33:02Z\"},\"KMMzeCp4ZBBmMSmwa7TAdw\":{\"token\":\"$2a$10$y4tOhWOcNUW7891xwDF.o.37kX.6iZeuJVy3aOibmqMoKwvLw.WEy\",\"expiry\":1716478922,\"previous_token\":\"$2a$10$CDhYlwwtn/3IgnQ7Coc2lO3.LCPP8U69jATtwwscn8wYcRX8SlZiy\",\"last_token\":\"$2a$10$ewSWruJ3V4CFeoVS6og68ebtcBOo/gf4Hib4u7.D2byx8ni7gKuWu\",\"updated_at\":\"2024-05-09T15:42:03Z\"},\"CoVPTXb7xbNxSQSSsbVAcg\":{\"token\":\"$2a$10$ClT8MwLA2rhCRmB3EkUnUebkgIpMYuDZLu0ol7lhggU0jN3Cuzsga\",\"expiry\":1716479117,\"previous_token\":\"$2a$10$Cl1LxrnRQPDndmDsD4eey.4dGddA7hTv6FAYQ8jiP8ipIHbLJp24G\",\"last_token\":\"$2a$10$utYd5hbbL0bAyEn6ygjjy.yKsGtgfPYqoiyviwFDfB8oMNwpKSm6W\",\"updated_at\":\"2024-05-09T15:45:17Z\"},\"A3-niiKWqiQBMI2BFQGV_w\":{\"token\":\"$2a$10$VdXoGo40Pfx587UFhRY5aepCwxulKwXtrzxu.TDquNUDHEPA8/DEa\",\"expiry\":1716484416}}"], ["updated_at", "2024-05-09 17:13:36.713619"], ["id", 3]]
  [1m[35m (9.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$18gnC7W9EPc4IFlxqjQ2beusKf3SyEvotkxZXsPvfGcaEnErcDixi\",\"expiry\":1716478239,\"previous_token\":\"$2a$10$i8i4Xuwl/gO9n9ySLaZVA.naRL/PoVsFogSR6dla/0y0LtVRfUnPm\",\"last_token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"updated_at\":\"2024-05-09T15:30:38Z\"},\"oO0Gw-rdlgcmvjO4UY6_mA\":{\"token\":\"$2a$10$dblT2u5Fnss.cvmY.s2mXORje5y1xg3CL9gYAE3ll6ZvZDTxCCTEu\",\"expiry\":1716478379,\"previous_token\":\"$2a$10$/bICJK4kLWWtVXKYuhd2v.inViN5qLG38OmL9KkWqnWAh.C5vXXjq\",\"last_token\":\"$2a$10$U3Hajk4k.0wDOXwaQK1D7eK6O32HkWZyPpL.Mqq0p2FhnQ7a7mN1O\",\"updated_at\":\"2024-05-09T15:33:02Z\"},\"KMMzeCp4ZBBmMSmwa7TAdw\":{\"token\":\"$2a$10$y4tOhWOcNUW7891xwDF.o.37kX.6iZeuJVy3aOibmqMoKwvLw.WEy\",\"expiry\":1716478922,\"previous_token\":\"$2a$10$CDhYlwwtn/3IgnQ7Coc2lO3.LCPP8U69jATtwwscn8wYcRX8SlZiy\",\"last_token\":\"$2a$10$ewSWruJ3V4CFeoVS6og68ebtcBOo/gf4Hib4u7.D2byx8ni7gKuWu\",\"updated_at\":\"2024-05-09T15:42:03Z\"},\"CoVPTXb7xbNxSQSSsbVAcg\":{\"token\":\"$2a$10$ClT8MwLA2rhCRmB3EkUnUebkgIpMYuDZLu0ol7lhggU0jN3Cuzsga\",\"expiry\":1716479117,\"previous_token\":\"$2a$10$Cl1LxrnRQPDndmDsD4eey.4dGddA7hTv6FAYQ8jiP8ipIHbLJp24G\",\"last_token\":\"$2a$10$utYd5hbbL0bAyEn6ygjjy.yKsGtgfPYqoiyviwFDfB8oMNwpKSm6W\",\"updated_at\":\"2024-05-09T15:45:17Z\"},\"A3-niiKWqiQBMI2BFQGV_w\":{\"token\":\"$2a$10$cMCJQ9WMQt7oeVN0JnZmuuCPlkxACiFnelskQzMt5UNYs9xxdkte2\",\"expiry\":1716484416,\"previous_token\":\"$2a$10$VdXoGo40Pfx587UFhRY5aepCwxulKwXtrzxu.TDquNUDHEPA8/DEa\",\"updated_at\":\"2024-05-09T17:13:36Z\"}}"], ["updated_at", "2024-05-09 17:13:36.810147"], ["id", 3]]
  [1m[35m (9.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 374ms (Views: 0.2ms | ActiveRecord: 22.9ms | Allocations: 19666)


Started GET "/auth/validate_token" for ::1 at 2024-05-10 02:13:36 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 54ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 8104)


Started GET "/cable" for ::1 at 2024-05-10 02:13:36 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-10 02:13:36 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-10 02:13:36 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 38ms (Views: 1.2ms | ActiveRecord: 1.8ms | Allocations: 22289)


Started POST "/messages/20/likes" for ::1 at 2024-05-10 02:15:01 +0900
Processing by LikesController#create as HTML
  Parameters: {"id"=>"20", "like"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mLike Create (0.4ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "message_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["message_id", 20], ["created_at", "2024-05-09 17:15:01.909421"], ["updated_at", "2024-05-09 17:15:01.909421"]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[35m (9.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$18gnC7W9EPc4IFlxqjQ2beusKf3SyEvotkxZXsPvfGcaEnErcDixi\",\"expiry\":1716478239,\"previous_token\":\"$2a$10$i8i4Xuwl/gO9n9ySLaZVA.naRL/PoVsFogSR6dla/0y0LtVRfUnPm\",\"last_token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"updated_at\":\"2024-05-09T15:30:38Z\"},\"oO0Gw-rdlgcmvjO4UY6_mA\":{\"token\":\"$2a$10$dblT2u5Fnss.cvmY.s2mXORje5y1xg3CL9gYAE3ll6ZvZDTxCCTEu\",\"expiry\":1716478379,\"previous_token\":\"$2a$10$/bICJK4kLWWtVXKYuhd2v.inViN5qLG38OmL9KkWqnWAh.C5vXXjq\",\"last_token\":\"$2a$10$U3Hajk4k.0wDOXwaQK1D7eK6O32HkWZyPpL.Mqq0p2FhnQ7a7mN1O\",\"updated_at\":\"2024-05-09T15:33:02Z\"},\"KMMzeCp4ZBBmMSmwa7TAdw\":{\"token\":\"$2a$10$y4tOhWOcNUW7891xwDF.o.37kX.6iZeuJVy3aOibmqMoKwvLw.WEy\",\"expiry\":1716478922,\"previous_token\":\"$2a$10$CDhYlwwtn/3IgnQ7Coc2lO3.LCPP8U69jATtwwscn8wYcRX8SlZiy\",\"last_token\":\"$2a$10$ewSWruJ3V4CFeoVS6og68ebtcBOo/gf4Hib4u7.D2byx8ni7gKuWu\",\"updated_at\":\"2024-05-09T15:42:03Z\"},\"CoVPTXb7xbNxSQSSsbVAcg\":{\"token\":\"$2a$10$ClT8MwLA2rhCRmB3EkUnUebkgIpMYuDZLu0ol7lhggU0jN3Cuzsga\",\"expiry\":1716479117,\"previous_token\":\"$2a$10$Cl1LxrnRQPDndmDsD4eey.4dGddA7hTv6FAYQ8jiP8ipIHbLJp24G\",\"last_token\":\"$2a$10$utYd5hbbL0bAyEn6ygjjy.yKsGtgfPYqoiyviwFDfB8oMNwpKSm6W\",\"updated_at\":\"2024-05-09T15:45:17Z\"},\"A3-niiKWqiQBMI2BFQGV_w\":{\"token\":\"$2a$10$2cM6i7lMCRCRURdNKA1gReyAT6r/dGrjunlYSX2Zkgr7tQNyRxkLa\",\"expiry\":1716484501,\"previous_token\":\"$2a$10$cMCJQ9WMQt7oeVN0JnZmuuCPlkxACiFnelskQzMt5UNYs9xxdkte2\",\"last_token\":\"$2a$10$VdXoGo40Pfx587UFhRY5aepCwxulKwXtrzxu.TDquNUDHEPA8/DEa\",\"updated_at\":\"2024-05-09T17:15:01Z\"}}"], ["updated_at", "2024-05-09 17:15:01.982595"], ["id", 3]]
  [1m[35m (9.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 100ms (Views: 0.3ms | ActiveRecord: 20.8ms | Allocations: 17148)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-10 02:15:02 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$18gnC7W9EPc4IFlxqjQ2beusKf3SyEvotkxZXsPvfGcaEnErcDixi\",\"expiry\":1716478239,\"previous_token\":\"$2a$10$i8i4Xuwl/gO9n9ySLaZVA.naRL/PoVsFogSR6dla/0y0LtVRfUnPm\",\"last_token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"updated_at\":\"2024-05-09T15:30:38Z\"},\"oO0Gw-rdlgcmvjO4UY6_mA\":{\"token\":\"$2a$10$dblT2u5Fnss.cvmY.s2mXORje5y1xg3CL9gYAE3ll6ZvZDTxCCTEu\",\"expiry\":1716478379,\"previous_token\":\"$2a$10$/bICJK4kLWWtVXKYuhd2v.inViN5qLG38OmL9KkWqnWAh.C5vXXjq\",\"last_token\":\"$2a$10$U3Hajk4k.0wDOXwaQK1D7eK6O32HkWZyPpL.Mqq0p2FhnQ7a7mN1O\",\"updated_at\":\"2024-05-09T15:33:02Z\"},\"KMMzeCp4ZBBmMSmwa7TAdw\":{\"token\":\"$2a$10$y4tOhWOcNUW7891xwDF.o.37kX.6iZeuJVy3aOibmqMoKwvLw.WEy\",\"expiry\":1716478922,\"previous_token\":\"$2a$10$CDhYlwwtn/3IgnQ7Coc2lO3.LCPP8U69jATtwwscn8wYcRX8SlZiy\",\"last_token\":\"$2a$10$ewSWruJ3V4CFeoVS6og68ebtcBOo/gf4Hib4u7.D2byx8ni7gKuWu\",\"updated_at\":\"2024-05-09T15:42:03Z\"},\"CoVPTXb7xbNxSQSSsbVAcg\":{\"token\":\"$2a$10$ClT8MwLA2rhCRmB3EkUnUebkgIpMYuDZLu0ol7lhggU0jN3Cuzsga\",\"expiry\":1716479117,\"previous_token\":\"$2a$10$Cl1LxrnRQPDndmDsD4eey.4dGddA7hTv6FAYQ8jiP8ipIHbLJp24G\",\"last_token\":\"$2a$10$utYd5hbbL0bAyEn6ygjjy.yKsGtgfPYqoiyviwFDfB8oMNwpKSm6W\",\"updated_at\":\"2024-05-09T15:45:17Z\"},\"A3-niiKWqiQBMI2BFQGV_w\":{\"token\":\"$2a$10$2cM6i7lMCRCRURdNKA1gReyAT6r/dGrjunlYSX2Zkgr7tQNyRxkLa\",\"expiry\":1716484501,\"previous_token\":\"$2a$10$cMCJQ9WMQt7oeVN0JnZmuuCPlkxACiFnelskQzMt5UNYs9xxdkte2\",\"last_token\":\"$2a$10$VdXoGo40Pfx587UFhRY5aepCwxulKwXtrzxu.TDquNUDHEPA8/DEa\",\"updated_at\":\"2024-05-09T17:15:02Z\"}}"], ["updated_at", "2024-05-09 17:15:02.077296"], ["id", 3]]
  [1m[35m (9.3ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 74ms (Views: 0.8ms | ActiveRecord: 10.3ms | Allocations: 14374)


Started POST "/messages/35/likes" for ::1 at 2024-05-10 02:15:04 +0900
Processing by LikesController#create as HTML
  Parameters: {"id"=>"35", "like"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mMessage Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 35], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mLike Create (0.3ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "message_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["message_id", 35], ["created_at", "2024-05-09 17:15:05.016760"], ["updated_at", "2024-05-09 17:15:05.016760"]]
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[35m (9.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$18gnC7W9EPc4IFlxqjQ2beusKf3SyEvotkxZXsPvfGcaEnErcDixi\",\"expiry\":1716478239,\"previous_token\":\"$2a$10$i8i4Xuwl/gO9n9ySLaZVA.naRL/PoVsFogSR6dla/0y0LtVRfUnPm\",\"last_token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"updated_at\":\"2024-05-09T15:30:38Z\"},\"oO0Gw-rdlgcmvjO4UY6_mA\":{\"token\":\"$2a$10$dblT2u5Fnss.cvmY.s2mXORje5y1xg3CL9gYAE3ll6ZvZDTxCCTEu\",\"expiry\":1716478379,\"previous_token\":\"$2a$10$/bICJK4kLWWtVXKYuhd2v.inViN5qLG38OmL9KkWqnWAh.C5vXXjq\",\"last_token\":\"$2a$10$U3Hajk4k.0wDOXwaQK1D7eK6O32HkWZyPpL.Mqq0p2FhnQ7a7mN1O\",\"updated_at\":\"2024-05-09T15:33:02Z\"},\"KMMzeCp4ZBBmMSmwa7TAdw\":{\"token\":\"$2a$10$y4tOhWOcNUW7891xwDF.o.37kX.6iZeuJVy3aOibmqMoKwvLw.WEy\",\"expiry\":1716478922,\"previous_token\":\"$2a$10$CDhYlwwtn/3IgnQ7Coc2lO3.LCPP8U69jATtwwscn8wYcRX8SlZiy\",\"last_token\":\"$2a$10$ewSWruJ3V4CFeoVS6og68ebtcBOo/gf4Hib4u7.D2byx8ni7gKuWu\",\"updated_at\":\"2024-05-09T15:42:03Z\"},\"CoVPTXb7xbNxSQSSsbVAcg\":{\"token\":\"$2a$10$ClT8MwLA2rhCRmB3EkUnUebkgIpMYuDZLu0ol7lhggU0jN3Cuzsga\",\"expiry\":1716479117,\"previous_token\":\"$2a$10$Cl1LxrnRQPDndmDsD4eey.4dGddA7hTv6FAYQ8jiP8ipIHbLJp24G\",\"last_token\":\"$2a$10$utYd5hbbL0bAyEn6ygjjy.yKsGtgfPYqoiyviwFDfB8oMNwpKSm6W\",\"updated_at\":\"2024-05-09T15:45:17Z\"},\"A3-niiKWqiQBMI2BFQGV_w\":{\"token\":\"$2a$10$2cM6i7lMCRCRURdNKA1gReyAT6r/dGrjunlYSX2Zkgr7tQNyRxkLa\",\"expiry\":1716484501,\"previous_token\":\"$2a$10$cMCJQ9WMQt7oeVN0JnZmuuCPlkxACiFnelskQzMt5UNYs9xxdkte2\",\"last_token\":\"$2a$10$VdXoGo40Pfx587UFhRY5aepCwxulKwXtrzxu.TDquNUDHEPA8/DEa\",\"updated_at\":\"2024-05-09T17:15:05Z\"}}"], ["updated_at", "2024-05-09 17:15:05.036210"], ["id", 3]]
  [1m[35m (8.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 96ms (Views: 0.2ms | ActiveRecord: 18.6ms | Allocations: 16342)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-10 02:15:05 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 62ms (Views: 1.2ms | ActiveRecord: 0.7ms | Allocations: 12814)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-10 02:16:35 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"k0IJKPCNxsUUQb8ZQbNWKA\":{\"token\":\"$2a$10$69gdJAC91nY7aW5Um48aNevBFH3eMKboLFrMRYdnpA0w07bB8InCu\",\"expiry\":1716467703,\"previous_token\":\"$2a$10$VLkMNin.lQgeueiRwZMKR.BgO9pQQv/C5JKNVrJRWYGHFh0pDa8sm\",\"last_token\":\"$2a$10$Dl5tp7Q8phDbD4CiGQbTVO.3ZgV1Qm/ohGoudJIIJBczs3zeCHo4m\",\"updated_at\":\"2024-05-09T12:35:03Z\"},\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$18gnC7W9EPc4IFlxqjQ2beusKf3SyEvotkxZXsPvfGcaEnErcDixi\",\"expiry\":1716478239,\"previous_token\":\"$2a$10$i8i4Xuwl/gO9n9ySLaZVA.naRL/PoVsFogSR6dla/0y0LtVRfUnPm\",\"last_token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"updated_at\":\"2024-05-09T15:30:38Z\"},\"oO0Gw-rdlgcmvjO4UY6_mA\":{\"token\":\"$2a$10$dblT2u5Fnss.cvmY.s2mXORje5y1xg3CL9gYAE3ll6ZvZDTxCCTEu\",\"expiry\":1716478379,\"previous_token\":\"$2a$10$/bICJK4kLWWtVXKYuhd2v.inViN5qLG38OmL9KkWqnWAh.C5vXXjq\",\"last_token\":\"$2a$10$U3Hajk4k.0wDOXwaQK1D7eK6O32HkWZyPpL.Mqq0p2FhnQ7a7mN1O\",\"updated_at\":\"2024-05-09T15:33:02Z\"},\"KMMzeCp4ZBBmMSmwa7TAdw\":{\"token\":\"$2a$10$y4tOhWOcNUW7891xwDF.o.37kX.6iZeuJVy3aOibmqMoKwvLw.WEy\",\"expiry\":1716478922,\"previous_token\":\"$2a$10$CDhYlwwtn/3IgnQ7Coc2lO3.LCPP8U69jATtwwscn8wYcRX8SlZiy\",\"last_token\":\"$2a$10$ewSWruJ3V4CFeoVS6og68ebtcBOo/gf4Hib4u7.D2byx8ni7gKuWu\",\"updated_at\":\"2024-05-09T15:42:03Z\"},\"CoVPTXb7xbNxSQSSsbVAcg\":{\"token\":\"$2a$10$ClT8MwLA2rhCRmB3EkUnUebkgIpMYuDZLu0ol7lhggU0jN3Cuzsga\",\"expiry\":1716479117,\"previous_token\":\"$2a$10$Cl1LxrnRQPDndmDsD4eey.4dGddA7hTv6FAYQ8jiP8ipIHbLJp24G\",\"last_token\":\"$2a$10$utYd5hbbL0bAyEn6ygjjy.yKsGtgfPYqoiyviwFDfB8oMNwpKSm6W\",\"updated_at\":\"2024-05-09T15:45:17Z\"},\"A3-niiKWqiQBMI2BFQGV_w\":{\"token\":\"$2a$10$RDjtPzyCW2X.jlbVzfOoXufF23kXtY7qfQ8ikNN844L0dIl2rK6bK\",\"expiry\":1716484595,\"previous_token\":\"$2a$10$2cM6i7lMCRCRURdNKA1gReyAT6r/dGrjunlYSX2Zkgr7tQNyRxkLa\",\"last_token\":\"$2a$10$cMCJQ9WMQt7oeVN0JnZmuuCPlkxACiFnelskQzMt5UNYs9xxdkte2\",\"updated_at\":\"2024-05-09T17:16:35Z\"}}"], ["updated_at", "2024-05-09 17:16:35.125439"], ["id", 3]]
  [1m[35m (9.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 132ms (Views: 1.1ms | ActiveRecord: 10.7ms | Allocations: 14881)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-10 02:16:44 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 102ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1445)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-10 02:16:48 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 100ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1417)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-10 02:17:36 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 103ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 1417)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-10 02:17:43 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 102ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1417)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-10 02:17:47 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 104ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 1418)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-10 02:17:48 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-10 02:17:48 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 108ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 1428)


Started POST "/auth/sign_in" for ::1 at 2024-05-10 02:18:03 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$18gnC7W9EPc4IFlxqjQ2beusKf3SyEvotkxZXsPvfGcaEnErcDixi\",\"expiry\":1716478239,\"previous_token\":\"$2a$10$i8i4Xuwl/gO9n9ySLaZVA.naRL/PoVsFogSR6dla/0y0LtVRfUnPm\",\"last_token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"updated_at\":\"2024-05-09T15:30:38Z\"},\"oO0Gw-rdlgcmvjO4UY6_mA\":{\"token\":\"$2a$10$dblT2u5Fnss.cvmY.s2mXORje5y1xg3CL9gYAE3ll6ZvZDTxCCTEu\",\"expiry\":1716478379,\"previous_token\":\"$2a$10$/bICJK4kLWWtVXKYuhd2v.inViN5qLG38OmL9KkWqnWAh.C5vXXjq\",\"last_token\":\"$2a$10$U3Hajk4k.0wDOXwaQK1D7eK6O32HkWZyPpL.Mqq0p2FhnQ7a7mN1O\",\"updated_at\":\"2024-05-09T15:33:02Z\"},\"KMMzeCp4ZBBmMSmwa7TAdw\":{\"token\":\"$2a$10$y4tOhWOcNUW7891xwDF.o.37kX.6iZeuJVy3aOibmqMoKwvLw.WEy\",\"expiry\":1716478922,\"previous_token\":\"$2a$10$CDhYlwwtn/3IgnQ7Coc2lO3.LCPP8U69jATtwwscn8wYcRX8SlZiy\",\"last_token\":\"$2a$10$ewSWruJ3V4CFeoVS6og68ebtcBOo/gf4Hib4u7.D2byx8ni7gKuWu\",\"updated_at\":\"2024-05-09T15:42:03Z\"},\"CoVPTXb7xbNxSQSSsbVAcg\":{\"token\":\"$2a$10$ClT8MwLA2rhCRmB3EkUnUebkgIpMYuDZLu0ol7lhggU0jN3Cuzsga\",\"expiry\":1716479117,\"previous_token\":\"$2a$10$Cl1LxrnRQPDndmDsD4eey.4dGddA7hTv6FAYQ8jiP8ipIHbLJp24G\",\"last_token\":\"$2a$10$utYd5hbbL0bAyEn6ygjjy.yKsGtgfPYqoiyviwFDfB8oMNwpKSm6W\",\"updated_at\":\"2024-05-09T15:45:17Z\"},\"A3-niiKWqiQBMI2BFQGV_w\":{\"token\":\"$2a$10$RDjtPzyCW2X.jlbVzfOoXufF23kXtY7qfQ8ikNN844L0dIl2rK6bK\",\"expiry\":1716484595,\"previous_token\":\"$2a$10$2cM6i7lMCRCRURdNKA1gReyAT6r/dGrjunlYSX2Zkgr7tQNyRxkLa\",\"last_token\":\"$2a$10$cMCJQ9WMQt7oeVN0JnZmuuCPlkxACiFnelskQzMt5UNYs9xxdkte2\",\"updated_at\":\"2024-05-09T17:16:35Z\"},\"xMVMCZ2vD_K0oQ2Ezavz9w\":{\"token\":\"$2a$10$8YNtTnUXW660/imHBE3fDuwdB3d.cJPLZ1fDTvudQwEjjUzaBDh6i\",\"expiry\":1716484683}}"], ["updated_at", "2024-05-09 17:18:03.779489"], ["id", 3]]
  [1m[35m (17.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$18gnC7W9EPc4IFlxqjQ2beusKf3SyEvotkxZXsPvfGcaEnErcDixi\",\"expiry\":1716478239,\"previous_token\":\"$2a$10$i8i4Xuwl/gO9n9ySLaZVA.naRL/PoVsFogSR6dla/0y0LtVRfUnPm\",\"last_token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"updated_at\":\"2024-05-09T15:30:38Z\"},\"oO0Gw-rdlgcmvjO4UY6_mA\":{\"token\":\"$2a$10$dblT2u5Fnss.cvmY.s2mXORje5y1xg3CL9gYAE3ll6ZvZDTxCCTEu\",\"expiry\":1716478379,\"previous_token\":\"$2a$10$/bICJK4kLWWtVXKYuhd2v.inViN5qLG38OmL9KkWqnWAh.C5vXXjq\",\"last_token\":\"$2a$10$U3Hajk4k.0wDOXwaQK1D7eK6O32HkWZyPpL.Mqq0p2FhnQ7a7mN1O\",\"updated_at\":\"2024-05-09T15:33:02Z\"},\"KMMzeCp4ZBBmMSmwa7TAdw\":{\"token\":\"$2a$10$y4tOhWOcNUW7891xwDF.o.37kX.6iZeuJVy3aOibmqMoKwvLw.WEy\",\"expiry\":1716478922,\"previous_token\":\"$2a$10$CDhYlwwtn/3IgnQ7Coc2lO3.LCPP8U69jATtwwscn8wYcRX8SlZiy\",\"last_token\":\"$2a$10$ewSWruJ3V4CFeoVS6og68ebtcBOo/gf4Hib4u7.D2byx8ni7gKuWu\",\"updated_at\":\"2024-05-09T15:42:03Z\"},\"CoVPTXb7xbNxSQSSsbVAcg\":{\"token\":\"$2a$10$ClT8MwLA2rhCRmB3EkUnUebkgIpMYuDZLu0ol7lhggU0jN3Cuzsga\",\"expiry\":1716479117,\"previous_token\":\"$2a$10$Cl1LxrnRQPDndmDsD4eey.4dGddA7hTv6FAYQ8jiP8ipIHbLJp24G\",\"last_token\":\"$2a$10$utYd5hbbL0bAyEn6ygjjy.yKsGtgfPYqoiyviwFDfB8oMNwpKSm6W\",\"updated_at\":\"2024-05-09T15:45:17Z\"},\"A3-niiKWqiQBMI2BFQGV_w\":{\"token\":\"$2a$10$RDjtPzyCW2X.jlbVzfOoXufF23kXtY7qfQ8ikNN844L0dIl2rK6bK\",\"expiry\":1716484595,\"previous_token\":\"$2a$10$2cM6i7lMCRCRURdNKA1gReyAT6r/dGrjunlYSX2Zkgr7tQNyRxkLa\",\"last_token\":\"$2a$10$cMCJQ9WMQt7oeVN0JnZmuuCPlkxACiFnelskQzMt5UNYs9xxdkte2\",\"updated_at\":\"2024-05-09T17:16:35Z\"},\"xMVMCZ2vD_K0oQ2Ezavz9w\":{\"token\":\"$2a$10$1Y9DmaKlAV.aJMuMdouoPe0srKgb9FTnFag71eDZkeH5y5K9MAzA.\",\"expiry\":1716484683,\"previous_token\":\"$2a$10$8YNtTnUXW660/imHBE3fDuwdB3d.cJPLZ1fDTvudQwEjjUzaBDh6i\",\"updated_at\":\"2024-05-09T17:18:03Z\"}}"], ["updated_at", "2024-05-09 17:18:03.855346"], ["id", 3]]
  [1m[35m (9.9ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 334ms (Views: 0.1ms | ActiveRecord: 28.1ms | Allocations: 18435)


Started GET "/auth/validate_token" for ::1 at 2024-05-10 02:18:03 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 61ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 8123)


Started GET "/auth/validate_token" for ::1 at 2024-05-10 02:18:19 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$18gnC7W9EPc4IFlxqjQ2beusKf3SyEvotkxZXsPvfGcaEnErcDixi\",\"expiry\":1716478239,\"previous_token\":\"$2a$10$i8i4Xuwl/gO9n9ySLaZVA.naRL/PoVsFogSR6dla/0y0LtVRfUnPm\",\"last_token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"updated_at\":\"2024-05-09T15:30:38Z\"},\"oO0Gw-rdlgcmvjO4UY6_mA\":{\"token\":\"$2a$10$dblT2u5Fnss.cvmY.s2mXORje5y1xg3CL9gYAE3ll6ZvZDTxCCTEu\",\"expiry\":1716478379,\"previous_token\":\"$2a$10$/bICJK4kLWWtVXKYuhd2v.inViN5qLG38OmL9KkWqnWAh.C5vXXjq\",\"last_token\":\"$2a$10$U3Hajk4k.0wDOXwaQK1D7eK6O32HkWZyPpL.Mqq0p2FhnQ7a7mN1O\",\"updated_at\":\"2024-05-09T15:33:02Z\"},\"KMMzeCp4ZBBmMSmwa7TAdw\":{\"token\":\"$2a$10$y4tOhWOcNUW7891xwDF.o.37kX.6iZeuJVy3aOibmqMoKwvLw.WEy\",\"expiry\":1716478922,\"previous_token\":\"$2a$10$CDhYlwwtn/3IgnQ7Coc2lO3.LCPP8U69jATtwwscn8wYcRX8SlZiy\",\"last_token\":\"$2a$10$ewSWruJ3V4CFeoVS6og68ebtcBOo/gf4Hib4u7.D2byx8ni7gKuWu\",\"updated_at\":\"2024-05-09T15:42:03Z\"},\"CoVPTXb7xbNxSQSSsbVAcg\":{\"token\":\"$2a$10$ClT8MwLA2rhCRmB3EkUnUebkgIpMYuDZLu0ol7lhggU0jN3Cuzsga\",\"expiry\":1716479117,\"previous_token\":\"$2a$10$Cl1LxrnRQPDndmDsD4eey.4dGddA7hTv6FAYQ8jiP8ipIHbLJp24G\",\"last_token\":\"$2a$10$utYd5hbbL0bAyEn6ygjjy.yKsGtgfPYqoiyviwFDfB8oMNwpKSm6W\",\"updated_at\":\"2024-05-09T15:45:17Z\"},\"A3-niiKWqiQBMI2BFQGV_w\":{\"token\":\"$2a$10$RDjtPzyCW2X.jlbVzfOoXufF23kXtY7qfQ8ikNN844L0dIl2rK6bK\",\"expiry\":1716484595,\"previous_token\":\"$2a$10$2cM6i7lMCRCRURdNKA1gReyAT6r/dGrjunlYSX2Zkgr7tQNyRxkLa\",\"last_token\":\"$2a$10$cMCJQ9WMQt7oeVN0JnZmuuCPlkxACiFnelskQzMt5UNYs9xxdkte2\",\"updated_at\":\"2024-05-09T17:16:35Z\"},\"xMVMCZ2vD_K0oQ2Ezavz9w\":{\"token\":\"$2a$10$vCcpkKn5bPJZ.5Z9M0uiKOx77tsOT0.xIiSH5n60TMRbWtk/xvfOG\",\"expiry\":1716484699,\"previous_token\":\"$2a$10$1Y9DmaKlAV.aJMuMdouoPe0srKgb9FTnFag71eDZkeH5y5K9MAzA.\",\"last_token\":\"$2a$10$8YNtTnUXW660/imHBE3fDuwdB3d.cJPLZ1fDTvudQwEjjUzaBDh6i\",\"updated_at\":\"2024-05-09T17:18:19Z\"}}"], ["updated_at", "2024-05-09 17:18:19.604761"], ["id", 3]]
  [1m[35m (8.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 75ms (Views: 0.2ms | ActiveRecord: 9.2ms | Allocations: 10178)


Started GET "/cable" for ::1 at 2024-05-10 02:18:19 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-10 02:18:19 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-10 02:18:19 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 66ms (Views: 1.0ms | ActiveRecord: 1.1ms | Allocations: 12606)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-10 02:26:59 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$18gnC7W9EPc4IFlxqjQ2beusKf3SyEvotkxZXsPvfGcaEnErcDixi\",\"expiry\":1716478239,\"previous_token\":\"$2a$10$i8i4Xuwl/gO9n9ySLaZVA.naRL/PoVsFogSR6dla/0y0LtVRfUnPm\",\"last_token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"updated_at\":\"2024-05-09T15:30:38Z\"},\"oO0Gw-rdlgcmvjO4UY6_mA\":{\"token\":\"$2a$10$dblT2u5Fnss.cvmY.s2mXORje5y1xg3CL9gYAE3ll6ZvZDTxCCTEu\",\"expiry\":1716478379,\"previous_token\":\"$2a$10$/bICJK4kLWWtVXKYuhd2v.inViN5qLG38OmL9KkWqnWAh.C5vXXjq\",\"last_token\":\"$2a$10$U3Hajk4k.0wDOXwaQK1D7eK6O32HkWZyPpL.Mqq0p2FhnQ7a7mN1O\",\"updated_at\":\"2024-05-09T15:33:02Z\"},\"KMMzeCp4ZBBmMSmwa7TAdw\":{\"token\":\"$2a$10$y4tOhWOcNUW7891xwDF.o.37kX.6iZeuJVy3aOibmqMoKwvLw.WEy\",\"expiry\":1716478922,\"previous_token\":\"$2a$10$CDhYlwwtn/3IgnQ7Coc2lO3.LCPP8U69jATtwwscn8wYcRX8SlZiy\",\"last_token\":\"$2a$10$ewSWruJ3V4CFeoVS6og68ebtcBOo/gf4Hib4u7.D2byx8ni7gKuWu\",\"updated_at\":\"2024-05-09T15:42:03Z\"},\"CoVPTXb7xbNxSQSSsbVAcg\":{\"token\":\"$2a$10$ClT8MwLA2rhCRmB3EkUnUebkgIpMYuDZLu0ol7lhggU0jN3Cuzsga\",\"expiry\":1716479117,\"previous_token\":\"$2a$10$Cl1LxrnRQPDndmDsD4eey.4dGddA7hTv6FAYQ8jiP8ipIHbLJp24G\",\"last_token\":\"$2a$10$utYd5hbbL0bAyEn6ygjjy.yKsGtgfPYqoiyviwFDfB8oMNwpKSm6W\",\"updated_at\":\"2024-05-09T15:45:17Z\"},\"A3-niiKWqiQBMI2BFQGV_w\":{\"token\":\"$2a$10$RDjtPzyCW2X.jlbVzfOoXufF23kXtY7qfQ8ikNN844L0dIl2rK6bK\",\"expiry\":1716484595,\"previous_token\":\"$2a$10$2cM6i7lMCRCRURdNKA1gReyAT6r/dGrjunlYSX2Zkgr7tQNyRxkLa\",\"last_token\":\"$2a$10$cMCJQ9WMQt7oeVN0JnZmuuCPlkxACiFnelskQzMt5UNYs9xxdkte2\",\"updated_at\":\"2024-05-09T17:16:35Z\"},\"xMVMCZ2vD_K0oQ2Ezavz9w\":{\"token\":\"$2a$10$71of/QFzHmxijsQ8gdRAzOZdMlyFEWKw.kp0F2OXEausw3kRBVhje\",\"expiry\":1716485220,\"previous_token\":\"$2a$10$vCcpkKn5bPJZ.5Z9M0uiKOx77tsOT0.xIiSH5n60TMRbWtk/xvfOG\",\"last_token\":\"$2a$10$1Y9DmaKlAV.aJMuMdouoPe0srKgb9FTnFag71eDZkeH5y5K9MAzA.\",\"updated_at\":\"2024-05-09T17:27:00Z\"}}"], ["updated_at", "2024-05-09 17:27:00.072307"], ["id", 3]]
  [1m[35m (10.3ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 130ms (Views: 1.4ms | ActiveRecord: 11.6ms | Allocations: 14568)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-10 02:27:02 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-10 02:27:02 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$18gnC7W9EPc4IFlxqjQ2beusKf3SyEvotkxZXsPvfGcaEnErcDixi\",\"expiry\":1716478239,\"previous_token\":\"$2a$10$i8i4Xuwl/gO9n9ySLaZVA.naRL/PoVsFogSR6dla/0y0LtVRfUnPm\",\"last_token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"updated_at\":\"2024-05-09T15:30:38Z\"},\"oO0Gw-rdlgcmvjO4UY6_mA\":{\"token\":\"$2a$10$dblT2u5Fnss.cvmY.s2mXORje5y1xg3CL9gYAE3ll6ZvZDTxCCTEu\",\"expiry\":1716478379,\"previous_token\":\"$2a$10$/bICJK4kLWWtVXKYuhd2v.inViN5qLG38OmL9KkWqnWAh.C5vXXjq\",\"last_token\":\"$2a$10$U3Hajk4k.0wDOXwaQK1D7eK6O32HkWZyPpL.Mqq0p2FhnQ7a7mN1O\",\"updated_at\":\"2024-05-09T15:33:02Z\"},\"KMMzeCp4ZBBmMSmwa7TAdw\":{\"token\":\"$2a$10$y4tOhWOcNUW7891xwDF.o.37kX.6iZeuJVy3aOibmqMoKwvLw.WEy\",\"expiry\":1716478922,\"previous_token\":\"$2a$10$CDhYlwwtn/3IgnQ7Coc2lO3.LCPP8U69jATtwwscn8wYcRX8SlZiy\",\"last_token\":\"$2a$10$ewSWruJ3V4CFeoVS6og68ebtcBOo/gf4Hib4u7.D2byx8ni7gKuWu\",\"updated_at\":\"2024-05-09T15:42:03Z\"},\"CoVPTXb7xbNxSQSSsbVAcg\":{\"token\":\"$2a$10$ClT8MwLA2rhCRmB3EkUnUebkgIpMYuDZLu0ol7lhggU0jN3Cuzsga\",\"expiry\":1716479117,\"previous_token\":\"$2a$10$Cl1LxrnRQPDndmDsD4eey.4dGddA7hTv6FAYQ8jiP8ipIHbLJp24G\",\"last_token\":\"$2a$10$utYd5hbbL0bAyEn6ygjjy.yKsGtgfPYqoiyviwFDfB8oMNwpKSm6W\",\"updated_at\":\"2024-05-09T15:45:17Z\"},\"A3-niiKWqiQBMI2BFQGV_w\":{\"token\":\"$2a$10$RDjtPzyCW2X.jlbVzfOoXufF23kXtY7qfQ8ikNN844L0dIl2rK6bK\",\"expiry\":1716484595,\"previous_token\":\"$2a$10$2cM6i7lMCRCRURdNKA1gReyAT6r/dGrjunlYSX2Zkgr7tQNyRxkLa\",\"last_token\":\"$2a$10$cMCJQ9WMQt7oeVN0JnZmuuCPlkxACiFnelskQzMt5UNYs9xxdkte2\",\"updated_at\":\"2024-05-09T17:16:35Z\"},\"xMVMCZ2vD_K0oQ2Ezavz9w\":{\"token\":\"$2a$10$71of/QFzHmxijsQ8gdRAzOZdMlyFEWKw.kp0F2OXEausw3kRBVhje\",\"expiry\":1716485220,\"previous_token\":\"$2a$10$vCcpkKn5bPJZ.5Z9M0uiKOx77tsOT0.xIiSH5n60TMRbWtk/xvfOG\",\"last_token\":\"$2a$10$1Y9DmaKlAV.aJMuMdouoPe0srKgb9FTnFag71eDZkeH5y5K9MAzA.\",\"updated_at\":\"2024-05-09T17:27:02Z\"}}"], ["updated_at", "2024-05-09 17:27:02.872393"], ["id", 3]]
  [1m[35m (7.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 173ms (Views: 0.1ms | ActiveRecord: 8.2ms | Allocations: 9849)


Started GET "/cable" for ::1 at 2024-05-10 02:27:02 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-10 02:27:02 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-10 02:27:02 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"ijdUJ0rq_Z9jqbJdnxKSLA\":{\"token\":\"$2a$10$Z6DGRuh7/EAKU4zPtPfhYOmYXRSzATR1aWaLVg5ZPtUPJvicZTXuq\",\"expiry\":1716468295,\"previous_token\":\"$2a$10$lvKHi49H6U.MWbShkuX3Q.WKbVssSfc6Zz1rmZl9yOFnewnULLFxu\",\"last_token\":\"$2a$10$VwAazCncD/1m0Doa/urhRuJ9lheKvJ4PCjlwjlbS.0IsBHm53K3xK\",\"updated_at\":\"2024-05-09T12:44:55Z\"},\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$18gnC7W9EPc4IFlxqjQ2beusKf3SyEvotkxZXsPvfGcaEnErcDixi\",\"expiry\":1716478239,\"previous_token\":\"$2a$10$i8i4Xuwl/gO9n9ySLaZVA.naRL/PoVsFogSR6dla/0y0LtVRfUnPm\",\"last_token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"updated_at\":\"2024-05-09T15:30:38Z\"},\"oO0Gw-rdlgcmvjO4UY6_mA\":{\"token\":\"$2a$10$dblT2u5Fnss.cvmY.s2mXORje5y1xg3CL9gYAE3ll6ZvZDTxCCTEu\",\"expiry\":1716478379,\"previous_token\":\"$2a$10$/bICJK4kLWWtVXKYuhd2v.inViN5qLG38OmL9KkWqnWAh.C5vXXjq\",\"last_token\":\"$2a$10$U3Hajk4k.0wDOXwaQK1D7eK6O32HkWZyPpL.Mqq0p2FhnQ7a7mN1O\",\"updated_at\":\"2024-05-09T15:33:02Z\"},\"KMMzeCp4ZBBmMSmwa7TAdw\":{\"token\":\"$2a$10$y4tOhWOcNUW7891xwDF.o.37kX.6iZeuJVy3aOibmqMoKwvLw.WEy\",\"expiry\":1716478922,\"previous_token\":\"$2a$10$CDhYlwwtn/3IgnQ7Coc2lO3.LCPP8U69jATtwwscn8wYcRX8SlZiy\",\"last_token\":\"$2a$10$ewSWruJ3V4CFeoVS6og68ebtcBOo/gf4Hib4u7.D2byx8ni7gKuWu\",\"updated_at\":\"2024-05-09T15:42:03Z\"},\"CoVPTXb7xbNxSQSSsbVAcg\":{\"token\":\"$2a$10$ClT8MwLA2rhCRmB3EkUnUebkgIpMYuDZLu0ol7lhggU0jN3Cuzsga\",\"expiry\":1716479117,\"previous_token\":\"$2a$10$Cl1LxrnRQPDndmDsD4eey.4dGddA7hTv6FAYQ8jiP8ipIHbLJp24G\",\"last_token\":\"$2a$10$utYd5hbbL0bAyEn6ygjjy.yKsGtgfPYqoiyviwFDfB8oMNwpKSm6W\",\"updated_at\":\"2024-05-09T15:45:17Z\"},\"A3-niiKWqiQBMI2BFQGV_w\":{\"token\":\"$2a$10$RDjtPzyCW2X.jlbVzfOoXufF23kXtY7qfQ8ikNN844L0dIl2rK6bK\",\"expiry\":1716484595,\"previous_token\":\"$2a$10$2cM6i7lMCRCRURdNKA1gReyAT6r/dGrjunlYSX2Zkgr7tQNyRxkLa\",\"last_token\":\"$2a$10$cMCJQ9WMQt7oeVN0JnZmuuCPlkxACiFnelskQzMt5UNYs9xxdkte2\",\"updated_at\":\"2024-05-09T17:16:35Z\"},\"xMVMCZ2vD_K0oQ2Ezavz9w\":{\"token\":\"$2a$10$71of/QFzHmxijsQ8gdRAzOZdMlyFEWKw.kp0F2OXEausw3kRBVhje\",\"expiry\":1716485220,\"previous_token\":\"$2a$10$vCcpkKn5bPJZ.5Z9M0uiKOx77tsOT0.xIiSH5n60TMRbWtk/xvfOG\",\"last_token\":\"$2a$10$1Y9DmaKlAV.aJMuMdouoPe0srKgb9FTnFag71eDZkeH5y5K9MAzA.\",\"updated_at\":\"2024-05-09T17:27:03Z\"}}"], ["updated_at", "2024-05-09 17:27:03.072535"], ["id", 3]]
  [1m[35m (10.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 175ms (Views: 0.8ms | ActiveRecord: 11.4ms | Allocations: 15191)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-10 02:27:16 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 106ms (Views: 3.9ms | ActiveRecord: 0.2ms | Allocations: 1418)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-10 02:27:19 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 105ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 1419)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-10 02:27:23 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 109ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1420)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-10 02:27:48 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 102ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1417)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-10 02:28:29 +0900
RoomChannel stopped streaming from room_channel
Started GET "/auth/validate_token" for ::1 at 2024-05-10 02:28:29 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 105ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1428)


Started POST "/auth/sign_in" for ::1 at 2024-05-10 02:28:37 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$18gnC7W9EPc4IFlxqjQ2beusKf3SyEvotkxZXsPvfGcaEnErcDixi\",\"expiry\":1716478239,\"previous_token\":\"$2a$10$i8i4Xuwl/gO9n9ySLaZVA.naRL/PoVsFogSR6dla/0y0LtVRfUnPm\",\"last_token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"updated_at\":\"2024-05-09T15:30:38Z\"},\"oO0Gw-rdlgcmvjO4UY6_mA\":{\"token\":\"$2a$10$dblT2u5Fnss.cvmY.s2mXORje5y1xg3CL9gYAE3ll6ZvZDTxCCTEu\",\"expiry\":1716478379,\"previous_token\":\"$2a$10$/bICJK4kLWWtVXKYuhd2v.inViN5qLG38OmL9KkWqnWAh.C5vXXjq\",\"last_token\":\"$2a$10$U3Hajk4k.0wDOXwaQK1D7eK6O32HkWZyPpL.Mqq0p2FhnQ7a7mN1O\",\"updated_at\":\"2024-05-09T15:33:02Z\"},\"KMMzeCp4ZBBmMSmwa7TAdw\":{\"token\":\"$2a$10$y4tOhWOcNUW7891xwDF.o.37kX.6iZeuJVy3aOibmqMoKwvLw.WEy\",\"expiry\":1716478922,\"previous_token\":\"$2a$10$CDhYlwwtn/3IgnQ7Coc2lO3.LCPP8U69jATtwwscn8wYcRX8SlZiy\",\"last_token\":\"$2a$10$ewSWruJ3V4CFeoVS6og68ebtcBOo/gf4Hib4u7.D2byx8ni7gKuWu\",\"updated_at\":\"2024-05-09T15:42:03Z\"},\"CoVPTXb7xbNxSQSSsbVAcg\":{\"token\":\"$2a$10$ClT8MwLA2rhCRmB3EkUnUebkgIpMYuDZLu0ol7lhggU0jN3Cuzsga\",\"expiry\":1716479117,\"previous_token\":\"$2a$10$Cl1LxrnRQPDndmDsD4eey.4dGddA7hTv6FAYQ8jiP8ipIHbLJp24G\",\"last_token\":\"$2a$10$utYd5hbbL0bAyEn6ygjjy.yKsGtgfPYqoiyviwFDfB8oMNwpKSm6W\",\"updated_at\":\"2024-05-09T15:45:17Z\"},\"A3-niiKWqiQBMI2BFQGV_w\":{\"token\":\"$2a$10$RDjtPzyCW2X.jlbVzfOoXufF23kXtY7qfQ8ikNN844L0dIl2rK6bK\",\"expiry\":1716484595,\"previous_token\":\"$2a$10$2cM6i7lMCRCRURdNKA1gReyAT6r/dGrjunlYSX2Zkgr7tQNyRxkLa\",\"last_token\":\"$2a$10$cMCJQ9WMQt7oeVN0JnZmuuCPlkxACiFnelskQzMt5UNYs9xxdkte2\",\"updated_at\":\"2024-05-09T17:16:35Z\"},\"xMVMCZ2vD_K0oQ2Ezavz9w\":{\"token\":\"$2a$10$71of/QFzHmxijsQ8gdRAzOZdMlyFEWKw.kp0F2OXEausw3kRBVhje\",\"expiry\":1716485220,\"previous_token\":\"$2a$10$vCcpkKn5bPJZ.5Z9M0uiKOx77tsOT0.xIiSH5n60TMRbWtk/xvfOG\",\"last_token\":\"$2a$10$1Y9DmaKlAV.aJMuMdouoPe0srKgb9FTnFag71eDZkeH5y5K9MAzA.\",\"updated_at\":\"2024-05-09T17:27:03Z\"},\"Cn74wkWEbHjK2eCh0rcXJA\":{\"token\":\"$2a$10$1tLybZ8bgaguEawYNWgiN.VkgAJMKckNSEpw.nKMDUYF..rAEINv.\",\"expiry\":1716485317}}"], ["updated_at", "2024-05-09 17:28:37.989699"], ["id", 3]]
  [1m[35m (8.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$18gnC7W9EPc4IFlxqjQ2beusKf3SyEvotkxZXsPvfGcaEnErcDixi\",\"expiry\":1716478239,\"previous_token\":\"$2a$10$i8i4Xuwl/gO9n9ySLaZVA.naRL/PoVsFogSR6dla/0y0LtVRfUnPm\",\"last_token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"updated_at\":\"2024-05-09T15:30:38Z\"},\"oO0Gw-rdlgcmvjO4UY6_mA\":{\"token\":\"$2a$10$dblT2u5Fnss.cvmY.s2mXORje5y1xg3CL9gYAE3ll6ZvZDTxCCTEu\",\"expiry\":1716478379,\"previous_token\":\"$2a$10$/bICJK4kLWWtVXKYuhd2v.inViN5qLG38OmL9KkWqnWAh.C5vXXjq\",\"last_token\":\"$2a$10$U3Hajk4k.0wDOXwaQK1D7eK6O32HkWZyPpL.Mqq0p2FhnQ7a7mN1O\",\"updated_at\":\"2024-05-09T15:33:02Z\"},\"KMMzeCp4ZBBmMSmwa7TAdw\":{\"token\":\"$2a$10$y4tOhWOcNUW7891xwDF.o.37kX.6iZeuJVy3aOibmqMoKwvLw.WEy\",\"expiry\":1716478922,\"previous_token\":\"$2a$10$CDhYlwwtn/3IgnQ7Coc2lO3.LCPP8U69jATtwwscn8wYcRX8SlZiy\",\"last_token\":\"$2a$10$ewSWruJ3V4CFeoVS6og68ebtcBOo/gf4Hib4u7.D2byx8ni7gKuWu\",\"updated_at\":\"2024-05-09T15:42:03Z\"},\"CoVPTXb7xbNxSQSSsbVAcg\":{\"token\":\"$2a$10$ClT8MwLA2rhCRmB3EkUnUebkgIpMYuDZLu0ol7lhggU0jN3Cuzsga\",\"expiry\":1716479117,\"previous_token\":\"$2a$10$Cl1LxrnRQPDndmDsD4eey.4dGddA7hTv6FAYQ8jiP8ipIHbLJp24G\",\"last_token\":\"$2a$10$utYd5hbbL0bAyEn6ygjjy.yKsGtgfPYqoiyviwFDfB8oMNwpKSm6W\",\"updated_at\":\"2024-05-09T15:45:17Z\"},\"A3-niiKWqiQBMI2BFQGV_w\":{\"token\":\"$2a$10$RDjtPzyCW2X.jlbVzfOoXufF23kXtY7qfQ8ikNN844L0dIl2rK6bK\",\"expiry\":1716484595,\"previous_token\":\"$2a$10$2cM6i7lMCRCRURdNKA1gReyAT6r/dGrjunlYSX2Zkgr7tQNyRxkLa\",\"last_token\":\"$2a$10$cMCJQ9WMQt7oeVN0JnZmuuCPlkxACiFnelskQzMt5UNYs9xxdkte2\",\"updated_at\":\"2024-05-09T17:16:35Z\"},\"xMVMCZ2vD_K0oQ2Ezavz9w\":{\"token\":\"$2a$10$71of/QFzHmxijsQ8gdRAzOZdMlyFEWKw.kp0F2OXEausw3kRBVhje\",\"expiry\":1716485220,\"previous_token\":\"$2a$10$vCcpkKn5bPJZ.5Z9M0uiKOx77tsOT0.xIiSH5n60TMRbWtk/xvfOG\",\"last_token\":\"$2a$10$1Y9DmaKlAV.aJMuMdouoPe0srKgb9FTnFag71eDZkeH5y5K9MAzA.\",\"updated_at\":\"2024-05-09T17:27:03Z\"},\"Cn74wkWEbHjK2eCh0rcXJA\":{\"token\":\"$2a$10$QZP88lr/FkMzX8MfRCdwOuRTtoGGH0pzRDr5T52P92wPBnnfQ5C5.\",\"expiry\":1716485318,\"previous_token\":\"$2a$10$1tLybZ8bgaguEawYNWgiN.VkgAJMKckNSEpw.nKMDUYF..rAEINv.\",\"updated_at\":\"2024-05-09T17:28:38Z\"}}"], ["updated_at", "2024-05-09 17:28:38.056901"], ["id", 3]]
  [1m[35m (9.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 346ms (Views: 0.1ms | ActiveRecord: 19.8ms | Allocations: 18774)


Started GET "/auth/validate_token" for ::1 at 2024-05-10 02:28:38 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 59ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 8092)


Started GET "/cable" for ::1 at 2024-05-10 02:28:38 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-10 02:28:38 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-10 02:28:38 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 15ms (Views: 1.6ms | ActiveRecord: 0.9ms | Allocations: 12279)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-10 02:28:47 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$18gnC7W9EPc4IFlxqjQ2beusKf3SyEvotkxZXsPvfGcaEnErcDixi\",\"expiry\":1716478239,\"previous_token\":\"$2a$10$i8i4Xuwl/gO9n9ySLaZVA.naRL/PoVsFogSR6dla/0y0LtVRfUnPm\",\"last_token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"updated_at\":\"2024-05-09T15:30:38Z\"},\"oO0Gw-rdlgcmvjO4UY6_mA\":{\"token\":\"$2a$10$dblT2u5Fnss.cvmY.s2mXORje5y1xg3CL9gYAE3ll6ZvZDTxCCTEu\",\"expiry\":1716478379,\"previous_token\":\"$2a$10$/bICJK4kLWWtVXKYuhd2v.inViN5qLG38OmL9KkWqnWAh.C5vXXjq\",\"last_token\":\"$2a$10$U3Hajk4k.0wDOXwaQK1D7eK6O32HkWZyPpL.Mqq0p2FhnQ7a7mN1O\",\"updated_at\":\"2024-05-09T15:33:02Z\"},\"KMMzeCp4ZBBmMSmwa7TAdw\":{\"token\":\"$2a$10$y4tOhWOcNUW7891xwDF.o.37kX.6iZeuJVy3aOibmqMoKwvLw.WEy\",\"expiry\":1716478922,\"previous_token\":\"$2a$10$CDhYlwwtn/3IgnQ7Coc2lO3.LCPP8U69jATtwwscn8wYcRX8SlZiy\",\"last_token\":\"$2a$10$ewSWruJ3V4CFeoVS6og68ebtcBOo/gf4Hib4u7.D2byx8ni7gKuWu\",\"updated_at\":\"2024-05-09T15:42:03Z\"},\"CoVPTXb7xbNxSQSSsbVAcg\":{\"token\":\"$2a$10$ClT8MwLA2rhCRmB3EkUnUebkgIpMYuDZLu0ol7lhggU0jN3Cuzsga\",\"expiry\":1716479117,\"previous_token\":\"$2a$10$Cl1LxrnRQPDndmDsD4eey.4dGddA7hTv6FAYQ8jiP8ipIHbLJp24G\",\"last_token\":\"$2a$10$utYd5hbbL0bAyEn6ygjjy.yKsGtgfPYqoiyviwFDfB8oMNwpKSm6W\",\"updated_at\":\"2024-05-09T15:45:17Z\"},\"A3-niiKWqiQBMI2BFQGV_w\":{\"token\":\"$2a$10$RDjtPzyCW2X.jlbVzfOoXufF23kXtY7qfQ8ikNN844L0dIl2rK6bK\",\"expiry\":1716484595,\"previous_token\":\"$2a$10$2cM6i7lMCRCRURdNKA1gReyAT6r/dGrjunlYSX2Zkgr7tQNyRxkLa\",\"last_token\":\"$2a$10$cMCJQ9WMQt7oeVN0JnZmuuCPlkxACiFnelskQzMt5UNYs9xxdkte2\",\"updated_at\":\"2024-05-09T17:16:35Z\"},\"xMVMCZ2vD_K0oQ2Ezavz9w\":{\"token\":\"$2a$10$71of/QFzHmxijsQ8gdRAzOZdMlyFEWKw.kp0F2OXEausw3kRBVhje\",\"expiry\":1716485220,\"previous_token\":\"$2a$10$vCcpkKn5bPJZ.5Z9M0uiKOx77tsOT0.xIiSH5n60TMRbWtk/xvfOG\",\"last_token\":\"$2a$10$1Y9DmaKlAV.aJMuMdouoPe0srKgb9FTnFag71eDZkeH5y5K9MAzA.\",\"updated_at\":\"2024-05-09T17:27:03Z\"},\"Cn74wkWEbHjK2eCh0rcXJA\":{\"token\":\"$2a$10$1VMSvPdbCDFU7WumrSH3e.kb5JyDyX9pnUBfiYCVDUTb9FbGszQYe\",\"expiry\":1716485327,\"previous_token\":\"$2a$10$QZP88lr/FkMzX8MfRCdwOuRTtoGGH0pzRDr5T52P92wPBnnfQ5C5.\",\"last_token\":\"$2a$10$1tLybZ8bgaguEawYNWgiN.VkgAJMKckNSEpw.nKMDUYF..rAEINv.\",\"updated_at\":\"2024-05-09T17:28:47Z\"}}"], ["updated_at", "2024-05-09 17:28:47.183031"], ["id", 3]]
  [1m[35m (9.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 79ms (Views: 1.6ms | ActiveRecord: 10.6ms | Allocations: 14843)


Started PUT "/messages/22" for ::1 at 2024-05-10 02:29:01 +0900
Processing by MessagesController#update as HTML
  Parameters: {"content"=>"bbbb\n", "id"=>"22", "message"=>{"content"=>"bbbb\n"}}
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:23:in `update'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/messages_controller.rb:24:in `update'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:24:in `update'
  [1m[36mMessage Update (0.4ms)[0m  [1m[33mUPDATE "messages" SET "content" = ?, "updated_at" = ? WHERE "messages"."id" = ?[0m  [["content", "bbbb\n"], ["updated_at", "2024-05-09 17:29:01.506256"], ["id", 22]]
  ↳ app/controllers/messages_controller.rb:24:in `update'
  [1m[35m (8.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/messages_controller.rb:24:in `update'
Completed 200 OK in 22ms (Views: 0.3ms | ActiveRecord: 9.8ms | Allocations: 6513)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-10 02:29:01 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"I1DYNv-I0w7ie3rc8HFxfw\":{\"token\":\"$2a$10$ujAwbW.eA.e2JcOPoVJ3KuS1MjCHNKjXB5kVLFxQjk0UtsKOJAaSy\",\"expiry\":1716468859,\"previous_token\":\"$2a$10$arkAKUZUgsM8/Unq3d.HM.T8olQYP1S2/vBgTNLFZ8hVbxDP03jEG\",\"last_token\":\"$2a$10$XCUN3aYCP1t2imb1NMg6muI6H2UuULnq1HnEkOXdgdXr693z7yQEq\",\"updated_at\":\"2024-05-09T12:54:20Z\"},\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$18gnC7W9EPc4IFlxqjQ2beusKf3SyEvotkxZXsPvfGcaEnErcDixi\",\"expiry\":1716478239,\"previous_token\":\"$2a$10$i8i4Xuwl/gO9n9ySLaZVA.naRL/PoVsFogSR6dla/0y0LtVRfUnPm\",\"last_token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"updated_at\":\"2024-05-09T15:30:38Z\"},\"oO0Gw-rdlgcmvjO4UY6_mA\":{\"token\":\"$2a$10$dblT2u5Fnss.cvmY.s2mXORje5y1xg3CL9gYAE3ll6ZvZDTxCCTEu\",\"expiry\":1716478379,\"previous_token\":\"$2a$10$/bICJK4kLWWtVXKYuhd2v.inViN5qLG38OmL9KkWqnWAh.C5vXXjq\",\"last_token\":\"$2a$10$U3Hajk4k.0wDOXwaQK1D7eK6O32HkWZyPpL.Mqq0p2FhnQ7a7mN1O\",\"updated_at\":\"2024-05-09T15:33:02Z\"},\"KMMzeCp4ZBBmMSmwa7TAdw\":{\"token\":\"$2a$10$y4tOhWOcNUW7891xwDF.o.37kX.6iZeuJVy3aOibmqMoKwvLw.WEy\",\"expiry\":1716478922,\"previous_token\":\"$2a$10$CDhYlwwtn/3IgnQ7Coc2lO3.LCPP8U69jATtwwscn8wYcRX8SlZiy\",\"last_token\":\"$2a$10$ewSWruJ3V4CFeoVS6og68ebtcBOo/gf4Hib4u7.D2byx8ni7gKuWu\",\"updated_at\":\"2024-05-09T15:42:03Z\"},\"CoVPTXb7xbNxSQSSsbVAcg\":{\"token\":\"$2a$10$ClT8MwLA2rhCRmB3EkUnUebkgIpMYuDZLu0ol7lhggU0jN3Cuzsga\",\"expiry\":1716479117,\"previous_token\":\"$2a$10$Cl1LxrnRQPDndmDsD4eey.4dGddA7hTv6FAYQ8jiP8ipIHbLJp24G\",\"last_token\":\"$2a$10$utYd5hbbL0bAyEn6ygjjy.yKsGtgfPYqoiyviwFDfB8oMNwpKSm6W\",\"updated_at\":\"2024-05-09T15:45:17Z\"},\"A3-niiKWqiQBMI2BFQGV_w\":{\"token\":\"$2a$10$RDjtPzyCW2X.jlbVzfOoXufF23kXtY7qfQ8ikNN844L0dIl2rK6bK\",\"expiry\":1716484595,\"previous_token\":\"$2a$10$2cM6i7lMCRCRURdNKA1gReyAT6r/dGrjunlYSX2Zkgr7tQNyRxkLa\",\"last_token\":\"$2a$10$cMCJQ9WMQt7oeVN0JnZmuuCPlkxACiFnelskQzMt5UNYs9xxdkte2\",\"updated_at\":\"2024-05-09T17:16:35Z\"},\"xMVMCZ2vD_K0oQ2Ezavz9w\":{\"token\":\"$2a$10$71of/QFzHmxijsQ8gdRAzOZdMlyFEWKw.kp0F2OXEausw3kRBVhje\",\"expiry\":1716485220,\"previous_token\":\"$2a$10$vCcpkKn5bPJZ.5Z9M0uiKOx77tsOT0.xIiSH5n60TMRbWtk/xvfOG\",\"last_token\":\"$2a$10$1Y9DmaKlAV.aJMuMdouoPe0srKgb9FTnFag71eDZkeH5y5K9MAzA.\",\"updated_at\":\"2024-05-09T17:27:03Z\"},\"Cn74wkWEbHjK2eCh0rcXJA\":{\"token\":\"$2a$10$6smHAAIjGJNAQ8SeoWKHJOim0WfgmJCJEu.no0YDJ9DvwwWtDAeZ.\",\"expiry\":1716485341,\"previous_token\":\"$2a$10$1VMSvPdbCDFU7WumrSH3e.kb5JyDyX9pnUBfiYCVDUTb9FbGszQYe\",\"last_token\":\"$2a$10$QZP88lr/FkMzX8MfRCdwOuRTtoGGH0pzRDr5T52P92wPBnnfQ5C5.\",\"updated_at\":\"2024-05-09T17:29:01Z\"}}"], ["updated_at", "2024-05-09 17:29:01.647420"], ["id", 3]]
  [1m[35m (7.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 124ms (Views: 4.0ms | ActiveRecord: 8.6ms | Allocations: 15148)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-10 02:30:45 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 104ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 1419)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/messages" for ::1 at 2024-05-10 02:31:22 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 104ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 1418)


Started DELETE "/auth/sign_out" for ::1 at 2024-05-10 02:31:25 +0900
Processing by DeviseTokenAuth::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 122ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 2776)


Started GET "/auth/validate_token" for ::1 at 2024-05-10 02:31:27 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 97ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 1427)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-10 02:31:30 +0900
RoomChannel stopped streaming from room_channel
Started POST "/auth/sign_in" for ::1 at 2024-05-10 02:31:41 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$18gnC7W9EPc4IFlxqjQ2beusKf3SyEvotkxZXsPvfGcaEnErcDixi\",\"expiry\":1716478239,\"previous_token\":\"$2a$10$i8i4Xuwl/gO9n9ySLaZVA.naRL/PoVsFogSR6dla/0y0LtVRfUnPm\",\"last_token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"updated_at\":\"2024-05-09T15:30:38Z\"},\"oO0Gw-rdlgcmvjO4UY6_mA\":{\"token\":\"$2a$10$dblT2u5Fnss.cvmY.s2mXORje5y1xg3CL9gYAE3ll6ZvZDTxCCTEu\",\"expiry\":1716478379,\"previous_token\":\"$2a$10$/bICJK4kLWWtVXKYuhd2v.inViN5qLG38OmL9KkWqnWAh.C5vXXjq\",\"last_token\":\"$2a$10$U3Hajk4k.0wDOXwaQK1D7eK6O32HkWZyPpL.Mqq0p2FhnQ7a7mN1O\",\"updated_at\":\"2024-05-09T15:33:02Z\"},\"KMMzeCp4ZBBmMSmwa7TAdw\":{\"token\":\"$2a$10$y4tOhWOcNUW7891xwDF.o.37kX.6iZeuJVy3aOibmqMoKwvLw.WEy\",\"expiry\":1716478922,\"previous_token\":\"$2a$10$CDhYlwwtn/3IgnQ7Coc2lO3.LCPP8U69jATtwwscn8wYcRX8SlZiy\",\"last_token\":\"$2a$10$ewSWruJ3V4CFeoVS6og68ebtcBOo/gf4Hib4u7.D2byx8ni7gKuWu\",\"updated_at\":\"2024-05-09T15:42:03Z\"},\"CoVPTXb7xbNxSQSSsbVAcg\":{\"token\":\"$2a$10$ClT8MwLA2rhCRmB3EkUnUebkgIpMYuDZLu0ol7lhggU0jN3Cuzsga\",\"expiry\":1716479117,\"previous_token\":\"$2a$10$Cl1LxrnRQPDndmDsD4eey.4dGddA7hTv6FAYQ8jiP8ipIHbLJp24G\",\"last_token\":\"$2a$10$utYd5hbbL0bAyEn6ygjjy.yKsGtgfPYqoiyviwFDfB8oMNwpKSm6W\",\"updated_at\":\"2024-05-09T15:45:17Z\"},\"A3-niiKWqiQBMI2BFQGV_w\":{\"token\":\"$2a$10$RDjtPzyCW2X.jlbVzfOoXufF23kXtY7qfQ8ikNN844L0dIl2rK6bK\",\"expiry\":1716484595,\"previous_token\":\"$2a$10$2cM6i7lMCRCRURdNKA1gReyAT6r/dGrjunlYSX2Zkgr7tQNyRxkLa\",\"last_token\":\"$2a$10$cMCJQ9WMQt7oeVN0JnZmuuCPlkxACiFnelskQzMt5UNYs9xxdkte2\",\"updated_at\":\"2024-05-09T17:16:35Z\"},\"xMVMCZ2vD_K0oQ2Ezavz9w\":{\"token\":\"$2a$10$71of/QFzHmxijsQ8gdRAzOZdMlyFEWKw.kp0F2OXEausw3kRBVhje\",\"expiry\":1716485220,\"previous_token\":\"$2a$10$vCcpkKn5bPJZ.5Z9M0uiKOx77tsOT0.xIiSH5n60TMRbWtk/xvfOG\",\"last_token\":\"$2a$10$1Y9DmaKlAV.aJMuMdouoPe0srKgb9FTnFag71eDZkeH5y5K9MAzA.\",\"updated_at\":\"2024-05-09T17:27:03Z\"},\"Cn74wkWEbHjK2eCh0rcXJA\":{\"token\":\"$2a$10$6smHAAIjGJNAQ8SeoWKHJOim0WfgmJCJEu.no0YDJ9DvwwWtDAeZ.\",\"expiry\":1716485341,\"previous_token\":\"$2a$10$1VMSvPdbCDFU7WumrSH3e.kb5JyDyX9pnUBfiYCVDUTb9FbGszQYe\",\"last_token\":\"$2a$10$QZP88lr/FkMzX8MfRCdwOuRTtoGGH0pzRDr5T52P92wPBnnfQ5C5.\",\"updated_at\":\"2024-05-09T17:29:01Z\"},\"VpxZXIIe6e4HR1g3-HAo0w\":{\"token\":\"$2a$10$olCdr7gvYOArL.U12zeAu.3DKSuv7chYcHLL3FsOK005MbI4Q9uYi\",\"expiry\":1716485502}}"], ["updated_at", "2024-05-09 17:31:42.013526"], ["id", 3]]
  [1m[35m (9.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$18gnC7W9EPc4IFlxqjQ2beusKf3SyEvotkxZXsPvfGcaEnErcDixi\",\"expiry\":1716478239,\"previous_token\":\"$2a$10$i8i4Xuwl/gO9n9ySLaZVA.naRL/PoVsFogSR6dla/0y0LtVRfUnPm\",\"last_token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"updated_at\":\"2024-05-09T15:30:38Z\"},\"oO0Gw-rdlgcmvjO4UY6_mA\":{\"token\":\"$2a$10$dblT2u5Fnss.cvmY.s2mXORje5y1xg3CL9gYAE3ll6ZvZDTxCCTEu\",\"expiry\":1716478379,\"previous_token\":\"$2a$10$/bICJK4kLWWtVXKYuhd2v.inViN5qLG38OmL9KkWqnWAh.C5vXXjq\",\"last_token\":\"$2a$10$U3Hajk4k.0wDOXwaQK1D7eK6O32HkWZyPpL.Mqq0p2FhnQ7a7mN1O\",\"updated_at\":\"2024-05-09T15:33:02Z\"},\"KMMzeCp4ZBBmMSmwa7TAdw\":{\"token\":\"$2a$10$y4tOhWOcNUW7891xwDF.o.37kX.6iZeuJVy3aOibmqMoKwvLw.WEy\",\"expiry\":1716478922,\"previous_token\":\"$2a$10$CDhYlwwtn/3IgnQ7Coc2lO3.LCPP8U69jATtwwscn8wYcRX8SlZiy\",\"last_token\":\"$2a$10$ewSWruJ3V4CFeoVS6og68ebtcBOo/gf4Hib4u7.D2byx8ni7gKuWu\",\"updated_at\":\"2024-05-09T15:42:03Z\"},\"CoVPTXb7xbNxSQSSsbVAcg\":{\"token\":\"$2a$10$ClT8MwLA2rhCRmB3EkUnUebkgIpMYuDZLu0ol7lhggU0jN3Cuzsga\",\"expiry\":1716479117,\"previous_token\":\"$2a$10$Cl1LxrnRQPDndmDsD4eey.4dGddA7hTv6FAYQ8jiP8ipIHbLJp24G\",\"last_token\":\"$2a$10$utYd5hbbL0bAyEn6ygjjy.yKsGtgfPYqoiyviwFDfB8oMNwpKSm6W\",\"updated_at\":\"2024-05-09T15:45:17Z\"},\"A3-niiKWqiQBMI2BFQGV_w\":{\"token\":\"$2a$10$RDjtPzyCW2X.jlbVzfOoXufF23kXtY7qfQ8ikNN844L0dIl2rK6bK\",\"expiry\":1716484595,\"previous_token\":\"$2a$10$2cM6i7lMCRCRURdNKA1gReyAT6r/dGrjunlYSX2Zkgr7tQNyRxkLa\",\"last_token\":\"$2a$10$cMCJQ9WMQt7oeVN0JnZmuuCPlkxACiFnelskQzMt5UNYs9xxdkte2\",\"updated_at\":\"2024-05-09T17:16:35Z\"},\"xMVMCZ2vD_K0oQ2Ezavz9w\":{\"token\":\"$2a$10$71of/QFzHmxijsQ8gdRAzOZdMlyFEWKw.kp0F2OXEausw3kRBVhje\",\"expiry\":1716485220,\"previous_token\":\"$2a$10$vCcpkKn5bPJZ.5Z9M0uiKOx77tsOT0.xIiSH5n60TMRbWtk/xvfOG\",\"last_token\":\"$2a$10$1Y9DmaKlAV.aJMuMdouoPe0srKgb9FTnFag71eDZkeH5y5K9MAzA.\",\"updated_at\":\"2024-05-09T17:27:03Z\"},\"Cn74wkWEbHjK2eCh0rcXJA\":{\"token\":\"$2a$10$6smHAAIjGJNAQ8SeoWKHJOim0WfgmJCJEu.no0YDJ9DvwwWtDAeZ.\",\"expiry\":1716485341,\"previous_token\":\"$2a$10$1VMSvPdbCDFU7WumrSH3e.kb5JyDyX9pnUBfiYCVDUTb9FbGszQYe\",\"last_token\":\"$2a$10$QZP88lr/FkMzX8MfRCdwOuRTtoGGH0pzRDr5T52P92wPBnnfQ5C5.\",\"updated_at\":\"2024-05-09T17:29:01Z\"},\"VpxZXIIe6e4HR1g3-HAo0w\":{\"token\":\"$2a$10$rsC7tr/oOM1FwGLYPqVnCOMD4Pj2s0mPcErZ7MX2s3.0SCWtT9ajq\",\"expiry\":1716485502,\"previous_token\":\"$2a$10$olCdr7gvYOArL.U12zeAu.3DKSuv7chYcHLL3FsOK005MbI4Q9uYi\",\"updated_at\":\"2024-05-09T17:31:42Z\"}}"], ["updated_at", "2024-05-09 17:31:42.079754"], ["id", 3]]
  [1m[35m (9.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 336ms (Views: 0.2ms | ActiveRecord: 19.9ms | Allocations: 18750)


Started GET "/auth/validate_token" for ::1 at 2024-05-10 02:31:42 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 54ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 8092)


Started GET "/auth/validate_token" for ::1 at 2024-05-10 02:31:58 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"QMDgmS3a6odJeo80INXAvw\":{\"token\":\"$2a$10$eVM/rKVDcPe4ULBjFhLJT.Ql25pArG9dn/FSKfBYDv/vv5sfMjRcW\",\"expiry\":1716469429,\"previous_token\":\"$2a$10$2T3y0DHSAw8GbAzKQ2Idg.i2b5uQIbLPwOyZDmQDYTtBC9Mm2gBg2\",\"last_token\":\"$2a$10$yT5.PxxvABnaz5.ZS9mFauTZrGh.ki76o6Ud/jVP5S/Gs./Epr4Qy\",\"updated_at\":\"2024-05-09T13:03:50Z\"},\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$18gnC7W9EPc4IFlxqjQ2beusKf3SyEvotkxZXsPvfGcaEnErcDixi\",\"expiry\":1716478239,\"previous_token\":\"$2a$10$i8i4Xuwl/gO9n9ySLaZVA.naRL/PoVsFogSR6dla/0y0LtVRfUnPm\",\"last_token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"updated_at\":\"2024-05-09T15:30:38Z\"},\"oO0Gw-rdlgcmvjO4UY6_mA\":{\"token\":\"$2a$10$dblT2u5Fnss.cvmY.s2mXORje5y1xg3CL9gYAE3ll6ZvZDTxCCTEu\",\"expiry\":1716478379,\"previous_token\":\"$2a$10$/bICJK4kLWWtVXKYuhd2v.inViN5qLG38OmL9KkWqnWAh.C5vXXjq\",\"last_token\":\"$2a$10$U3Hajk4k.0wDOXwaQK1D7eK6O32HkWZyPpL.Mqq0p2FhnQ7a7mN1O\",\"updated_at\":\"2024-05-09T15:33:02Z\"},\"KMMzeCp4ZBBmMSmwa7TAdw\":{\"token\":\"$2a$10$y4tOhWOcNUW7891xwDF.o.37kX.6iZeuJVy3aOibmqMoKwvLw.WEy\",\"expiry\":1716478922,\"previous_token\":\"$2a$10$CDhYlwwtn/3IgnQ7Coc2lO3.LCPP8U69jATtwwscn8wYcRX8SlZiy\",\"last_token\":\"$2a$10$ewSWruJ3V4CFeoVS6og68ebtcBOo/gf4Hib4u7.D2byx8ni7gKuWu\",\"updated_at\":\"2024-05-09T15:42:03Z\"},\"CoVPTXb7xbNxSQSSsbVAcg\":{\"token\":\"$2a$10$ClT8MwLA2rhCRmB3EkUnUebkgIpMYuDZLu0ol7lhggU0jN3Cuzsga\",\"expiry\":1716479117,\"previous_token\":\"$2a$10$Cl1LxrnRQPDndmDsD4eey.4dGddA7hTv6FAYQ8jiP8ipIHbLJp24G\",\"last_token\":\"$2a$10$utYd5hbbL0bAyEn6ygjjy.yKsGtgfPYqoiyviwFDfB8oMNwpKSm6W\",\"updated_at\":\"2024-05-09T15:45:17Z\"},\"A3-niiKWqiQBMI2BFQGV_w\":{\"token\":\"$2a$10$RDjtPzyCW2X.jlbVzfOoXufF23kXtY7qfQ8ikNN844L0dIl2rK6bK\",\"expiry\":1716484595,\"previous_token\":\"$2a$10$2cM6i7lMCRCRURdNKA1gReyAT6r/dGrjunlYSX2Zkgr7tQNyRxkLa\",\"last_token\":\"$2a$10$cMCJQ9WMQt7oeVN0JnZmuuCPlkxACiFnelskQzMt5UNYs9xxdkte2\",\"updated_at\":\"2024-05-09T17:16:35Z\"},\"xMVMCZ2vD_K0oQ2Ezavz9w\":{\"token\":\"$2a$10$71of/QFzHmxijsQ8gdRAzOZdMlyFEWKw.kp0F2OXEausw3kRBVhje\",\"expiry\":1716485220,\"previous_token\":\"$2a$10$vCcpkKn5bPJZ.5Z9M0uiKOx77tsOT0.xIiSH5n60TMRbWtk/xvfOG\",\"last_token\":\"$2a$10$1Y9DmaKlAV.aJMuMdouoPe0srKgb9FTnFag71eDZkeH5y5K9MAzA.\",\"updated_at\":\"2024-05-09T17:27:03Z\"},\"Cn74wkWEbHjK2eCh0rcXJA\":{\"token\":\"$2a$10$6smHAAIjGJNAQ8SeoWKHJOim0WfgmJCJEu.no0YDJ9DvwwWtDAeZ.\",\"expiry\":1716485341,\"previous_token\":\"$2a$10$1VMSvPdbCDFU7WumrSH3e.kb5JyDyX9pnUBfiYCVDUTb9FbGszQYe\",\"last_token\":\"$2a$10$QZP88lr/FkMzX8MfRCdwOuRTtoGGH0pzRDr5T52P92wPBnnfQ5C5.\",\"updated_at\":\"2024-05-09T17:29:01Z\"},\"VpxZXIIe6e4HR1g3-HAo0w\":{\"token\":\"$2a$10$TtOwkY9Wv/XJg9f311e1heQGMct674pbDAb6gUPL96TZ1pMQfv/Jq\",\"expiry\":1716485518,\"previous_token\":\"$2a$10$rsC7tr/oOM1FwGLYPqVnCOMD4Pj2s0mPcErZ7MX2s3.0SCWtT9ajq\",\"last_token\":\"$2a$10$olCdr7gvYOArL.U12zeAu.3DKSuv7chYcHLL3FsOK005MbI4Q9uYi\",\"updated_at\":\"2024-05-09T17:31:58Z\"}}"], ["updated_at", "2024-05-09 17:31:58.766991"], ["id", 3]]
  [1m[35m (10.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 71ms (Views: 0.1ms | ActiveRecord: 11.1ms | Allocations: 10178)


Started GET "/cable" for ::1 at 2024-05-10 02:31:58 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-10 02:31:58 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/messages" for ::1 at 2024-05-10 02:31:58 +0900
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 63ms (Views: 1.2ms | ActiveRecord: 0.8ms | Allocations: 12584)


Started POST "/api/auth/sign_in" for ::1 at 2024-05-11 23:42:18 +0900
  [1m[35m (4.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (6.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"sl3VrYissLVQ3nrInYVzDA\":{\"token\":\"$2a$10$BFp4v934rw/uAez5UDjl3OEy9loIusmTbif7UBGvSTsH4oEgEeZ16\",\"expiry\":1716477796,\"previous_token\":\"$2a$10$yiztOHC/Fk1cVakza84ELONHQIuUYSCmaRHy3gLsejPPZrho2ZLCi\",\"last_token\":\"$2a$10$KIXcp1I.2MSmyGyEc5Yn/ux/MAbwQBEV43u3S8cH1xwqV6nECBI.e\",\"updated_at\":\"2024-05-09T15:23:16Z\"},\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$18gnC7W9EPc4IFlxqjQ2beusKf3SyEvotkxZXsPvfGcaEnErcDixi\",\"expiry\":1716478239,\"previous_token\":\"$2a$10$i8i4Xuwl/gO9n9ySLaZVA.naRL/PoVsFogSR6dla/0y0LtVRfUnPm\",\"last_token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"updated_at\":\"2024-05-09T15:30:38Z\"},\"oO0Gw-rdlgcmvjO4UY6_mA\":{\"token\":\"$2a$10$dblT2u5Fnss.cvmY.s2mXORje5y1xg3CL9gYAE3ll6ZvZDTxCCTEu\",\"expiry\":1716478379,\"previous_token\":\"$2a$10$/bICJK4kLWWtVXKYuhd2v.inViN5qLG38OmL9KkWqnWAh.C5vXXjq\",\"last_token\":\"$2a$10$U3Hajk4k.0wDOXwaQK1D7eK6O32HkWZyPpL.Mqq0p2FhnQ7a7mN1O\",\"updated_at\":\"2024-05-09T15:33:02Z\"},\"KMMzeCp4ZBBmMSmwa7TAdw\":{\"token\":\"$2a$10$y4tOhWOcNUW7891xwDF.o.37kX.6iZeuJVy3aOibmqMoKwvLw.WEy\",\"expiry\":1716478922,\"previous_token\":\"$2a$10$CDhYlwwtn/3IgnQ7Coc2lO3.LCPP8U69jATtwwscn8wYcRX8SlZiy\",\"last_token\":\"$2a$10$ewSWruJ3V4CFeoVS6og68ebtcBOo/gf4Hib4u7.D2byx8ni7gKuWu\",\"updated_at\":\"2024-05-09T15:42:03Z\"},\"CoVPTXb7xbNxSQSSsbVAcg\":{\"token\":\"$2a$10$ClT8MwLA2rhCRmB3EkUnUebkgIpMYuDZLu0ol7lhggU0jN3Cuzsga\",\"expiry\":1716479117,\"previous_token\":\"$2a$10$Cl1LxrnRQPDndmDsD4eey.4dGddA7hTv6FAYQ8jiP8ipIHbLJp24G\",\"last_token\":\"$2a$10$utYd5hbbL0bAyEn6ygjjy.yKsGtgfPYqoiyviwFDfB8oMNwpKSm6W\",\"updated_at\":\"2024-05-09T15:45:17Z\"},\"A3-niiKWqiQBMI2BFQGV_w\":{\"token\":\"$2a$10$RDjtPzyCW2X.jlbVzfOoXufF23kXtY7qfQ8ikNN844L0dIl2rK6bK\",\"expiry\":1716484595,\"previous_token\":\"$2a$10$2cM6i7lMCRCRURdNKA1gReyAT6r/dGrjunlYSX2Zkgr7tQNyRxkLa\",\"last_token\":\"$2a$10$cMCJQ9WMQt7oeVN0JnZmuuCPlkxACiFnelskQzMt5UNYs9xxdkte2\",\"updated_at\":\"2024-05-09T17:16:35Z\"},\"xMVMCZ2vD_K0oQ2Ezavz9w\":{\"token\":\"$2a$10$71of/QFzHmxijsQ8gdRAzOZdMlyFEWKw.kp0F2OXEausw3kRBVhje\",\"expiry\":1716485220,\"previous_token\":\"$2a$10$vCcpkKn5bPJZ.5Z9M0uiKOx77tsOT0.xIiSH5n60TMRbWtk/xvfOG\",\"last_token\":\"$2a$10$1Y9DmaKlAV.aJMuMdouoPe0srKgb9FTnFag71eDZkeH5y5K9MAzA.\",\"updated_at\":\"2024-05-09T17:27:03Z\"},\"Cn74wkWEbHjK2eCh0rcXJA\":{\"token\":\"$2a$10$6smHAAIjGJNAQ8SeoWKHJOim0WfgmJCJEu.no0YDJ9DvwwWtDAeZ.\",\"expiry\":1716485341,\"previous_token\":\"$2a$10$1VMSvPdbCDFU7WumrSH3e.kb5JyDyX9pnUBfiYCVDUTb9FbGszQYe\",\"last_token\":\"$2a$10$QZP88lr/FkMzX8MfRCdwOuRTtoGGH0pzRDr5T52P92wPBnnfQ5C5.\",\"updated_at\":\"2024-05-09T17:29:01Z\"},\"VpxZXIIe6e4HR1g3-HAo0w\":{\"token\":\"$2a$10$TtOwkY9Wv/XJg9f311e1heQGMct674pbDAb6gUPL96TZ1pMQfv/Jq\",\"expiry\":1716485518,\"previous_token\":\"$2a$10$rsC7tr/oOM1FwGLYPqVnCOMD4Pj2s0mPcErZ7MX2s3.0SCWtT9ajq\",\"last_token\":\"$2a$10$olCdr7gvYOArL.U12zeAu.3DKSuv7chYcHLL3FsOK005MbI4Q9uYi\",\"updated_at\":\"2024-05-09T17:31:58Z\"},\"wLdmzM8zEawUa9drMUJxpw\":{\"token\":\"$2a$10$PHXiNMsF8uwwLqMQKvf8U.Ovk5mbP3LwUkjjYbuRYgVmeNGpsN502\",\"expiry\":1716648139}}"], ["updated_at", "2024-05-11 14:42:19.515839"], ["id", 3]]
  [1m[35m (13.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 722ms (Views: 0.6ms | ActiveRecord: 24.5ms | Allocations: 18636)


Started GET "/auth/validate_token" for ::1 at 2024-05-11 23:42:19 +0900
  
ActionController::RoutingError (No route matches [GET] "/auth/validate_token"):
  
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for ::1 at 2024-05-11 23:42:19 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-11 23:42:19 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/api/messages" for ::1 at 2024-05-11 23:42:19 +0900
Processing by Api::MessagesController#index as HTML
Filter chain halted as :authenticate_api_user! rendered or redirected
Completed 401 Unauthorized in 23ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 6472)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-11 23:42:29 +0900
RoomChannel stopped streaming from room_channel
Started POST "/api/auth/sign_in" for ::1 at 2024-05-11 23:42:31 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"2G1MoB5RsvkgaM8CZ7DmVQ\":{\"token\":\"$2a$10$18gnC7W9EPc4IFlxqjQ2beusKf3SyEvotkxZXsPvfGcaEnErcDixi\",\"expiry\":1716478239,\"previous_token\":\"$2a$10$i8i4Xuwl/gO9n9ySLaZVA.naRL/PoVsFogSR6dla/0y0LtVRfUnPm\",\"last_token\":\"$2a$10$IJ8QOZ74N9.vff7m7R0dEO3yQVBsbNbA357xMKbnadcTWOBpt3k1m\",\"updated_at\":\"2024-05-09T15:30:38Z\"},\"oO0Gw-rdlgcmvjO4UY6_mA\":{\"token\":\"$2a$10$dblT2u5Fnss.cvmY.s2mXORje5y1xg3CL9gYAE3ll6ZvZDTxCCTEu\",\"expiry\":1716478379,\"previous_token\":\"$2a$10$/bICJK4kLWWtVXKYuhd2v.inViN5qLG38OmL9KkWqnWAh.C5vXXjq\",\"last_token\":\"$2a$10$U3Hajk4k.0wDOXwaQK1D7eK6O32HkWZyPpL.Mqq0p2FhnQ7a7mN1O\",\"updated_at\":\"2024-05-09T15:33:02Z\"},\"KMMzeCp4ZBBmMSmwa7TAdw\":{\"token\":\"$2a$10$y4tOhWOcNUW7891xwDF.o.37kX.6iZeuJVy3aOibmqMoKwvLw.WEy\",\"expiry\":1716478922,\"previous_token\":\"$2a$10$CDhYlwwtn/3IgnQ7Coc2lO3.LCPP8U69jATtwwscn8wYcRX8SlZiy\",\"last_token\":\"$2a$10$ewSWruJ3V4CFeoVS6og68ebtcBOo/gf4Hib4u7.D2byx8ni7gKuWu\",\"updated_at\":\"2024-05-09T15:42:03Z\"},\"CoVPTXb7xbNxSQSSsbVAcg\":{\"token\":\"$2a$10$ClT8MwLA2rhCRmB3EkUnUebkgIpMYuDZLu0ol7lhggU0jN3Cuzsga\",\"expiry\":1716479117,\"previous_token\":\"$2a$10$Cl1LxrnRQPDndmDsD4eey.4dGddA7hTv6FAYQ8jiP8ipIHbLJp24G\",\"last_token\":\"$2a$10$utYd5hbbL0bAyEn6ygjjy.yKsGtgfPYqoiyviwFDfB8oMNwpKSm6W\",\"updated_at\":\"2024-05-09T15:45:17Z\"},\"A3-niiKWqiQBMI2BFQGV_w\":{\"token\":\"$2a$10$RDjtPzyCW2X.jlbVzfOoXufF23kXtY7qfQ8ikNN844L0dIl2rK6bK\",\"expiry\":1716484595,\"previous_token\":\"$2a$10$2cM6i7lMCRCRURdNKA1gReyAT6r/dGrjunlYSX2Zkgr7tQNyRxkLa\",\"last_token\":\"$2a$10$cMCJQ9WMQt7oeVN0JnZmuuCPlkxACiFnelskQzMt5UNYs9xxdkte2\",\"updated_at\":\"2024-05-09T17:16:35Z\"},\"xMVMCZ2vD_K0oQ2Ezavz9w\":{\"token\":\"$2a$10$71of/QFzHmxijsQ8gdRAzOZdMlyFEWKw.kp0F2OXEausw3kRBVhje\",\"expiry\":1716485220,\"previous_token\":\"$2a$10$vCcpkKn5bPJZ.5Z9M0uiKOx77tsOT0.xIiSH5n60TMRbWtk/xvfOG\",\"last_token\":\"$2a$10$1Y9DmaKlAV.aJMuMdouoPe0srKgb9FTnFag71eDZkeH5y5K9MAzA.\",\"updated_at\":\"2024-05-09T17:27:03Z\"},\"Cn74wkWEbHjK2eCh0rcXJA\":{\"token\":\"$2a$10$6smHAAIjGJNAQ8SeoWKHJOim0WfgmJCJEu.no0YDJ9DvwwWtDAeZ.\",\"expiry\":1716485341,\"previous_token\":\"$2a$10$1VMSvPdbCDFU7WumrSH3e.kb5JyDyX9pnUBfiYCVDUTb9FbGszQYe\",\"last_token\":\"$2a$10$QZP88lr/FkMzX8MfRCdwOuRTtoGGH0pzRDr5T52P92wPBnnfQ5C5.\",\"updated_at\":\"2024-05-09T17:29:01Z\"},\"VpxZXIIe6e4HR1g3-HAo0w\":{\"token\":\"$2a$10$TtOwkY9Wv/XJg9f311e1heQGMct674pbDAb6gUPL96TZ1pMQfv/Jq\",\"expiry\":1716485518,\"previous_token\":\"$2a$10$rsC7tr/oOM1FwGLYPqVnCOMD4Pj2s0mPcErZ7MX2s3.0SCWtT9ajq\",\"last_token\":\"$2a$10$olCdr7gvYOArL.U12zeAu.3DKSuv7chYcHLL3FsOK005MbI4Q9uYi\",\"updated_at\":\"2024-05-09T17:31:58Z\"},\"wLdmzM8zEawUa9drMUJxpw\":{\"token\":\"$2a$10$PHXiNMsF8uwwLqMQKvf8U.Ovk5mbP3LwUkjjYbuRYgVmeNGpsN502\",\"expiry\":1716648139},\"NYodMSGU7iV5O2jsKEw9eA\":{\"token\":\"$2a$10$gvm0DC0pLU7km84l8U2CyuySDJ8yhsTLxpAsy18lLRNjJmuJ6dIJq\",\"expiry\":1716648152}}"], ["updated_at", "2024-05-11 14:42:32.511191"], ["id", 3]]
  [1m[35m (11.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 828ms (Views: 0.3ms | ActiveRecord: 13.9ms | Allocations: 11750)


Started GET "/auth/validate_token" for ::1 at 2024-05-11 23:42:32 +0900
  
ActionController::RoutingError (No route matches [GET] "/auth/validate_token"):
  
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for ::1 at 2024-05-11 23:42:32 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-11 23:42:32 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/api/messages" for ::1 at 2024-05-11 23:42:32 +0900
Processing by Api::MessagesController#index as HTML
Filter chain halted as :authenticate_api_user! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 163)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-11 23:42:55 +0900
RoomChannel stopped streaming from room_channel
Started POST "/api/auth/sign_in" for ::1 at 2024-05-11 23:42:57 +0900
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
NameError (uninitialized constant ApplicationController
Did you mean?  ApplicationRecord):
  
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:282:in `const_get'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:282:in `block in constantize'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:280:in `each'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:280:in `inject'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:280:in `constantize'
activesupport (6.0.6.1) lib/active_support/core_ext/string/inflections.rb:68:in `constantize'
devise (4.9.4) app/controllers/devise_controller.rb:4:in `<main>'
bootsnap (1.18.3) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
bootsnap (1.18.3) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
zeitwerk (2.6.13) lib/zeitwerk/kernel.rb:26:in `require'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/application_controller.rb:4:in `<module:DeviseTokenAuth>'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/application_controller.rb:3:in `<main>'
bootsnap (1.18.3) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
bootsnap (1.18.3) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
zeitwerk (2.6.13) lib/zeitwerk/kernel.rb:26:in `require'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/sessions_controller.rb:5:in `<module:DeviseTokenAuth>'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/sessions_controller.rb:4:in `<main>'
bootsnap (1.18.3) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
bootsnap (1.18.3) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
zeitwerk (2.6.13) lib/zeitwerk/kernel.rb:26:in `require'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:284:in `const_get'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:284:in `block in constantize'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:280:in `each'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:280:in `inject'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:280:in `constantize'
activesupport (6.0.6.1) lib/active_support/dependencies/zeitwerk_integration.rb:19:in `constantize'
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:89:in `controller_class_for'
actionpack (6.0.6.1) lib/action_dispatch/http/parameters.rb:100:in `binary_params_for?'
actionpack (6.0.6.1) lib/action_dispatch/http/parameters.rb:91:in `set_binary_encoding'
actionpack (6.0.6.1) lib/action_dispatch/http/parameters.rb:69:in `path_parameters='
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:47:in `block in serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
activerecord (6.0.6.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/api/auth/sign_in" for ::1 at 2024-05-11 23:43:00 +0900
  
NameError (uninitialized constant ApplicationController
Did you mean?  ApplicationRecord):
  
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:282:in `const_get'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:282:in `block in constantize'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:280:in `each'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:280:in `inject'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:280:in `constantize'
activesupport (6.0.6.1) lib/active_support/core_ext/string/inflections.rb:68:in `constantize'
devise (4.9.4) app/controllers/devise_controller.rb:4:in `<main>'
bootsnap (1.18.3) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
bootsnap (1.18.3) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
zeitwerk (2.6.13) lib/zeitwerk/kernel.rb:26:in `require'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/application_controller.rb:4:in `<module:DeviseTokenAuth>'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/application_controller.rb:3:in `<main>'
bootsnap (1.18.3) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
bootsnap (1.18.3) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
zeitwerk (2.6.13) lib/zeitwerk/kernel.rb:26:in `require'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/sessions_controller.rb:5:in `<module:DeviseTokenAuth>'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/sessions_controller.rb:4:in `<main>'
bootsnap (1.18.3) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
bootsnap (1.18.3) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
zeitwerk (2.6.13) lib/zeitwerk/kernel.rb:26:in `require'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:284:in `const_get'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:284:in `block in constantize'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:280:in `each'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:280:in `inject'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:280:in `constantize'
activesupport (6.0.6.1) lib/active_support/dependencies/zeitwerk_integration.rb:19:in `constantize'
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:89:in `controller_class_for'
actionpack (6.0.6.1) lib/action_dispatch/http/parameters.rb:100:in `binary_params_for?'
actionpack (6.0.6.1) lib/action_dispatch/http/parameters.rb:91:in `set_binary_encoding'
actionpack (6.0.6.1) lib/action_dispatch/http/parameters.rb:69:in `path_parameters='
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:47:in `block in serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
activerecord (6.0.6.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/api/auth/sign_in" for ::1 at 2024-05-11 23:45:19 +0900
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
NameError (uninitialized constant ApplicationController
Did you mean?  ApplicationRecord):
  
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:282:in `const_get'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:282:in `block in constantize'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:280:in `each'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:280:in `inject'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:280:in `constantize'
activesupport (6.0.6.1) lib/active_support/core_ext/string/inflections.rb:68:in `constantize'
devise (4.9.4) app/controllers/devise_controller.rb:4:in `<main>'
bootsnap (1.18.3) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
bootsnap (1.18.3) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
zeitwerk (2.6.13) lib/zeitwerk/kernel.rb:26:in `require'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/application_controller.rb:4:in `<module:DeviseTokenAuth>'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/application_controller.rb:3:in `<main>'
bootsnap (1.18.3) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
bootsnap (1.18.3) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
zeitwerk (2.6.13) lib/zeitwerk/kernel.rb:26:in `require'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/sessions_controller.rb:5:in `<module:DeviseTokenAuth>'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/sessions_controller.rb:4:in `<main>'
bootsnap (1.18.3) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
bootsnap (1.18.3) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
zeitwerk (2.6.13) lib/zeitwerk/kernel.rb:26:in `require'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:284:in `const_get'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:284:in `block in constantize'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:280:in `each'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:280:in `inject'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:280:in `constantize'
activesupport (6.0.6.1) lib/active_support/dependencies/zeitwerk_integration.rb:19:in `constantize'
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:89:in `controller_class_for'
actionpack (6.0.6.1) lib/action_dispatch/http/parameters.rb:100:in `binary_params_for?'
actionpack (6.0.6.1) lib/action_dispatch/http/parameters.rb:91:in `set_binary_encoding'
actionpack (6.0.6.1) lib/action_dispatch/http/parameters.rb:69:in `path_parameters='
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:47:in `block in serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
activerecord (6.0.6.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/api/auth/sign_in" for ::1 at 2024-05-11 23:46:14 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
NameError (uninitialized constant ApplicationController
Did you mean?  ApplicationRecord):
  
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:282:in `const_get'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:282:in `block in constantize'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:280:in `each'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:280:in `inject'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:280:in `constantize'
activesupport (6.0.6.1) lib/active_support/core_ext/string/inflections.rb:68:in `constantize'
devise (4.9.4) app/controllers/devise_controller.rb:4:in `<main>'
bootsnap (1.18.3) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
bootsnap (1.18.3) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
zeitwerk (2.6.13) lib/zeitwerk/kernel.rb:26:in `require'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/application_controller.rb:4:in `<module:DeviseTokenAuth>'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/application_controller.rb:3:in `<main>'
bootsnap (1.18.3) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
bootsnap (1.18.3) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
zeitwerk (2.6.13) lib/zeitwerk/kernel.rb:26:in `require'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/sessions_controller.rb:5:in `<module:DeviseTokenAuth>'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/sessions_controller.rb:4:in `<main>'
bootsnap (1.18.3) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
bootsnap (1.18.3) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
zeitwerk (2.6.13) lib/zeitwerk/kernel.rb:26:in `require'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:284:in `const_get'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:284:in `block in constantize'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:280:in `each'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:280:in `inject'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:280:in `constantize'
activesupport (6.0.6.1) lib/active_support/dependencies/zeitwerk_integration.rb:19:in `constantize'
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:89:in `controller_class_for'
actionpack (6.0.6.1) lib/action_dispatch/http/parameters.rb:100:in `binary_params_for?'
actionpack (6.0.6.1) lib/action_dispatch/http/parameters.rb:91:in `set_binary_encoding'
actionpack (6.0.6.1) lib/action_dispatch/http/parameters.rb:69:in `path_parameters='
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:47:in `block in serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
activerecord (6.0.6.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/api/auth/sign_in" for ::1 at 2024-05-11 23:46:30 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"oO0Gw-rdlgcmvjO4UY6_mA\":{\"token\":\"$2a$10$dblT2u5Fnss.cvmY.s2mXORje5y1xg3CL9gYAE3ll6ZvZDTxCCTEu\",\"expiry\":1716478379,\"previous_token\":\"$2a$10$/bICJK4kLWWtVXKYuhd2v.inViN5qLG38OmL9KkWqnWAh.C5vXXjq\",\"last_token\":\"$2a$10$U3Hajk4k.0wDOXwaQK1D7eK6O32HkWZyPpL.Mqq0p2FhnQ7a7mN1O\",\"updated_at\":\"2024-05-09T15:33:02Z\"},\"KMMzeCp4ZBBmMSmwa7TAdw\":{\"token\":\"$2a$10$y4tOhWOcNUW7891xwDF.o.37kX.6iZeuJVy3aOibmqMoKwvLw.WEy\",\"expiry\":1716478922,\"previous_token\":\"$2a$10$CDhYlwwtn/3IgnQ7Coc2lO3.LCPP8U69jATtwwscn8wYcRX8SlZiy\",\"last_token\":\"$2a$10$ewSWruJ3V4CFeoVS6og68ebtcBOo/gf4Hib4u7.D2byx8ni7gKuWu\",\"updated_at\":\"2024-05-09T15:42:03Z\"},\"CoVPTXb7xbNxSQSSsbVAcg\":{\"token\":\"$2a$10$ClT8MwLA2rhCRmB3EkUnUebkgIpMYuDZLu0ol7lhggU0jN3Cuzsga\",\"expiry\":1716479117,\"previous_token\":\"$2a$10$Cl1LxrnRQPDndmDsD4eey.4dGddA7hTv6FAYQ8jiP8ipIHbLJp24G\",\"last_token\":\"$2a$10$utYd5hbbL0bAyEn6ygjjy.yKsGtgfPYqoiyviwFDfB8oMNwpKSm6W\",\"updated_at\":\"2024-05-09T15:45:17Z\"},\"A3-niiKWqiQBMI2BFQGV_w\":{\"token\":\"$2a$10$RDjtPzyCW2X.jlbVzfOoXufF23kXtY7qfQ8ikNN844L0dIl2rK6bK\",\"expiry\":1716484595,\"previous_token\":\"$2a$10$2cM6i7lMCRCRURdNKA1gReyAT6r/dGrjunlYSX2Zkgr7tQNyRxkLa\",\"last_token\":\"$2a$10$cMCJQ9WMQt7oeVN0JnZmuuCPlkxACiFnelskQzMt5UNYs9xxdkte2\",\"updated_at\":\"2024-05-09T17:16:35Z\"},\"xMVMCZ2vD_K0oQ2Ezavz9w\":{\"token\":\"$2a$10$71of/QFzHmxijsQ8gdRAzOZdMlyFEWKw.kp0F2OXEausw3kRBVhje\",\"expiry\":1716485220,\"previous_token\":\"$2a$10$vCcpkKn5bPJZ.5Z9M0uiKOx77tsOT0.xIiSH5n60TMRbWtk/xvfOG\",\"last_token\":\"$2a$10$1Y9DmaKlAV.aJMuMdouoPe0srKgb9FTnFag71eDZkeH5y5K9MAzA.\",\"updated_at\":\"2024-05-09T17:27:03Z\"},\"Cn74wkWEbHjK2eCh0rcXJA\":{\"token\":\"$2a$10$6smHAAIjGJNAQ8SeoWKHJOim0WfgmJCJEu.no0YDJ9DvwwWtDAeZ.\",\"expiry\":1716485341,\"previous_token\":\"$2a$10$1VMSvPdbCDFU7WumrSH3e.kb5JyDyX9pnUBfiYCVDUTb9FbGszQYe\",\"last_token\":\"$2a$10$QZP88lr/FkMzX8MfRCdwOuRTtoGGH0pzRDr5T52P92wPBnnfQ5C5.\",\"updated_at\":\"2024-05-09T17:29:01Z\"},\"VpxZXIIe6e4HR1g3-HAo0w\":{\"token\":\"$2a$10$TtOwkY9Wv/XJg9f311e1heQGMct674pbDAb6gUPL96TZ1pMQfv/Jq\",\"expiry\":1716485518,\"previous_token\":\"$2a$10$rsC7tr/oOM1FwGLYPqVnCOMD4Pj2s0mPcErZ7MX2s3.0SCWtT9ajq\",\"last_token\":\"$2a$10$olCdr7gvYOArL.U12zeAu.3DKSuv7chYcHLL3FsOK005MbI4Q9uYi\",\"updated_at\":\"2024-05-09T17:31:58Z\"},\"wLdmzM8zEawUa9drMUJxpw\":{\"token\":\"$2a$10$PHXiNMsF8uwwLqMQKvf8U.Ovk5mbP3LwUkjjYbuRYgVmeNGpsN502\",\"expiry\":1716648139},\"NYodMSGU7iV5O2jsKEw9eA\":{\"token\":\"$2a$10$gvm0DC0pLU7km84l8U2CyuySDJ8yhsTLxpAsy18lLRNjJmuJ6dIJq\",\"expiry\":1716648152},\"k9ruad_4p4jyw6niops2ag\":{\"token\":\"$2a$10$9E4B9oJflVGY4Hb/9ARlVe.ts5cu.63KOfCAJEj//.2ZQNSav4GPC\",\"expiry\":1716648391}}"], ["updated_at", "2024-05-11 14:46:31.411334"], ["id", 3]]
  [1m[35m (12.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 505ms (Views: 0.3ms | ActiveRecord: 14.8ms | Allocations: 17447)


Started GET "/auth/validate_token" for ::1 at 2024-05-11 23:46:31 +0900
  
ActionController::RoutingError (No route matches [GET] "/auth/validate_token"):
  
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for ::1 at 2024-05-11 23:46:31 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-11 23:46:31 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/api/messages" for ::1 at 2024-05-11 23:46:31 +0900
Processing by Api::MessagesController#index as HTML
Filter chain halted as :authenticate_api_user! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 209)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-11 23:46:55 +0900
RoomChannel stopped streaming from room_channel
Started POST "/api/auth/sign_in" for ::1 at 2024-05-11 23:46:58 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"KMMzeCp4ZBBmMSmwa7TAdw\":{\"token\":\"$2a$10$y4tOhWOcNUW7891xwDF.o.37kX.6iZeuJVy3aOibmqMoKwvLw.WEy\",\"expiry\":1716478922,\"previous_token\":\"$2a$10$CDhYlwwtn/3IgnQ7Coc2lO3.LCPP8U69jATtwwscn8wYcRX8SlZiy\",\"last_token\":\"$2a$10$ewSWruJ3V4CFeoVS6og68ebtcBOo/gf4Hib4u7.D2byx8ni7gKuWu\",\"updated_at\":\"2024-05-09T15:42:03Z\"},\"CoVPTXb7xbNxSQSSsbVAcg\":{\"token\":\"$2a$10$ClT8MwLA2rhCRmB3EkUnUebkgIpMYuDZLu0ol7lhggU0jN3Cuzsga\",\"expiry\":1716479117,\"previous_token\":\"$2a$10$Cl1LxrnRQPDndmDsD4eey.4dGddA7hTv6FAYQ8jiP8ipIHbLJp24G\",\"last_token\":\"$2a$10$utYd5hbbL0bAyEn6ygjjy.yKsGtgfPYqoiyviwFDfB8oMNwpKSm6W\",\"updated_at\":\"2024-05-09T15:45:17Z\"},\"A3-niiKWqiQBMI2BFQGV_w\":{\"token\":\"$2a$10$RDjtPzyCW2X.jlbVzfOoXufF23kXtY7qfQ8ikNN844L0dIl2rK6bK\",\"expiry\":1716484595,\"previous_token\":\"$2a$10$2cM6i7lMCRCRURdNKA1gReyAT6r/dGrjunlYSX2Zkgr7tQNyRxkLa\",\"last_token\":\"$2a$10$cMCJQ9WMQt7oeVN0JnZmuuCPlkxACiFnelskQzMt5UNYs9xxdkte2\",\"updated_at\":\"2024-05-09T17:16:35Z\"},\"xMVMCZ2vD_K0oQ2Ezavz9w\":{\"token\":\"$2a$10$71of/QFzHmxijsQ8gdRAzOZdMlyFEWKw.kp0F2OXEausw3kRBVhje\",\"expiry\":1716485220,\"previous_token\":\"$2a$10$vCcpkKn5bPJZ.5Z9M0uiKOx77tsOT0.xIiSH5n60TMRbWtk/xvfOG\",\"last_token\":\"$2a$10$1Y9DmaKlAV.aJMuMdouoPe0srKgb9FTnFag71eDZkeH5y5K9MAzA.\",\"updated_at\":\"2024-05-09T17:27:03Z\"},\"Cn74wkWEbHjK2eCh0rcXJA\":{\"token\":\"$2a$10$6smHAAIjGJNAQ8SeoWKHJOim0WfgmJCJEu.no0YDJ9DvwwWtDAeZ.\",\"expiry\":1716485341,\"previous_token\":\"$2a$10$1VMSvPdbCDFU7WumrSH3e.kb5JyDyX9pnUBfiYCVDUTb9FbGszQYe\",\"last_token\":\"$2a$10$QZP88lr/FkMzX8MfRCdwOuRTtoGGH0pzRDr5T52P92wPBnnfQ5C5.\",\"updated_at\":\"2024-05-09T17:29:01Z\"},\"VpxZXIIe6e4HR1g3-HAo0w\":{\"token\":\"$2a$10$TtOwkY9Wv/XJg9f311e1heQGMct674pbDAb6gUPL96TZ1pMQfv/Jq\",\"expiry\":1716485518,\"previous_token\":\"$2a$10$rsC7tr/oOM1FwGLYPqVnCOMD4Pj2s0mPcErZ7MX2s3.0SCWtT9ajq\",\"last_token\":\"$2a$10$olCdr7gvYOArL.U12zeAu.3DKSuv7chYcHLL3FsOK005MbI4Q9uYi\",\"updated_at\":\"2024-05-09T17:31:58Z\"},\"wLdmzM8zEawUa9drMUJxpw\":{\"token\":\"$2a$10$PHXiNMsF8uwwLqMQKvf8U.Ovk5mbP3LwUkjjYbuRYgVmeNGpsN502\",\"expiry\":1716648139},\"NYodMSGU7iV5O2jsKEw9eA\":{\"token\":\"$2a$10$gvm0DC0pLU7km84l8U2CyuySDJ8yhsTLxpAsy18lLRNjJmuJ6dIJq\",\"expiry\":1716648152},\"k9ruad_4p4jyw6niops2ag\":{\"token\":\"$2a$10$9E4B9oJflVGY4Hb/9ARlVe.ts5cu.63KOfCAJEj//.2ZQNSav4GPC\",\"expiry\":1716648391},\"ex_v2sUL3bMrxTV6gxZHbw\":{\"token\":\"$2a$10$/1GgTSUqLMMUNS04jeA0suW3xonmzyglBB.y5iIB0H9j5eUsTaJki\",\"expiry\":1716648418}}"], ["updated_at", "2024-05-11 14:46:58.815137"], ["id", 3]]
  [1m[35m (11.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 581ms (Views: 0.3ms | ActiveRecord: 12.7ms | Allocations: 11502)


Started GET "/api/auth/validate_token" for ::1 at 2024-05-11 23:46:58 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 151ms (Views: 0.4ms | ActiveRecord: 0.5ms | Allocations: 3483)


Started GET "/cable" for ::1 at 2024-05-11 23:46:59 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-11 23:46:59 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/api/messages" for ::1 at 2024-05-11 23:46:59 +0900
Processing by Api::MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/api/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 64ms (Views: 2.1ms | ActiveRecord: 2.8ms | Allocations: 17809)


Started POST "/api/messages/28/likes" for ::1 at 2024-05-11 23:47:02 +0900
Processing by Api::LikesController#create as HTML
  Parameters: {"id"=>"28", "like"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/api/likes_controller.rb:8:in `create'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  ↳ app/controllers/api/likes_controller.rb:8:in `create'
  [1m[36mLike Create (3.4ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "message_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["message_id", 28], ["created_at", "2024-05-11 14:47:02.058933"], ["updated_at", "2024-05-11 14:47:02.058933"]]
  ↳ app/controllers/api/likes_controller.rb:8:in `create'
  [1m[35m (16.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/likes_controller.rb:8:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 77ms (Views: 0.9ms | ActiveRecord: 22.0ms | Allocations: 10102)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/api/messages" for ::1 at 2024-05-11 23:47:02 +0900
Processing by Api::MessagesController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/api/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 40ms (Views: 3.5ms | ActiveRecord: 2.1ms | Allocations: 7764)


Started PUT "/api/messages/22" for ::1 at 2024-05-11 23:47:10 +0900
Processing by Api::MessagesController#update as HTML
  Parameters: {"content"=>"aaaa", "id"=>"22", "message"=>{"content"=>"aaaa"}}
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/api/messages_controller.rb:23:in `update'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/messages_controller.rb:24:in `update'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/api/messages_controller.rb:24:in `update'
  [1m[36mMessage Update (0.8ms)[0m  [1m[33mUPDATE "messages" SET "content" = ?, "updated_at" = ? WHERE "messages"."id" = ?[0m  [["content", "aaaa"], ["updated_at", "2024-05-11 14:47:10.514945"], ["id", 22]]
  ↳ app/controllers/api/messages_controller.rb:24:in `update'
  [1m[35m (13.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/messages_controller.rb:24:in `update'
Completed 200 OK in 44ms (Views: 0.9ms | ActiveRecord: 15.2ms | Allocations: 6495)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/api/messages" for ::1 at 2024-05-11 23:47:10 +0900
Processing by Api::MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/api/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 39ms (Views: 5.1ms | ActiveRecord: 1.7ms | Allocations: 7996)


Started GET "/api/auth/validate_token" for ::1 at 2024-05-11 23:48:14 +0900
  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
NameError (uninitialized constant ApplicationController
Did you mean?  ApplicationRecord):
  
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:282:in `const_get'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:282:in `block in constantize'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:280:in `each'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:280:in `inject'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:280:in `constantize'
activesupport (6.0.6.1) lib/active_support/core_ext/string/inflections.rb:68:in `constantize'
devise (4.9.4) app/controllers/devise_controller.rb:4:in `<main>'
bootsnap (1.18.3) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
bootsnap (1.18.3) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
zeitwerk (2.6.13) lib/zeitwerk/kernel.rb:26:in `require'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/application_controller.rb:4:in `<module:DeviseTokenAuth>'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/application_controller.rb:3:in `<main>'
bootsnap (1.18.3) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
bootsnap (1.18.3) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
zeitwerk (2.6.13) lib/zeitwerk/kernel.rb:26:in `require'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/token_validations_controller.rb:4:in `<module:DeviseTokenAuth>'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/token_validations_controller.rb:3:in `<main>'
bootsnap (1.18.3) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
bootsnap (1.18.3) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
zeitwerk (2.6.13) lib/zeitwerk/kernel.rb:26:in `require'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:284:in `const_get'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:284:in `block in constantize'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:280:in `each'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:280:in `inject'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:280:in `constantize'
activesupport (6.0.6.1) lib/active_support/dependencies/zeitwerk_integration.rb:19:in `constantize'
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:89:in `controller_class_for'
actionpack (6.0.6.1) lib/action_dispatch/http/parameters.rb:100:in `binary_params_for?'
actionpack (6.0.6.1) lib/action_dispatch/http/parameters.rb:91:in `set_binary_encoding'
actionpack (6.0.6.1) lib/action_dispatch/http/parameters.rb:69:in `path_parameters='
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:47:in `block in serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
activerecord (6.0.6.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for ::1 at 2024-05-11 23:48:14 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-11 23:48:14 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/api/messages" for ::1 at 2024-05-11 23:48:14 +0900
  
NameError (uninitialized constant ApplicationController
Did you mean?  ApplicationRecord):
  
app/controllers/api/messages_controller.rb:1:in `<main>'
Finished "/cable/" [WebSocket] for ::1 at 2024-05-11 23:48:18 +0900
RoomChannel stopped streaming from room_channel
Started POST "/api/auth/sign_in" for ::1 at 2024-05-11 23:48:20 +0900
  
NameError (uninitialized constant ApplicationController
Did you mean?  ApplicationRecord):
  
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:282:in `const_get'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:282:in `block in constantize'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:280:in `each'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:280:in `inject'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:280:in `constantize'
activesupport (6.0.6.1) lib/active_support/core_ext/string/inflections.rb:68:in `constantize'
devise (4.9.4) app/controllers/devise_controller.rb:4:in `<main>'
bootsnap (1.18.3) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
bootsnap (1.18.3) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
zeitwerk (2.6.13) lib/zeitwerk/kernel.rb:26:in `require'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/application_controller.rb:4:in `<module:DeviseTokenAuth>'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/application_controller.rb:3:in `<main>'
bootsnap (1.18.3) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
bootsnap (1.18.3) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
zeitwerk (2.6.13) lib/zeitwerk/kernel.rb:26:in `require'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/sessions_controller.rb:5:in `<module:DeviseTokenAuth>'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/sessions_controller.rb:4:in `<main>'
bootsnap (1.18.3) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
bootsnap (1.18.3) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
zeitwerk (2.6.13) lib/zeitwerk/kernel.rb:26:in `require'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:284:in `const_get'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:284:in `block in constantize'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:280:in `each'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:280:in `inject'
activesupport (6.0.6.1) lib/active_support/inflector/methods.rb:280:in `constantize'
activesupport (6.0.6.1) lib/active_support/dependencies/zeitwerk_integration.rb:19:in `constantize'
actionpack (6.0.6.1) lib/action_dispatch/http/request.rb:89:in `controller_class_for'
actionpack (6.0.6.1) lib/action_dispatch/http/parameters.rb:100:in `binary_params_for?'
actionpack (6.0.6.1) lib/action_dispatch/http/parameters.rb:91:in `set_binary_encoding'
actionpack (6.0.6.1) lib/action_dispatch/http/parameters.rb:69:in `path_parameters='
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:47:in `block in serve'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.6.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.6.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.9) lib/rack/etag.rb:27:in `call'
rack (2.2.9) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.9) lib/rack/head.rb:12:in `call'
activerecord (6.0.6.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.6.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.6.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.6.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.6.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.6.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.6.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.6.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (6.0.6.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/api/auth/sign_in" for ::1 at 2024-05-11 23:48:40 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"CoVPTXb7xbNxSQSSsbVAcg\":{\"token\":\"$2a$10$ClT8MwLA2rhCRmB3EkUnUebkgIpMYuDZLu0ol7lhggU0jN3Cuzsga\",\"expiry\":1716479117,\"previous_token\":\"$2a$10$Cl1LxrnRQPDndmDsD4eey.4dGddA7hTv6FAYQ8jiP8ipIHbLJp24G\",\"last_token\":\"$2a$10$utYd5hbbL0bAyEn6ygjjy.yKsGtgfPYqoiyviwFDfB8oMNwpKSm6W\",\"updated_at\":\"2024-05-09T15:45:17Z\"},\"A3-niiKWqiQBMI2BFQGV_w\":{\"token\":\"$2a$10$RDjtPzyCW2X.jlbVzfOoXufF23kXtY7qfQ8ikNN844L0dIl2rK6bK\",\"expiry\":1716484595,\"previous_token\":\"$2a$10$2cM6i7lMCRCRURdNKA1gReyAT6r/dGrjunlYSX2Zkgr7tQNyRxkLa\",\"last_token\":\"$2a$10$cMCJQ9WMQt7oeVN0JnZmuuCPlkxACiFnelskQzMt5UNYs9xxdkte2\",\"updated_at\":\"2024-05-09T17:16:35Z\"},\"xMVMCZ2vD_K0oQ2Ezavz9w\":{\"token\":\"$2a$10$71of/QFzHmxijsQ8gdRAzOZdMlyFEWKw.kp0F2OXEausw3kRBVhje\",\"expiry\":1716485220,\"previous_token\":\"$2a$10$vCcpkKn5bPJZ.5Z9M0uiKOx77tsOT0.xIiSH5n60TMRbWtk/xvfOG\",\"last_token\":\"$2a$10$1Y9DmaKlAV.aJMuMdouoPe0srKgb9FTnFag71eDZkeH5y5K9MAzA.\",\"updated_at\":\"2024-05-09T17:27:03Z\"},\"Cn74wkWEbHjK2eCh0rcXJA\":{\"token\":\"$2a$10$6smHAAIjGJNAQ8SeoWKHJOim0WfgmJCJEu.no0YDJ9DvwwWtDAeZ.\",\"expiry\":1716485341,\"previous_token\":\"$2a$10$1VMSvPdbCDFU7WumrSH3e.kb5JyDyX9pnUBfiYCVDUTb9FbGszQYe\",\"last_token\":\"$2a$10$QZP88lr/FkMzX8MfRCdwOuRTtoGGH0pzRDr5T52P92wPBnnfQ5C5.\",\"updated_at\":\"2024-05-09T17:29:01Z\"},\"VpxZXIIe6e4HR1g3-HAo0w\":{\"token\":\"$2a$10$TtOwkY9Wv/XJg9f311e1heQGMct674pbDAb6gUPL96TZ1pMQfv/Jq\",\"expiry\":1716485518,\"previous_token\":\"$2a$10$rsC7tr/oOM1FwGLYPqVnCOMD4Pj2s0mPcErZ7MX2s3.0SCWtT9ajq\",\"last_token\":\"$2a$10$olCdr7gvYOArL.U12zeAu.3DKSuv7chYcHLL3FsOK005MbI4Q9uYi\",\"updated_at\":\"2024-05-09T17:31:58Z\"},\"wLdmzM8zEawUa9drMUJxpw\":{\"token\":\"$2a$10$PHXiNMsF8uwwLqMQKvf8U.Ovk5mbP3LwUkjjYbuRYgVmeNGpsN502\",\"expiry\":1716648139},\"NYodMSGU7iV5O2jsKEw9eA\":{\"token\":\"$2a$10$gvm0DC0pLU7km84l8U2CyuySDJ8yhsTLxpAsy18lLRNjJmuJ6dIJq\",\"expiry\":1716648152},\"k9ruad_4p4jyw6niops2ag\":{\"token\":\"$2a$10$9E4B9oJflVGY4Hb/9ARlVe.ts5cu.63KOfCAJEj//.2ZQNSav4GPC\",\"expiry\":1716648391},\"ex_v2sUL3bMrxTV6gxZHbw\":{\"token\":\"$2a$10$/1GgTSUqLMMUNS04jeA0suW3xonmzyglBB.y5iIB0H9j5eUsTaJki\",\"expiry\":1716648418},\"qQzK8B1jsqIuCWFnnW5thA\":{\"token\":\"$2a$10$XtYjkRF8TqgyS5zQL.LqWOpIN5QpjHfR1YyFusQoIUiJo.tI8pGqa\",\"expiry\":1716648521}}"], ["updated_at", "2024-05-11 14:48:41.590104"], ["id", 3]]
  [1m[35m (9.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 508ms (Views: 0.3ms | ActiveRecord: 11.4ms | Allocations: 18593)


Started GET "/api/auth/validate_token" for ::1 at 2024-05-11 23:48:41 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 121ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 3472)


Started POST "/api/auth/sign_in" for ::1 at 2024-05-11 23:48:41 +0900
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "session"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "test@test.com"], ["provider", "email"], ["LIMIT", 1]]
[31mUnpermitted parameter: :session[0m
[31mUnpermitted parameter: :session[0m
Started GET "/cable" for ::1 at 2024-05-11 23:48:41 +0900
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-11 23:48:41 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/api/messages" for ::1 at 2024-05-11 23:48:41 +0900
Processing by Api::MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/api/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 43ms (Views: 1.6ms | ActiveRecord: 2.0ms | Allocations: 18140)


  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "{\"A3-niiKWqiQBMI2BFQGV_w\":{\"token\":\"$2a$10$RDjtPzyCW2X.jlbVzfOoXufF23kXtY7qfQ8ikNN844L0dIl2rK6bK\",\"expiry\":1716484595,\"previous_token\":\"$2a$10$2cM6i7lMCRCRURdNKA1gReyAT6r/dGrjunlYSX2Zkgr7tQNyRxkLa\",\"last_token\":\"$2a$10$cMCJQ9WMQt7oeVN0JnZmuuCPlkxACiFnelskQzMt5UNYs9xxdkte2\",\"updated_at\":\"2024-05-09T17:16:35Z\"},\"xMVMCZ2vD_K0oQ2Ezavz9w\":{\"token\":\"$2a$10$71of/QFzHmxijsQ8gdRAzOZdMlyFEWKw.kp0F2OXEausw3kRBVhje\",\"expiry\":1716485220,\"previous_token\":\"$2a$10$vCcpkKn5bPJZ.5Z9M0uiKOx77tsOT0.xIiSH5n60TMRbWtk/xvfOG\",\"last_token\":\"$2a$10$1Y9DmaKlAV.aJMuMdouoPe0srKgb9FTnFag71eDZkeH5y5K9MAzA.\",\"updated_at\":\"2024-05-09T17:27:03Z\"},\"Cn74wkWEbHjK2eCh0rcXJA\":{\"token\":\"$2a$10$6smHAAIjGJNAQ8SeoWKHJOim0WfgmJCJEu.no0YDJ9DvwwWtDAeZ.\",\"expiry\":1716485341,\"previous_token\":\"$2a$10$1VMSvPdbCDFU7WumrSH3e.kb5JyDyX9pnUBfiYCVDUTb9FbGszQYe\",\"last_token\":\"$2a$10$QZP88lr/FkMzX8MfRCdwOuRTtoGGH0pzRDr5T52P92wPBnnfQ5C5.\",\"updated_at\":\"2024-05-09T17:29:01Z\"},\"VpxZXIIe6e4HR1g3-HAo0w\":{\"token\":\"$2a$10$TtOwkY9Wv/XJg9f311e1heQGMct674pbDAb6gUPL96TZ1pMQfv/Jq\",\"expiry\":1716485518,\"previous_token\":\"$2a$10$rsC7tr/oOM1FwGLYPqVnCOMD4Pj2s0mPcErZ7MX2s3.0SCWtT9ajq\",\"last_token\":\"$2a$10$olCdr7gvYOArL.U12zeAu.3DKSuv7chYcHLL3FsOK005MbI4Q9uYi\",\"updated_at\":\"2024-05-09T17:31:58Z\"},\"wLdmzM8zEawUa9drMUJxpw\":{\"token\":\"$2a$10$PHXiNMsF8uwwLqMQKvf8U.Ovk5mbP3LwUkjjYbuRYgVmeNGpsN502\",\"expiry\":1716648139},\"NYodMSGU7iV5O2jsKEw9eA\":{\"token\":\"$2a$10$gvm0DC0pLU7km84l8U2CyuySDJ8yhsTLxpAsy18lLRNjJmuJ6dIJq\",\"expiry\":1716648152},\"k9ruad_4p4jyw6niops2ag\":{\"token\":\"$2a$10$9E4B9oJflVGY4Hb/9ARlVe.ts5cu.63KOfCAJEj//.2ZQNSav4GPC\",\"expiry\":1716648391},\"ex_v2sUL3bMrxTV6gxZHbw\":{\"token\":\"$2a$10$/1GgTSUqLMMUNS04jeA0suW3xonmzyglBB.y5iIB0H9j5eUsTaJki\",\"expiry\":1716648418},\"qQzK8B1jsqIuCWFnnW5thA\":{\"token\":\"$2a$10$XtYjkRF8TqgyS5zQL.LqWOpIN5QpjHfR1YyFusQoIUiJo.tI8pGqa\",\"expiry\":1716648521},\"uGrXbTnSiGj2T4N1m8Ua6w\":{\"token\":\"$2a$10$KFzLVuIYuCWFeXvV9YAI3uYMkAR0J/QPlquMVfgllTpZpCvhmru0S\",\"expiry\":1716648522}}"], ["updated_at", "2024-05-11 14:48:42.390255"], ["id", 3]]
  [1m[35m (10.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 660ms (Views: 0.5ms | ActiveRecord: 11.7ms | Allocations: 32944)


Finished "/cable/" [WebSocket] for ::1 at 2024-05-11 23:48:44 +0900
RoomChannel stopped streaming from room_channel
Started GET "/api/auth/validate_token" for ::1 at 2024-05-12 03:31:18 +0900
  [1m[35m (3.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 121ms (Views: 0.9ms | ActiveRecord: 8.6ms | Allocations: 9075)


Started GET "/api/auth/validate_token" for ::1 at 2024-05-12 03:31:19 +0900
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 14ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2908)


Started GET "/cable" for ::1 at 2024-05-12 03:31:19 +0900
Started GET "/cable/" [WebSocket] for ::1 at 2024-05-12 03:31:19 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel
Started GET "/api/messages" for ::1 at 2024-05-12 03:31:19 +0900
Processing by Api::MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (2.9ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/api/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 79ms (Views: 1.3ms | ActiveRecord: 4.3ms | Allocations: 17888)


Started DELETE "/api/likes/22" for ::1 at 2024-05-12 03:31:30 +0900
Processing by Api::LikesController#destroy as HTML
  Parameters: {"id"=>"22"}
  [1m[36mLike Load (0.9ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/api/likes_controller.rb:16:in `destroy'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/likes_controller.rb:18:in `destroy'
  [1m[36mLike Destroy (2.2ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = ?[0m  [["id", 22]]
  ↳ app/controllers/api/likes_controller.rb:18:in `destroy'
  [1m[35m (12.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/likes_controller.rb:18:in `destroy'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/api/likes_controller.rb:19:in `destroy'
Completed 200 OK in 30ms (Views: 0.2ms | ActiveRecord: 16.0ms | Allocations: 5760)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/api/messages" for ::1 at 2024-05-12 03:31:30 +0900
Processing by Api::MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/api/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 13ms (Views: 1.4ms | ActiveRecord: 0.9ms | Allocations: 7650)


Started DELETE "/api/likes/15" for ::1 at 2024-05-12 03:31:32 +0900
Processing by Api::LikesController#destroy as HTML
  Parameters: {"id"=>"15"}
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/api/likes_controller.rb:16:in `destroy'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/likes_controller.rb:18:in `destroy'
  [1m[36mLike Destroy (0.5ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = ?[0m  [["id", 15]]
  ↳ app/controllers/api/likes_controller.rb:18:in `destroy'
  [1m[35m (11.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/likes_controller.rb:18:in `destroy'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/api/likes_controller.rb:19:in `destroy'
Completed 200 OK in 25ms (Views: 0.3ms | ActiveRecord: 12.4ms | Allocations: 5103)


RoomChannel#receive({"email"=>"test@test.com"})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:12:in `receive'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:13:in `receive'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/channels/room_channel.rb:13:in `receive'
[ActionCable] Broadcasting to room_channel: {:message=>nil, :name=>"test001", :created_at=>nil}
RoomChannel transmitting {"message"=>nil, "name"=>"test001", "created_at"=>nil} (via streamed from room_channel)
Started GET "/api/messages" for ::1 at 2024-05-12 03:31:32 +0900
Processing by Api::MessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[34mSELECT "messages"."id" AS t0_r0, "messages"."user_id" AS t0_r1, "messages"."content" AS t0_r2, "messages"."created_at" AS t0_r3, "messages"."updated_at" AS t0_r4, "users"."id" AS t1_r0, "users"."provider" AS t1_r1, "users"."uid" AS t1_r2, "users"."encrypted_password" AS t1_r3, "users"."name" AS t1_r4, "users"."email" AS t1_r5, "users"."tokens" AS t1_r6, "users"."created_at" AS t1_r7, "users"."updated_at" AS t1_r8, "likes"."id" AS t2_r0, "likes"."user_id" AS t2_r1, "likes"."message_id" AS t2_r2, "likes"."created_at" AS t2_r3, "likes"."updated_at" AS t2_r4, "users_likes"."id" AS t3_r0, "users_likes"."provider" AS t3_r1, "users_likes"."uid" AS t3_r2, "users_likes"."encrypted_password" AS t3_r3, "users_likes"."name" AS t3_r4, "users_likes"."email" AS t3_r5, "users_likes"."tokens" AS t3_r6, "users_likes"."created_at" AS t3_r7, "users_likes"."updated_at" AS t3_r8 FROM "messages" LEFT OUTER JOIN "users" ON "users"."id" = "messages"."user_id" LEFT OUTER JOIN "likes" ON "likes"."message_id" = "messages"."id" LEFT OUTER JOIN "users" "users_likes" ON "users_likes"."id" = "likes"."user_id"[0m
  ↳ app/controllers/api/messages_controller.rb:6:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 16ms (Views: 2.1ms | ActiveRecord: 1.0ms | Allocations: 7585)


